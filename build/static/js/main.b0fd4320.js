/*! For license information please see main.b0fd4320.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(Pe(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,_t,xt,Et,St,Ct=!1,It=[],Tt=null,Pt=null,Nt=null,At=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Nt&&jt(Nt)&&(Nt=null),At.forEach(Vt),Dt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),null!==Nt&&Ut(Nt,e),At.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var zt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Kt(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(gn),kn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var Cn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Cn),Tn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Sr("animationend"),Ir=Sr("animationiteration"),Tr=Sr("animationstart"),Pr=Sr("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Or=Ar[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=be(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Cr:case Ir:case Tr:u=yn;break;case Pr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,w)).length&&(w=new kn(w,e,null,n,i),o.push({event:w,listeners:y}),g?w.data=g:null!==(g=Un(n))&&(w.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ci(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ti=Ei(Ii),Pi=Ei(!1),Ni=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Pi),Si(Ti)}function Oi(e,t,n){if(Ti.current!==Ii)throw Error(a(168));Ci(Ti,t),Ci(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ti.current,Ci(Ti,e),Ci(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Pi),Si(Ti),Ci(Ti,e)):Si(Pi),Ci(Pi,n)}var ji=null,Vi=!1,Bi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,qi),i}finally{wt=t,Bi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,wa=null,ka=null;function ba(){ka=wa=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ka=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ga)throw Error(a(308));wa=e,ga.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var Ca=null;function Ia(e){null===Ca?Ca=[e]:Ca.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ti.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var w=d(i,v,g.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=o(w,s,m),null===f?l=w:f.sibling=w,f=w,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ci(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,wo=!1,ko=0,bo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),wo){o=0;do{if(wo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(wo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Pa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Io().memoizedState}function Uo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Uo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{wt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){wo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Bo,useState:function(){return Po(To)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ou,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ou,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ou,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ou,Ru),Ru|=r;return bs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Di(n)?Ni:Ti.current;return a=Ai(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ws(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ai(t,c=Di(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Na?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ai(t,u=Di(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Ds,Rs,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Pi),Si(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&w(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Rs(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Pi),Si(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),we(u,s);var l=we(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):w(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Su=Math.ceil,Cu=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Pu=0,Nu=null,Au=null,Du=0,Ru=0,Ou=Ei(0),Lu=0,Mu=null,Fu=0,ju=0,Vu=0,Bu=null,Uu=null,qu=0,zu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Pu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Du?Du&-Du:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Pu)&&e===Nu||(e===Nu&&(0===(2&Pu)&&(ju|=n),4===Lu&&uc(e,Du)),ic(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(zu=Xe()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Pu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pu;Pu|=2;var o=vc();for(Nu===e&&Du===t||(Wu=null,zu=Xe()+500,dc(e,t));;)try{wc();break}catch(u){pc(e,u)}ba(),Cu.current=o,Pu=i,null!==Au?t=0:(Nu=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Uu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),t);break}_c(e,Uu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),r);break}_c(e,Uu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Vu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Uu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(zu=Xe()+500,Vi&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Pu)&&xc();var t=Pu;Pu|=1;var n=Tu.transition,r=wt;try{if(Tu.transition=null,wt=1,e)return e()}finally{wt=r,Tu.transition=n,0===(6&(Pu=t))&&qi()}}function hc(){Ru=Ou.current,Si(Ou)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Pi),Si(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Au=e=Oc(e.current,null),Du=Ru=t,Lu=0,Mu=null,Vu=ju=Fu=0,Uu=Bu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pc(e,t){for(;;){var n=Au;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,wo=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gu||!Gu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Nu,Du)}function yc(e,t){var n=Pu;Pu|=2;var r=vc();for(Nu===e&&Du===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(ba(),Pu=n,Cu.current=r,null!==Au)throw Error(a(261));return Nu=null,Du=0,Lu}function gc(){for(;null!==Au;)kc(Au)}function wc(){for(;null!==Au&&!Ye();)kc(Au)}function kc(e){var t=Eu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=wt,i=Tu.transition;try{Tu.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=wt;wt=1;var u=Pu;Pu|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wu(n,e,i),$e(),Pu=u,wt=s,Tu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,qi()}(e,t,n,r)}finally{Tu.transition=i,wt=r}return null}function xc(){if(null!==Yu){var e=kt($u),t=Tu.transition,n=wt;try{if(Tu.transition=null,wt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var w=e.current;for(Zs=w;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=w;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Pu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Tu.transition=t}}return!1}function Ec(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>Xe()-qu?dc(e,0):Vu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Pa(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case P:return(e=Dc(13,n,t,i)).elementType=P,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case T:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ha(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Pu)&&(zu=Xe()+500,qi()))}break;case 13:fc((function(){var t=Pa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Pa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Pe=fc;var tl={usingClientEntryPoint:!1,Events:[wi,ki,bi,Ce,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=w.prototype=new g;k.constructor=w,v(k,y.prototype),k.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=P(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&O(b,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,C=-1,I=5,T=-1;function P(){return!(t.unstable_now()-T<I)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof w)x=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){y(N,0)};function R(e){S=e,E||(E=!0,x())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,O(b,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},830:function(e,t,n){var r=n(690).default,i=n(728).default,a=n(588).default,o=n(808).default,s=n(655).default,u=n(389).default,c=n(515).default,l=n(861).default;e.exports=function(){"use strict";var e=100,t={},n=function(){t.previousActiveElement instanceof HTMLElement?(t.previousActiveElement.focus(),t.previousActiveElement=null):document.body&&document.body.focus()},f=function(r){return new Promise((function(i){if(!r)return i();var a=window.scrollX,o=window.scrollY;t.restoreFocusTimeout=setTimeout((function(){n(),i()}),e),window.scrollTo(a,o)}))},h={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},d="swal2-",p=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=d+t,e}),{}),v=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=d+t,e}),{}),m="SweetAlert2:",y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e){console.warn("".concat(m," ").concat("object"===typeof e?e.join(" "):e))},w=function(e){console.error("".concat(m," ").concat(e))},k=[],b=function(e){k.includes(e)||(k.push(e),g(e))},_=function(e,t){b('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},x=function(e){return"function"===typeof e?e():e},E=function(e){return e&&"function"===typeof e.toPromise},S=function(e){return E(e)?e.toPromise():Promise.resolve(e)},C=function(e){return e&&Promise.resolve(e)===e},I=function(){return document.body.querySelector(".".concat(p.container))},T=function(e){var t=I();return t?t.querySelector(e):null},P=function(e){return T(".".concat(e))},N=function(){return P(p.popup)},A=function(){return P(p.icon)},D=function(){return P(p["icon-content"])},R=function(){return P(p.title)},O=function(){return P(p["html-container"])},L=function(){return P(p.image)},M=function(){return P(p["progress-steps"])},F=function(){return P(p["validation-message"])},j=function(){return T(".".concat(p.actions," .").concat(p.confirm))},V=function(){return T(".".concat(p.actions," .").concat(p.cancel))},B=function(){return T(".".concat(p.actions," .").concat(p.deny))},U=function(){return P(p["input-label"])},q=function(){return T(".".concat(p.loader))},z=function(){return P(p.actions)},W=function(){return P(p.footer)},H=function(){return P(p["timer-progress-bar"])},K=function(){return P(p.close)},G='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',Q=function(){var e=N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=N().querySelectorAll(G),r=Array.from(n).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return l(new Set(t.concat(r))).filter((function(e){return de(e)}))},Y=function(){return Z(document.body,p.shown)&&!Z(document.body,p["toast-shown"])&&!Z(document.body,p["no-backdrop"])},$=function(){return N()&&Z(N(),p.toast)},X=function(){return N().hasAttribute("data-loading")},J=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},Z=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},ee=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(p).includes(n)||Object.values(v).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},te=function(e,t,n){if(ee(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return void g("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));ae(e,t.customClass[n])}},ne=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(p.popup," > .").concat(p[t]));case"checkbox":return e.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return e.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return e.querySelector(".".concat(p.popup," > .").concat(p.input))}},re=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ie=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ae=function(e,t){ie(e,t,!0)},oe=function(e,t){ie(e,t,!1)},se=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&Z(i,t))return i}},ue=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},le=function(e){e&&(e.style.display="none")},fe=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},he=function(e,t){t?ce(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):le(e)},de=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},pe=function(){return!de(j())&&!de(B())&&!de(V())},ve=function(e){return!!(e.scrollHeight>e.clientHeight)},me=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H();de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ge=function(){var e=H(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},we=function(){return"undefined"===typeof window||"undefined"===typeof document},ke='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'" id="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label for="').concat(p.checkbox,'" class="').concat(p.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=function(){var e=I();return!!e&&(e.remove(),oe([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)},_e=function(){t.currentInstance.resetValidationMessage()},xe=function(){var e=N(),t=se(e,p.input),n=se(e,p.file),r=e.querySelector(".".concat(p.range," input")),i=e.querySelector(".".concat(p.range," output")),a=se(e,p.select),o=e.querySelector(".".concat(p.checkbox," input")),s=se(e,p.textarea);t.oninput=_e,n.onchange=_e,a.onchange=_e,o.onchange=_e,s.oninput=_e,r.oninput=function(){_e(),i.value=r.value},r.onchange=function(){_e(),i.value=r.value}},Ee=function(e){return"string"===typeof e?document.querySelector(e):e},Se=function(e){var t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=function(e){"rtl"===window.getComputedStyle(e).direction&&ae(I(),p.rtl)},Ie=function(e){var t=be();if(we())w("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=p.container,t&&ae(n,p["no-transition"]),J(n,ke);var r=Ee(e.target);r.appendChild(n),Se(e),Ce(r),xe()}},Te=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Pe(e,t):e&&J(t,e)},Pe=function(e,t){e.jquery?Ne(t,e):J(t,e.toString())},Ne=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Ae=function(){if(we())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof e.style[n])return t[n];return!1}(),De=function(e,t){var n=z(),r=q();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ce(n):le(n),te(n,t,"actions"),Re(n,r,t),J(r,t.loaderHtml),te(r,t,"loader")};function Re(e,t,n){var r=j(),i=B(),a=V();Le(r,"confirm",n),Le(i,"deny",n),Le(a,"cancel",n),Oe(r,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(i,r)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function Oe(e,t,n,r){r.buttonsStyling?(ae([e,t,n],p.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,ae(e,p["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,ae(t,p["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,ae(n,p["default-outline"]))):oe([e,t,n],p.styled)}function Le(e,t,n){he(e,n["show".concat(y(t),"Button")],"inline-block"),J(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=p[t],te(e,n,"".concat(t,"Button")),ae(e,n["".concat(t,"ButtonClass")])}var Me=function(e,t){var n=K();J(n,t.closeButtonHtml),te(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},Fe=function(e,t){var n=I();n&&(je(n,t.backdrop),Ve(n,t.position),Be(n,t.grow),te(n,t,"container"))};function je(e,t){"string"===typeof t?e.style.background=t:t||ae([document.documentElement,document.body],p["no-backdrop"])}function Ve(e,t){t in p?ae(e,p[t]):(g('The "position" parameter is not valid, defaulting to "center"'),ae(e,p.center))}function Be(e,t){if(t&&"string"===typeof t){var n="grow-".concat(t);n in p&&ae(e,p[n])}}var Ue=["input","file","range","select","radio","checkbox","textarea"],qe=function(e,t){var n=N(),r=h.innerParams.get(e),i=!r||t.input!==r.input;Ue.forEach((function(e){var r=se(n,p[e]);He(e,t.inputAttributes),r.className=p[e],i&&le(r)})),t.input&&(i&&ze(t),Ke(t))},ze=function(e){if(Xe[e.input]){var t=Ye(e.input),n=Xe[e.input](t,e);ce(t),e.inputAutoFocus&&setTimeout((function(){re(n)}))}else w('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},We=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},He=function(e,t){var n=ne(N(),e);if(n)for(var r in We(n),t)n.setAttribute(r,t[r])},Ke=function(e){var t=Ye(e.input);"object"===typeof e.customClass&&ae(t,e.customClass.input)},Ge=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Qe=function(e,t,n){if(n.inputLabel){e.id=p.input;var r=document.createElement("label"),i=p["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&ae(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ye=function(e){return se(N(),p[e]||p.input)},$e=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):C(t)||g('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=function(e,t){return $e(e,t.inputValue),Qe(e,e,t),Ge(e,t),e.type=t.input,e},Xe.file=function(e,t){return Qe(e,e,t),Ge(e,t),e},Xe.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return $e(n,t.inputValue),n.type=t.input,$e(r,t.inputValue),Qe(n,e,t),e},Xe.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");J(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Qe(e,e,t),e},Xe.radio=function(e){return e.textContent="",e},Xe.checkbox=function(e,t){var n=ne(N(),"checkbox");n.value="1",n.id=p.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return J(r,t.inputPlaceholder),n},Xe.textarea=function(e,t){$e(e,t.inputValue),Ge(e,t),Qe(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(N()).width);new MutationObserver((function(){var r=e.offsetWidth+n(e);N().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var Je=function(e,t){var n=O();te(n,t,"htmlContainer"),t.html?(Te(t.html,n),ce(n,"block")):t.text?(n.textContent=t.text,ce(n,"block")):le(n),qe(e,t)},Ze=function(e,t){var n=W();n&&(he(n,t.footer),t.footer&&Te(t.footer,n),te(n,t,"footer"))},et=function(e,t){var n=h.innerParams.get(e),r=A();if(n&&t.icon===n.icon)return at(r,t),void tt(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(v).indexOf(t.icon))return w('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void le(r);ce(r),at(r,t),tt(r,t),ae(r,t.showClass.icon)}else le(r)},tt=function(e,t){for(var n in v)t.icon!==n&&oe(e,v[n]);ae(e,v[t.icon]),ot(e,t),nt(),te(e,t,"icon")},nt=function(){for(var e=N(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},rt='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',it='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',at=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=st(t.iconHtml):"success"===t.icon?(n=rt,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?it:st({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&J(e,n)},ot=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];fe(e,i,"backgroundColor",t.iconColor)}fe(e,".swal2-success-ring","borderColor",t.iconColor)}},st=function(e){return'<div class="'.concat(p["icon-content"],'">').concat(e,"</div>")},ut=function(e,t){var n=L();n&&(t.imageUrl?(ce(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ue(n,"width",t.imageWidth),ue(n,"height",t.imageHeight),n.className=p.image,te(n,t,"image")):le(n))},ct=function(e,t){var n=I(),r=N();if(n&&r){if(t.toast){ue(n,"width",t.width),r.style.width="100%";var i=q();i&&r.insertBefore(i,A())}else ue(r,"width",t.width);ue(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),le(F()),lt(r,t)}},lt=function(e,t){var n=t.showClass||{};e.className="".concat(p.popup," ").concat(de(e)?n.popup:""),t.toast?(ae([document.documentElement,document.body],p["toast-shown"]),ae(e,p.toast)):ae(e,p.modal),te(e,t,"popup"),"string"===typeof t.customClass&&ae(e,t.customClass),t.icon&&ae(e,p["icon-".concat(t.icon)])},ft=function(e,t){var n=M();if(n){var r=t.progressSteps,i=t.currentProgressStep;r&&0!==r.length&&void 0!==i?(ce(n),n.textContent="",i>=r.length&&g("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((function(e,a){var o=ht(e);if(n.appendChild(o),a===i&&ae(o,p["active-progress-step"]),a!==r.length-1){var s=dt(t);n.appendChild(s)}}))):le(n)}},ht=function(e){var t=document.createElement("li");return ae(t,p["progress-step"]),J(t,e),t},dt=function(e){var t=document.createElement("li");return ae(t,p["progress-step-line"]),e.progressStepsDistance&&ue(t,"width",e.progressStepsDistance),t},pt=function(e,t){var n=R();n&&(he(n,t.title||t.titleText,"block"),t.title&&Te(t.title,n),t.titleText&&(n.innerText=t.titleText),te(n,t,"title"))},vt=function(e,t){ct(e,t),Fe(e,t),ft(e,t),et(e,t),ut(e,t),pt(e,t),Me(e,t),Je(e,t),De(e,t),Ze(e,t),"function"===typeof t.didRender&&t.didRender(N())},mt=function(){return de(N())},yt=function(){return j()&&j().click()},gt=function(){return B()&&B().click()},wt=function(){return V()&&V().click()},kt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},_t=function(e,t,n,r){bt(t),n.toast||(t.keydownHandler=function(t){return Ct(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:N(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},xt=function(e,t){var n=Q();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();N().focus()},Et=["ArrowRight","ArrowDown"],St=["ArrowLeft","ArrowUp"],Ct=function(e,t,n){var r=h.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?It(e,t,r):"Tab"===t.key?Tt(t):[].concat(Et,St).includes(t.key)?Pt(t.key):"Escape"===t.key&&Nt(t,r,n)))},It=function(e,t,n){if(x(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;yt(),t.preventDefault()}},Tt=function(e){for(var t=e.target,n=Q(),r=-1,i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?xt(r,-1):xt(r,1),e.stopPropagation(),e.preventDefault()},Pt=function(e){var t=[j(),B(),V()];if(!(document.activeElement instanceof HTMLElement)||t.includes(document.activeElement)){for(var n=Et.includes(e)?"nextElementSibling":"previousElementSibling",r=document.activeElement,i=0;i<z().children.length;i++){if(!(r=r[n]))return;if(r instanceof HTMLButtonElement&&de(r))break}r instanceof HTMLButtonElement&&r.focus()}},Nt=function(e,t,n){x(t.allowEscapeKey)&&(e.preventDefault(),n(kt.esc))},At={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Dt=function(){Array.from(document.body.children).forEach((function(e){e===I()||e.contains(I())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Rt=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Ot=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Z(document.body,p.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ae(document.body,p.iosfix),Mt(),Lt()}},Lt=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){var r=44;N().scrollHeight>window.innerHeight-r&&(I().style.paddingBottom="".concat(r,"px"))}},Mt=function(){var e,t=I();t.ontouchstart=function(t){e=Ft(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},Ft=function(e){var t=e.target,n=I();return!jt(e)&&!Vt(e)&&(t===n||!ve(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!ve(O())||!O().contains(t)))},jt=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Vt=function(e){return e.touches&&e.touches.length>1},Bt=function(){if(Z(document.body,p.iosfix)){var e=parseInt(document.body.style.top,10);oe(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ut=function(){var e=document.createElement("div");e.className=p["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},qt=null,zt=function(){null===qt&&document.body.scrollHeight>window.innerHeight&&(qt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qt+Ut(),"px"))},Wt=function(){null!==qt&&(document.body.style.paddingRight="".concat(qt,"px"),qt=null)};function Ht(e,n,r,i){$()?en(e,i):(f(r).then((function(){return en(e,i)})),bt(t)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(n.setAttribute("style","display:none !important"),n.removeAttribute("class"),n.innerHTML=""):n.remove(),Y()&&(Wt(),Bt(),Rt()),Kt()}function Kt(){oe([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Gt(e){e=Xt(e);var t=At.swalPromiseResolve.get(this),n=Qt(this);this.isAwaitingPromise?e.isDismissed||($t(this),t(e)):n&&t(e)}var Qt=function(e){var t=N();if(!t)return!1;var n=h.innerParams.get(e);if(!n||Z(t,n.hideClass.popup))return!1;oe(t,n.showClass.popup),ae(t,n.hideClass.popup);var r=I();return oe(r,n.showClass.backdrop),ae(r,n.hideClass.backdrop),Jt(e,t,n),!0};function Yt(e){var t=At.swalPromiseReject.get(this);$t(this),t&&t(e)}var $t=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,h.innerParams.get(e)||e._destroy())},Xt=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},Jt=function(e,t,n){var r=I(),i=Ae&&me(t);"function"===typeof n.willClose&&n.willClose(t),i?Zt(e,t,r,n.returnFocus,n.didClose):Ht(e,r,n.returnFocus,n.didClose)},Zt=function(e,n,r,i,a){t.swalCloseEventFinishedCallback=Ht.bind(null,e,r,i,a),n.addEventListener(Ae,(function(e){e.target===n&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback)}))},en=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},tn=function(e){var t=N();t||new ei,t=N();var n=q();$()?le(A()):nn(t,e),ce(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nn=function(e,t){var n=z(),r=q();!t&&de(j())&&(t=j()),ce(n),t&&(le(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),ae([e,n],p.loading)},rn=function(e,t){"select"===t.input||"radio"===t.input?cn(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(E(t.inputValue)||C(t.inputValue))&&(tn(j()),ln(e,t))},an=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return on(n);case"radio":return sn(n);case"file":return un(n);default:return t.inputAutoTrim?n.value.trim():n.value}},on=function(e){return e.checked?1:0},sn=function(e){return e.checked?e.value:null},un=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},cn=function(e,t){var n=N(),r=function(e){fn[t.input](n,hn(e),t)};E(t.inputOptions)||C(t.inputOptions)?(tn(j()),S(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):w("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},ln=function(e,t){var n=e.getInput();le(n),S(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),ce(n),n.focus(),e.hideLoading()})).catch((function(t){w("Error in inputValue promise: ".concat(t)),n.value="",ce(n),n.focus(),e.hideLoading()}))},fn={select:function(e,t,n){var r=se(e,p.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,J(i,t),i.selected=dn(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=se(e,p.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=p.radio,a.value=t,dn(t,n.inputValue)&&(a.checked=!0);var s=document.createElement("span");J(s,i),s.className=p.label,o.appendChild(a),o.appendChild(s),r.appendChild(o)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},hn=function e(t){var n=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"===typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"===typeof i&&(i=e(i)),n.push([r,i])})),n},dn=function(e,t){return t&&t.toString()===e.toString()},pn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.input?yn(e,"confirm"):_n(e,!0)},vn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?yn(e,"deny"):wn(e,!1)},mn=function(e,t){e.disableButtons(),t(kt.cancel)},yn=function(e,t){var n=h.innerParams.get(e);if(n.input){var r=an(e,n);n.inputValidator?gn(e,r,t):e.getInput().checkValidity()?"deny"===t?wn(e,r):_n(e,r):(e.enableButtons(),e.showValidationMessage(n.validationMessage))}else w('The "input" parameter is needed to be set when using returnInputValueOn'.concat(y(t)))},gn=function(e,t,n){var r=h.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return S(r.inputValidator(t,r.validationMessage))})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?wn(e,t):_n(e,t)}))},wn=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnDeny&&tn(B()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return S(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),$t(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((function(t){return bn(e||void 0,t)}))):e.close({isDenied:!0,value:t})},kn=function(e,t){e.close({isConfirmed:!0,value:t})},bn=function(e,t){e.rejectPromise(t)},_n=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return S(n.preConfirm(t,n.validationMessage))})).then((function(n){de(F())||!1===n?(e.hideLoading(),$t(e)):kn(e,"undefined"===typeof n?t:n)})).catch((function(t){return bn(e||void 0,t)}))):kn(e,t)};function xn(){var e=h.innerParams.get(this);if(e){var t=h.domCache.get(this);le(t.loader),$()?e.icon&&ce(A()):En(t),oe([t.popup,t.actions],p.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var En=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ce(t[0],"inline-block"):pe()&&le(e.actions)};function Sn(){var e=h.innerParams.get(this),t=h.domCache.get(this);return t?ne(t.popup,e.input):null}function Cn(e,t,n){var r=h.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function In(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}function Tn(){Cn(this,["confirmButton","denyButton","cancelButton"],!1)}function Pn(){Cn(this,["confirmButton","denyButton","cancelButton"],!0)}function Nn(){In(this.getInput(),!1)}function An(){In(this.getInput(),!0)}function Dn(e){var t=h.domCache.get(this),n=h.innerParams.get(this);J(t.validationMessage,e),t.validationMessage.className=p["validation-message"],n.customClass&&n.customClass.validationMessage&&ae(t.validationMessage,n.customClass.validationMessage),ce(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",p["validation-message"]),re(r),ae(r,p.inputerror))}function Rn(){var e=h.domCache.get(this);e.validationMessage&&le(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),oe(t,p.inputerror))}var On={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ln=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mn={},Fn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jn=function(e){return Object.prototype.hasOwnProperty.call(On,e)},Vn=function(e){return-1!==Ln.indexOf(e)},Bn=function(e){return Mn[e]},Un=function(e){jn(e)||g('Unknown parameter "'.concat(e,'"'))},qn=function(e){Fn.includes(e)&&g('The parameter "'.concat(e,'" is incompatible with toasts'))},zn=function(e){var t=Bn(e);t&&_(e,t)},Wn=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&g('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Un(t),e.toast&&qn(t),zn(t)};function Hn(e){var t=N(),n=h.innerParams.get(this);if(t&&!Z(t,n.hideClass.popup)){var r=Kn(e),i=Object.assign({},n,r);vt(this,i),h.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else g("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Kn=function(e){var t={};return Object.keys(e).forEach((function(n){Vn(n)?t[n]=e[n]:g("Invalid parameter to update: ".concat(n))})),t};function Gn(){var e=h.domCache.get(this),n=h.innerParams.get(this);n?(e.popup&&t.swalCloseEventFinishedCallback&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),Qn(this)):Yn(this)}var Qn=function(e){Yn(e),delete e.params,delete t.keydownHandler,delete t.keydownTarget,delete t.currentInstance},Yn=function(e){e.isAwaitingPromise?($n(h,e),e.isAwaitingPromise=!0):($n(At,e),$n(h,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},$n=function(e,t){for(var n in e)e[n].delete(t)},Xn=Object.freeze({__proto__:null,_destroy:Gn,close:Gt,closeModal:Gt,closePopup:Gt,closeToast:Gt,disableButtons:Pn,disableInput:An,disableLoading:xn,enableButtons:Tn,enableInput:Nn,getInput:Sn,handleAwaitingPromise:$t,hideLoading:xn,rejectPromise:Yt,resetValidationMessage:Rn,showValidationMessage:Dn,update:Hn}),Jn=function(e,t,n){h.innerParams.get(e).toast?Zn(e,t,n):(nr(t),rr(t),ir(e,t,n))},Zn=function(e,t,n){t.popup.onclick=function(){var t=h.innerParams.get(e);t&&(er(t)||t.timer||t.input)||n(kt.close)}},er=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},tr=!1,nr=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(tr=!0)}}},rr=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(tr=!0)}}},ir=function(e,t,n){t.container.onclick=function(r){var i=h.innerParams.get(e);tr?tr=!1:r.target===t.container&&x(i.allowOutsideClick)&&n(kt.backdrop)}},ar=function(e){return"object"===typeof e&&e.jquery},or=function(e){return e instanceof Element||ar(e)},sr=function(e){var t={};return"object"!==typeof e[0]||or(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"===typeof i||or(i)?t[n]=i:void 0!==i&&w("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t};function ur(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}function cr(e){var t=function(t){s(c,t);var n=u(c);function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"_main",value:function(t,n){return a(o(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var lr=function(){return t.timeout&&t.timeout.getTimerLeft()},fr=function(){if(t.timeout)return ge(),t.timeout.stop()},hr=function(){if(t.timeout){var e=t.timeout.start();return ye(e),e}},dr=function(){var e=t.timeout;return e&&(e.running?fr():hr())},pr=function(e){if(t.timeout){var n=t.timeout.increase(e);return ye(n,!0),n}},vr=function(){return t.timeout&&t.timeout.isRunning()},mr=!1,yr={};function gr(){yr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,mr||(document.body.addEventListener("click",kr),mr=!0)}var wr,kr=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in yr){var r=t.getAttribute(n);if(r)return void yr[n].fire({template:r})}},br=Object.freeze({__proto__:null,argsToParams:sr,bindClickHandler:gr,clickCancel:wt,clickConfirm:yt,clickDeny:gt,enableLoading:tn,fire:ur,getActions:z,getCancelButton:V,getCloseButton:K,getConfirmButton:j,getContainer:I,getDenyButton:B,getFocusableElements:Q,getFooter:W,getHtmlContainer:O,getIcon:A,getIconContent:D,getImage:L,getInputLabel:U,getLoader:q,getPopup:N,getProgressSteps:M,getTimerLeft:lr,getTimerProgressBar:H,getTitle:R,getValidationMessage:F,increaseTimer:pr,isDeprecatedParameter:Bn,isLoading:X,isTimerRunning:vr,isUpdatableParameter:Vn,isValidParameter:jn,isVisible:mt,mixin:cr,resumeTimer:hr,showLoading:tn,stopTimer:fr,toggleTimer:dr}),_r=function(){function e(t,n){r(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),xr=["swal-title","swal-html","swal-footer"],Er=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Dr(n),Object.assign(Sr(n),Cr(n),Ir(n),Tr(n),Pr(n),Nr(n),Ar(n,xr))},Sr=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Rr(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"===typeof On[n]?t[n]="false"!==r:"object"===typeof On[n]?t[n]=JSON.parse(r):t[n]=r})),t},Cr=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]=new Function("return ".concat(r))()})),t},Ir=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Rr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(y(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Tr=function(e){var t={},n=e.querySelector("swal-image");return n&&(Rr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Pr=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Rr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Nr=function(e){var t={},n=e.querySelector("swal-input");n&&(Rr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){Rr(e,["value"]);var n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Ar=function(e,t){var n={};for(var r in t){var i=t[r],a=e.querySelector(i);a&&(Rr(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Dr=function(e){var t=xr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||g("Unrecognized element <".concat(n,">"))}))},Rr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&g(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Or=10,Lr=function(e){var n=I(),r=N();"function"===typeof e.willOpen&&e.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;Vr(n,r,e),setTimeout((function(){Fr(n,r)}),Or),Y()&&(jr(n,e.scrollbarPadding,i),Dt()),$()||t.previousActiveElement||(t.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(r)})),oe(n,p["no-transition"])},Mr=function e(t){var n=N();if(t.target===n){var r=I();n.removeEventListener(Ae,e),r.style.overflowY="auto"}},Fr=function(e,t){Ae&&me(t)?(e.style.overflowY="hidden",t.addEventListener(Ae,Mr)):e.style.overflowY="auto"},jr=function(e,t,n){Ot(),t&&"hidden"!==n&&zt(),setTimeout((function(){e.scrollTop=0}))},Vr=function(e,t,n){ae(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ce(t,"grid"),setTimeout((function(){ae(t,n.showClass.popup),t.style.removeProperty("opacity")}),Or),ae([document.documentElement,document.body],p.shown),n.heightAuto&&n.backdrop&&!n.toast&&ae([document.documentElement,document.body],p["height-auto"])},Br={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Ur(e){e.inputValidator||Object.keys(Br).forEach((function(t){e.input===t&&(e.inputValidator=Br[t])}))}function qr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(g('Target parameter is not valid, defaulting to "body"'),e.target="body")}function zr(e){Ur(e),e.showLoaderOnConfirm&&!e.preConfirm&&g("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),qr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ie(e)}var Wr=function(){function e(){if(r(this,e),"undefined"!==typeof window){wr=this;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Object.freeze(this.constructor.argsToParams(n));this.params=a,this.isAwaitingPromise=!1;var o=wr._main(wr.params);h.promise.set(this,o)}}return i(e,[{key:"_main",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wn(Object.assign({},n,e)),t.currentInstance&&(t.currentInstance._destroy(),Y()&&Rt()),t.currentInstance=wr;var r=Kr(e,n);zr(r),Object.freeze(r),t.timeout&&(t.timeout.stop(),delete t.timeout),clearTimeout(t.restoreFocusTimeout);var i=Gr(wr);return vt(wr,r),h.innerParams.set(wr,r),Hr(wr,i,r)}},{key:"then",value:function(e){return h.promise.get(this).then(e)}},{key:"finally",value:function(e){return h.promise.get(this).finally(e)}}]),e}(),Hr=function(e,n,r){return new Promise((function(i,a){var o=function(t){e.close({isDismissed:!0,dismiss:t})};At.swalPromiseResolve.set(e,i),At.swalPromiseReject.set(e,a),n.confirmButton.onclick=function(){pn(e)},n.denyButton.onclick=function(){vn(e)},n.cancelButton.onclick=function(){mn(e,o)},n.closeButton.onclick=function(){o(kt.close)},Jn(e,n,o),_t(e,t,r,o),rn(e,r),Lr(r),Qr(t,r,o),Yr(n,r),setTimeout((function(){n.container.scrollTop=0}))}))},Kr=function(e,t){var n=Er(e),r=Object.assign({},On,t,n,e);return r.showClass=Object.assign({},On.showClass,r.showClass),r.hideClass=Object.assign({},On.hideClass,r.hideClass),r},Gr=function(e){var t={popup:N(),container:I(),actions:z(),confirmButton:j(),denyButton:B(),cancelButton:V(),loader:q(),closeButton:K(),validationMessage:F(),progressSteps:M()};return h.domCache.set(e,t),t},Qr=function(e,t,n){var r=H();le(r),t.timer&&(e.timeout=new _r((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ce(r),te(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&ye(t.timer)}))))},Yr=function(e,t){t.toast||(x(t.allowEnterKey)?$r(e,t)||xt(-1,1):Xr())},$r=function(e,t){return t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0)},Xr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){var Jr=new Date,Zr=localStorage.getItem("swal-initiation");Zr?(Jr.getTime()-Date.parse(Zr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat(Jr))}Wr.prototype.disableButtons=Pn,Wr.prototype.enableButtons=Tn,Wr.prototype.getInput=Sn,Wr.prototype.disableInput=An,Wr.prototype.enableInput=Nn,Wr.prototype.hideLoading=xn,Wr.prototype.disableLoading=xn,Wr.prototype.showValidationMessage=Dn,Wr.prototype.resetValidationMessage=Rn,Wr.prototype.close=Gt,Wr.prototype.closePopup=Gt,Wr.prototype.closeModal=Gt,Wr.prototype.closeToast=Gt,Wr.prototype.rejectPromise=Yt,Wr.prototype.update=Hn,Wr.prototype._destroy=Gn,Object.assign(Wr,br),Object.keys(Xn).forEach((function(e){Wr[e]=function(){var t;return wr&&wr[e]?(t=wr)[e].apply(t,arguments):null}})),Wr.DismissReason=kt,Wr.version="11.7.10";var ei=Wr;return ei.default=ei,ei}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},391:function(e){"use strict";var t=function(){};e.exports=t},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},515:function(e,t,n){var r=n(15),i=n(617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var r=n(62);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),a=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},588:function(e,t,n){var r=n(753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},753:function(e,t,n){var r=n(808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Cr},SDK_VERSION:function(){return Zi},_DEFAULT_ENTRY_NAME:function(){return Bi},_addComponent:function(){return Wi},_addOrOverwriteComponent:function(){return Hi},_apps:function(){return qi},_clearComponents:function(){return Yi},_components:function(){return zi},_getProvider:function(){return Gi},_registerComponent:function(){return Ki},_removeServiceInstance:function(){return Qi},deleteApp:function(){return ra},getApp:function(){return ta},getApps:function(){return na},initializeApp:function(){return ea},onLog:function(){return oa},registerVersion:function(){return aa},setLogLevel:function(){return sa}});var t=n(791),r=n(250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function l(e,t){if(null==e)return{};var n,r,i=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(694),h=n.n(f),d=n(184),p=["xxl","xl","lg","md","sm","xs"],v=t.createContext({prefixes:{},breakpoints:p,minBreakpoint:"xs"});v.Consumer,v.Provider;function m(e,n){var r=(0,t.useContext)(v).prefixes;return e||r[n]||n}function y(){return(0,t.useContext)(v).breakpoints}function g(){return(0,t.useContext)(v).minBreakpoint}var w=["bsPrefix","fluid","as","className"],k=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,c=l(e,w),f=m(n,"container"),p="string"===typeof i?"-".concat(i):"-fluid";return(0,d.jsx)(o,u(u({ref:t},c),{},{className:h()(s,i?"".concat(f).concat(p):f)}))}));k.displayName="Container";var b=k;n(573);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}n(176);function x(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function E(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function S(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[x(i)],u=o[i],l=c(o,[x(i),i].map(E)),f=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[f]),d=h[0],p=h[1];return _({},l,((a={})[i]=d,a[f]=p,a))}),e)}function C(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function I(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function T(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}C.__suppressDeprecationWarning=!0,I.__suppressDeprecationWarning=!0,T.__suppressDeprecationWarning=!0;var P=Function.prototype.bind.call(Function.prototype.call,[].slice);function N(e,t){return P(e.querySelectorAll(t))}var A=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var D=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=A(e),r=A(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},R=t.createContext(null);R.displayName="NavContext";var O=R,L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},M=t.createContext(null),F=t.createContext(null),j="data-rr-ui-";function V(e){return"".concat(j).concat(e)}function B(e){if(Array.isArray(e))return e}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){return B(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||q(e,t)||z()}var H=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function K(e){var n=H(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var G=["as","disabled"];function Q(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var Y=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,G),a=W(Q(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,d.jsx)(s,Object.assign({},i,o,{ref:t}))}));Y.displayName="Button";var $=Y,X=["as","active","eventKey"];function J(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(M),c=(0,t.useContext)(O),l=(0,t.useContext)(F),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[V("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=K((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:f}]}var Z=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?$:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,X),s=W(J(Object.assign({key:L(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[V("active")]=c.isActive,(0,d.jsx)(r,Object.assign({},o,u,{ref:t}))}));Z.displayName="NavItem";var ee=Z,te=["as","onSelect","activeKey","role","onKeyDown"];var ne=function(){},re=V("event-key"),ie=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,te),h=(0,t.useReducer)((function(e){return!e}),!1)[1],p=(0,t.useRef)(!1),v=(0,t.useContext)(M),m=(0,t.useContext)(F);m&&(c=c||"tablist",u=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,t.useRef)(null),g=function(e){var t=y.current;if(!t)return null;var n=N(t,"[".concat(re,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},w=function(e,t){null!=e&&(null==s||s(e,t),null==v||v(e,t))};(0,t.useEffect)((function(){if(y.current&&p.current){var e=y.current.querySelector("[".concat(re,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var k=D(n,y);return(0,d.jsx)(M.Provider,{value:w,children:(0,d.jsx)(O.Provider,{value:{role:c,activeKey:L(u),getControlledId:r||ne,getControllerId:i||ne},children:(0,d.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),m){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),w(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,h()}},ref:k,role:c}))})})}));ie.displayName="Nav";var ae=Object.assign(ie,{Item:ee}),oe=t.createContext(null);oe.displayName="NavbarContext";var se=oe,ue=t.createContext(null);ue.displayName="CardHeaderContext";var ce=ue,le=/-(.)/g;var fe=["className","bsPrefix","as"],he=function(e){return e[0].toUpperCase()+(t=e,t.replace(le,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function de(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?he(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,c=void 0===s?a||"div":s,f=l(t,fe),p=u(u({},o),f),v=m(i,e);return(0,d.jsx)(c,u({ref:n,className:h()(r,v)},p))}));return s.displayName=i,s}var pe=de("nav-item");var ve="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,me="undefined"!==typeof document||ve?t.useLayoutEffect:t.useEffect;new WeakMap;var ye=["onKeyDown"];var ge=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ye),a=W(Q(Object.assign({tagName:"a"},i)),1)[0],o=K((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,d.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,d.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ge.displayName="Anchor";var we=ge,ke=["bsPrefix","className","as","active","eventKey","disabled"],be=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?we:i,o=e.active,s=e.eventKey,c=e.disabled,f=void 0!==c&&c,p=l(e,ke);n=m(n,"nav-link");var v=W(J(u({key:L(s,p.href),active:o,disabled:f},p)),2),y=v[0],g=v[1];return(0,d.jsx)(a,u(u(u({},p),y),{},{ref:t,disabled:f,className:h()(r,n,f&&"disabled",g.isActive&&"active")}))}));be.displayName="NavLink";var _e=be,xe=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ee=t.forwardRef((function(e,n){var r,i,a,s=S(e,{activeKey:"onSelect"}),c=s.as,f=void 0===c?"div":c,p=s.bsPrefix,v=s.variant,y=s.fill,g=void 0!==y&&y,w=s.justify,k=void 0!==w&&w,b=s.navbar,_=s.navbarScroll,x=s.className,E=s.activeKey,C=l(s,xe),I=m(p,"nav"),T=!1,P=(0,t.useContext)(se),N=(0,t.useContext)(ce);return P?(i=P.bsPrefix,T=null==b||b):N&&(a=N.cardHeaderBsPrefix),(0,d.jsx)(ae,u({as:f,ref:n,activeKey:E,className:h()(x,(r={},o(r,I,!T),o(r,"".concat(i,"-nav"),T),o(r,"".concat(i,"-nav-scroll"),T&&_),o(r,"".concat(a,"-").concat(v),!!a),o(r,"".concat(I,"-").concat(v),!!v),o(r,"".concat(I,"-fill"),g),o(r,"".concat(I,"-justified"),k),r))},C))}));Ee.displayName="Nav";var Se=Object.assign(Ee,{Item:pe,Link:_e}),Ce=["bsPrefix","className","as"],Ie=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=l(e,Ce);n=m(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,d.jsx)(o,u(u({},a),{},{ref:t,className:h()(r,n)}))}));Ie.displayName="NavbarBrand";var Te=Ie;function Pe(e){return e&&e.ownerDocument||document}function Ne(e,t){return function(e){var t=Pe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ae=/([A-Z])/g;var De=/^ms-/;function Re(e){return function(e){return e.replace(Ae,"-$1").toLowerCase()}(e).replace(De,"-ms-")}var Oe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Le=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Re(t))||Ne(e).getPropertyValue(Re(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Oe.test(e))}(i)?n+=Re(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Re(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}var Fe=n(164),je=!1,Ve=t.createContext(null),Be="unmounted",Ue="exited",qe="entering",ze="entered",We="exiting",He=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ue,r.appearStatus=qe):i=ze:i=t.unmountOnExit||t.mountOnEnter?Be:Ue,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Me(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Be?{status:Ue}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==qe&&n!==ze&&(t=qe):n!==qe&&n!==ze||(t=We)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===qe){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ue&&this.setState({status:Be})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Fe.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||je?this.safeSetState({status:ze},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:qe},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:ze},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Fe.findDOMNode(this);t&&!je?(this.props.onExit(r),this.safeSetState({status:We},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ue},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ue},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Fe.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Be)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,c(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ve.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Ke(){}He.contextType=Ve,He.propTypes={},He.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ke,onEntering:Ke,onEntered:Ke,onExit:Ke,onExiting:Ke,onExited:Ke},He.UNMOUNTED=Be,He.EXITED=Ue,He.ENTERING=qe,He.ENTERED=ze,He.EXITING=We;var Ge=He,Qe=!("undefined"===typeof window||!window.document||!window.document.createElement),Ye=!1,$e=!1;try{var Xe={get passive(){return Ye=!0},get once(){return $e=Ye=!0}};Qe&&(window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,!0))}catch(xG){}var Je=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!$e){var i=r.once,a=r.capture,o=n;!$e&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ye?r:a)}e.addEventListener(t,n,r)};var Ze=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var et=function(e,t,n,r){return Je(e,t,n,r),function(){Ze(e,t,n,r)}};function tt(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=et(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function nt(e,t,n,r){null==n&&(n=function(e){var t=Le(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=tt(e,n,r),a=et(e,"transitionend",t);return function(){i(),a()}}function rt(e,t){var n=Le(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function it(e,t){var n=rt(e,"transitionDuration"),r=rt(e,"transitionDelay"),i=nt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var at=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function ot(e){e.offsetHeight}var st,ut=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ct=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,c=e.onExited,f=e.addEndListener,h=e.children,p=e.childRef,v=l(e,ut),m=(0,t.useRef)(null),y=D(m,p),g=function(e){var t;y((t=e)&&"setState"in t?Fe.findDOMNode(t):null!=t?t:null)},w=function(e){return function(t){e&&m.current&&e(m.current,t)}},k=(0,t.useCallback)(w(r),[r]),b=(0,t.useCallback)(w(i),[i]),_=(0,t.useCallback)(w(a),[a]),x=(0,t.useCallback)(w(o),[o]),E=(0,t.useCallback)(w(s),[s]),S=(0,t.useCallback)(w(c),[c]),C=(0,t.useCallback)(w(f),[f]);return(0,d.jsx)(Ge,u(u({ref:n},v),{},{onEnter:k,onEntered:_,onEntering:b,onExit:x,onExited:S,onExiting:E,addEndListener:C,nodeRef:m,children:"function"===typeof h?function(e,t){return h(e,u(u({},t),{},{ref:g}))}:t.cloneElement(h,{ref:g})}))})),lt=ct,ft=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],ht={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function dt(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ht[e];return n+parseInt(Le(t,r[0]),10)+parseInt(Le(t,r[1]),10)}var pt=(o(st={},Ue,"collapse"),o(st,We,"collapsing"),o(st,qe,"collapsing"),o(st,ze,"collapse show"),st),vt=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,c=e.className,f=e.children,p=e.dimension,v=void 0===p?"height":p,m=e.in,y=void 0!==m&&m,g=e.timeout,w=void 0===g?300:g,k=e.mountOnEnter,b=void 0!==k&&k,_=e.unmountOnExit,x=void 0!==_&&_,E=e.appear,S=void 0!==E&&E,C=e.getDimensionValue,I=void 0===C?dt:C,T=l(e,ft),P="function"===typeof v?v():v,N=(0,t.useMemo)((function(){return at((function(e){e.style[P]="0"}),r)}),[P,r]),A=(0,t.useMemo)((function(){return at((function(e){var t="scroll".concat(P[0].toUpperCase()).concat(P.slice(1));e.style[P]="".concat(e[t],"px")}),i)}),[P,i]),D=(0,t.useMemo)((function(){return at((function(e){e.style[P]=null}),a)}),[P,a]),R=(0,t.useMemo)((function(){return at((function(e){e.style[P]="".concat(I(P,e),"px"),ot(e)}),o)}),[o,I,P]),O=(0,t.useMemo)((function(){return at((function(e){e.style[P]=null}),s)}),[P,s]);return(0,d.jsx)(lt,u(u({ref:n,addEndListener:it},T),{},{"aria-expanded":T.role?y:null,onEnter:N,onEntering:A,onEntered:D,onExit:R,onExiting:O,childRef:f.ref,in:y,timeout:w,mountOnEnter:b,unmountOnExit:x,appear:S,children:function(e,n){return t.cloneElement(f,u(u({},n),{},{className:h()(c,f.props.className,pt[e],"width"===P&&"collapse-horizontal")}))}}))})),mt=vt,yt=["children","bsPrefix"],gt=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=l(e,yt);i=m(i,"navbar-collapse");var o=(0,t.useContext)(se);return(0,d.jsx)(mt,u(u({in:!(!o||!o.expanded)},a),{},{children:(0,d.jsx)("div",{ref:n,className:i,children:r})}))}));gt.displayName="NavbarCollapse";var wt=gt,kt=["bsPrefix","className","children","label","as","onClick"],bt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=void 0===o?"Toggle navigation":o,c=e.as,f=void 0===c?"button":c,p=e.onClick,v=l(e,kt);r=m(r,"navbar-toggler");var y=(0,t.useContext)(se)||{},g=y.onToggle,w=y.expanded,k=K((function(e){p&&p(e),g&&g()}));return"button"===f&&(v.type="button"),(0,d.jsx)(f,u(u({},v),{},{ref:n,onClick:k,"aria-label":s,className:h()(i,r,!w&&"collapsed"),children:a||(0,d.jsx)("span",{className:"".concat(r,"-icon")})}))}));bt.displayName="NavbarToggle";var _t=bt,xt=new WeakMap,Et=function(e,t){if(e&&t){var n=xt.get(t)||new Map;xt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function St(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Et(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return me((function(){var t=Et(e,n);if(!t)return o(!1);var r=xt.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var Ct=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var s,u;"object"===typeof n?(s=n,o=a,a=!0):((u={})[n]=a=a||!0,s=u);var c=(0,t.useMemo)((function(){return Object.entries(s).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(s)]);return St(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),It=Ct;function Tt(e){void 0===e&&(e=Pe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(xG){return e.body}}function Pt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Nt(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function At(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dt(e){return function(e){if(Array.isArray(e))return U(e)}(e)||At(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function Lt(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mt=V("modal-open"),Ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Rt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Lt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=o({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Le(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Mt,""),Le(r,t)}},{key:"reset",value:function(){var e=this;Dt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Mt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),jt=Ft,Vt=(0,t.createContext)(Qe?window:void 0);Vt.Provider;function Bt(){return(0,t.useContext)(Vt)}var Ut=function(e,t){return Qe?null==e?(t||Pe()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var qt=function(e){var n=e.children,r=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,s=(0,t.useRef)(null),u=(0,t.useRef)(r),c=K(i);(0,t.useEffect)((function(){r?u.current=!0:c(s.current)}),[r,c]);var l=D(s,n.ref),f=(0,t.cloneElement)(n,{ref:l});return r?f:o||!u.current&&a?null:f};function zt(e){var n=e.children,r=e.in,i=e.onExited,a=e.onEntered,o=e.transition,s=W((0,t.useState)(!r),2),u=s[0],c=s[1];r&&u&&c(!1);var l=function(e){var n=e.in,r=e.onTransition,i=(0,t.useRef)(null),a=(0,t.useRef)(!0),o=K(r);return me((function(){if(i.current){var e=!1;return o({in:n,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),me((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),f=D(l,n.ref);return u&&!r?null:(0,t.cloneElement)(n,{ref:f})}function Wt(e,t,n){return e?(0,d.jsx)(e,Object.assign({},n)):t?(0,d.jsx)(zt,Object.assign({},n,{transition:t})):(0,d.jsx)(qt,Object.assign({},n))}var Ht,Kt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Gt(e){var n=Bt(),r=e||function(e){return Ht||(Ht=new jt({ownerDocument:null==e?void 0:e.document})),Ht}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var Qt=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,p=void 0===h||h,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.runTransition,w=e.backdropTransition,k=e.runBackdropTransition,b=e.autoFocus,_=void 0===b||b,x=e.enforceFocus,E=void 0===x||x,S=e.restoreFocus,C=void 0===S||S,I=e.restoreFocusOptions,T=e.renderDialog,P=e.renderBackdrop,N=void 0===P?function(e){return(0,d.jsx)("div",Object.assign({},e))}:P,A=e.manager,D=e.container,R=e.onShow,O=e.onHide,L=void 0===O?function(){}:O,M=e.onExit,F=e.onExited,j=e.onExiting,V=e.onEnter,B=e.onEntering,U=e.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Kt),z=function(e,n){var r=Bt(),i=W((0,t.useState)((function(){return Ut(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=Ut(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=Ut(e);t!==a&&o(t)}),[e,a]),a}(D),H=Gt(A),G=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),Q=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),Y=W((0,t.useState)(!i),2),$=Y[0],X=Y[1],J=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return H}),[H]),Qe&&!Q&&i&&(J.current=Tt()),i&&$&&X(!1);var Z=K((function(){if(H.add(),ae.current=et(document,"keydown",re),ie.current=et(document,"focus",(function(){return setTimeout(te)}),!0),R&&R(),_){var e=Tt(document);H.dialog&&e&&!Pt(H.dialog,e)&&(J.current=e,H.dialog.focus())}})),ee=K((function(){var e;(H.remove(),null==ae.current||ae.current(),null==ie.current||ie.current(),C)&&(null==(e=J.current)||null==e.focus||e.focus(I),J.current=null)}));(0,t.useEffect)((function(){i&&z&&Z()}),[i,z,Z]),(0,t.useEffect)((function(){$&&ee()}),[$,ee]),Nt((function(){ee()}));var te=K((function(){if(E&&G()&&H.isTopModal()){var e=Tt();H.dialog&&e&&!Pt(H.dialog,e)&&H.dialog.focus()}})),ne=K((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===f&&L())})),re=K((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&H.isTopModal()&&(null==m||m(e),e.defaultPrevented||L())})),ie=(0,t.useRef)(),ae=(0,t.useRef)();if(!z)return null;var oe=Object.assign({role:o,ref:H.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:u,className:s,tabIndex:-1}),se=T?T(oe):(0,d.jsx)("div",Object.assign({},oe,{children:t.cloneElement(c,{role:"document"})}));se=Wt(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:M,onExiting:j,onExited:function(){X(!0),null==F||F.apply(void 0,arguments)},onEnter:V,onEntering:B,onEntered:U,children:se});var ue=null;return f&&(ue=N({ref:H.setBackdropRef,onClick:ne}),ue=Wt(w,k,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ue})),(0,d.jsx)(d.Fragment,{children:Fe.createPortal((0,d.jsxs)(d.Fragment,{children:[ue,se]}),z)})}));Qt.displayName="Modal";var Yt,$t=Object.assign(Qt,{Manager:jt}),Xt=["className","children","transitionClasses","onEnter"],Jt=(o(Yt={},qe,"show"),o(Yt,ze,"show"),Yt),Zt=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=e.onEnter,c=u({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},l(e,Xt)),f=(0,t.useCallback)((function(e,t){ot(e),null==s||s(e,t)}),[s]);return(0,d.jsx)(lt,u(u({ref:n,addEndListener:it},c),{},{onEnter:f,childRef:i.ref,children:function(e,n){return t.cloneElement(i,u(u({},n),{},{className:h()("fade",r,i.props.className,Jt[e],o[e])}))}}))}));Zt.displayName="Fade";var en,tn=Zt,nn=de("offcanvas-body"),rn=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],an=(o(en={},qe,"show"),o(en,ze,"show"),en),on=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.in,s=void 0!==o&&o,c=e.mountOnEnter,f=void 0!==c&&c,p=e.unmountOnExit,v=void 0!==p&&p,y=e.appear,g=void 0!==y&&y,w=l(e,rn);return r=m(r,"offcanvas"),(0,d.jsx)(lt,u(u({ref:n,addEndListener:it,in:s,mountOnEnter:f,unmountOnExit:v,appear:g},w),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,u(u({},n),{},{className:h()(i,a.props.className,(e===qe||e===We)&&"".concat(r,"-toggling"),an[e])}))}}))}));on.displayName="OffcanvasToggling";var sn=on,un=t.createContext({onHide:function(){}}),cn=n(7),ln=n.n(cn),fn=["className","variant","aria-label"],hn={"aria-label":ln().string,onClick:ln().func,variant:ln().oneOf(["white"])},dn=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=l(e,fn);return(0,d.jsx)("button",u({ref:t,type:"button",className:h()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));dn.displayName="CloseButton",dn.propTypes=hn;var pn=dn,vn=["closeLabel","closeVariant","closeButton","onHide","children"],mn=t.forwardRef((function(e,n){var r=e.closeLabel,i=void 0===r?"Close":r,a=e.closeVariant,o=e.closeButton,s=void 0!==o&&o,c=e.onHide,f=e.children,h=l(e,vn),p=(0,t.useContext)(un),v=K((function(){null==p||p.onHide(),null==c||c()}));return(0,d.jsxs)("div",u(u({ref:n},h),{},{children:[f,s&&(0,d.jsx)(pn,{"aria-label":i,variant:a,onClick:v})]}))})),yn=mn,gn=["bsPrefix","className","closeLabel","closeButton"],wn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,s=void 0!==o&&o,c=l(e,gn);return n=m(n,"offcanvas-header"),(0,d.jsx)(yn,u(u({ref:t},c),{},{className:h()(r,n),closeLabel:a,closeButton:s}))}));wn.displayName="OffcanvasHeader";var kn,bn=wn,_n=(kn="h5",t.forwardRef((function(e,t){return(0,d.jsx)("div",u(u({},e),{},{ref:t,className:h()(e.className,kn)}))}))),xn=de("offcanvas-title",{Component:_n});function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function Sn(){return Sn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Sn.apply(this,arguments)}function Cn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xG){return!1}}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(e){var t=In();return function(){var n,r=En(e);if(t){var a=En(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}(this,n)}}function Nn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var An,Dn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Rn=".sticky-top",On=".navbar-toggler",Ln=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Le(t,o({},e,"".concat(parseFloat(Le(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Le(t,o({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Sn(En(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";N(r,Dn).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),N(r,Rn).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),N(r,On).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Sn(En(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Nn(e.className,t):e.setAttribute("class",Nn(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";N(r,Dn).forEach((function(e){return t.restore(i,e)})),N(r,Rn).forEach((function(e){return t.restore(a,e)})),N(r,On).forEach((function(e){return t.restore(a,e)}))}}]),n}(jt);var Mn=Ln,Fn=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function jn(e){return(0,d.jsx)(sn,u({},e))}function Vn(e){return(0,d.jsx)(tn,u({},e))}var Bn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,c=void 0===s?"start":s,f=e.responsive,p=e.show,v=void 0!==p&&p,y=e.backdrop,g=void 0===y||y,w=e.keyboard,k=void 0===w||w,b=e.scroll,_=void 0!==b&&b,x=e.onEscapeKeyDown,E=e.onShow,S=e.onHide,C=e.container,I=e.autoFocus,T=void 0===I||I,P=e.enforceFocus,N=void 0===P||P,A=e.restoreFocus,D=void 0===A||A,R=e.restoreFocusOptions,O=e.onEntered,L=e.onExit,M=e.onExiting,F=e.onEnter,j=e.onEntering,V=e.onExited,B=e.backdropClassName,U=e.manager,q=e.renderStaticNode,z=void 0!==q&&q,H=l(e,Fn),G=(0,t.useRef)();r=m(r,"offcanvas");var Q=((0,t.useContext)(se)||{}).onToggle,Y=W((0,t.useState)(!1),2),$=Y[0],X=Y[1],J=It(f||"xs","up");(0,t.useEffect)((function(){X(f?v&&!J:v)}),[v,f,J]);var Z=K((function(){null==Q||Q(),null==S||S()})),ee=(0,t.useMemo)((function(){return{onHide:Z}}),[Z]);var te=(0,t.useCallback)((function(e){return(0,d.jsx)("div",u(u({},e),{},{className:h()("".concat(r,"-backdrop"),B)}))}),[B,r]),ne=function(e){return(0,d.jsx)("div",u(u(u({},e),H),{},{className:h()(i,f?"".concat(r,"-").concat(f):r,"".concat(r,"-").concat(c)),"aria-labelledby":o,children:a}))};return(0,d.jsxs)(d.Fragment,{children:[!$&&(f||z)&&ne({}),(0,d.jsx)(un.Provider,{value:ee,children:(0,d.jsx)($t,{show:$,ref:n,backdrop:g,container:C,keyboard:k,autoFocus:T,enforceFocus:N&&!_,restoreFocus:D,restoreFocusOptions:R,onEscapeKeyDown:x,onShow:E,onHide:Z,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==F||F.apply(void 0,[e].concat(n))},onEntering:j,onEntered:O,onExit:L,onExiting:M,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==V||V.apply(void 0,n)},manager:U||(_?(G.current||(G.current=new Mn({handleContainerOverflow:!1})),G.current):function(e){return An||(An=new Ln(e)),An}()),transition:jn,backdropTransition:Vn,renderBackdrop:te,renderDialog:ne})})]})}));Bn.displayName="Offcanvas";var Un=Object.assign(Bn,{Body:nn,Header:bn,Title:xn}),qn=t.forwardRef((function(e,n){var r=(0,t.useContext)(se);return(0,d.jsx)(Un,u(u({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));qn.displayName="NavbarOffcanvas";var zn=qn,Wn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Hn=de("navbar-text",{Component:"span"}),Kn=t.forwardRef((function(e,n){var r=S(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=void 0===a||a,s=r.variant,c=void 0===s?"light":s,f=r.bg,p=r.fixed,v=r.sticky,y=r.className,g=r.as,w=void 0===g?"nav":g,k=r.expanded,b=r.onToggle,_=r.onSelect,x=r.collapseOnSelect,E=void 0!==x&&x,C=l(r,Wn),I=m(i,"navbar"),T=(0,t.useCallback)((function(){null==_||_.apply(void 0,arguments),E&&k&&(null==b||b(!1))}),[_,E,k,b]);void 0===C.role&&"nav"!==w&&(C.role="navigation");var P="".concat(I,"-expand");"string"===typeof o&&(P="".concat(P,"-").concat(o));var N=(0,t.useMemo)((function(){return{onToggle:function(){return null==b?void 0:b(!k)},bsPrefix:I,expanded:!!k,expand:o}}),[I,k,o,b]);return(0,d.jsx)(se.Provider,{value:N,children:(0,d.jsx)(M.Provider,{value:T,children:(0,d.jsx)(w,u(u({ref:n},C),{},{className:h()(y,I,o&&P,c&&"".concat(I,"-").concat(c),f&&"bg-".concat(f),v&&"sticky-".concat(v),p&&"fixed-".concat(p))}))})})}));Kn.displayName="Navbar";var Gn=Object.assign(Kn,{Brand:Te,Collapse:wt,Offcanvas:zn,Text:Hn,Toggle:_t});function Qn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Yn(e,t,n){return Yn=In()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Me(i,n.prototype),i},Yn.apply(null,arguments)}function $n(e){var t="function"===typeof Map?new Map:void 0;return $n=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Yn(e,arguments,En(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Me(n,e)},$n(e)}var Xn=!1,Jn=!1,Zn="${JSCORE_VERSION}",er=function(e,t){if(!e)throw tr(t)},tr=function(e){return new Error("Firebase Database ("+Zn+") INTERNAL ASSERT FAILED: "+e)},nr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ir;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ir=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Lt(n)}($n(Error)),ar=function(e){var t=nr(e);return rr.encodeByteArray(t,!0)},or=function(e){return ar(e).replace(/\./g,"")},sr=function(e){try{return rr.decodeString(e,!0)}catch(xG){console.error("base64Decode failed: ",xG)}return null};function ur(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&cr(n)&&(e[n]=ur(e[n],t[n]));return e}function cr(e){return"__proto__"!==e}var lr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fr=function(){try{return lr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xG){return}var t=e&&sr(e[1]);return t&&JSON.parse(t)}}()}catch(xG){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xG))}},hr=function(e){var t,n;return null===(n=null===(t=fr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},dr=function(){var e;return null===(e=fr())||void 0===e?void 0:e.config},pr=function(e){var t;return null===(t=fr())||void 0===t?void 0:t["_".concat(e)]},vr=function(){function e(){var t=this;Rt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[or(JSON.stringify({alg:"none",type:"JWT"})),or(JSON.stringify(a)),""].join(".")}function yr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function wr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function br(){return!0===Xn||!0===Jn}function _r(){return!function(){var e,t=null===(e=fr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xG){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xr(){try{return"object"===typeof indexedDB}catch(xG){return!1}}function Er(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch($a){t($a)}}))}function Sr(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var Cr=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Tn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Tn(a),Ir.prototype.create),a}return Lt(n)}($n(Error)),Ir=function(){function e(t,n,r){Rt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Tr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Cr(n,a,t)}}]),e}();var Tr=/\{\$([^}]+)}/g;function Pr(e){return JSON.parse(e)}function Nr(e){return JSON.stringify(e)}var Ar=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Pr(sr(a[0])||""),n=Pr(sr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(xG){}return{header:t,claims:n,data:r,signature:i}};function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Or(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Mr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Fr(s)&&Fr(u)){if(!Mr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fr(e){return null!==e&&"object"===typeof e}function jr(e){for(var t=[],n=function(){var e=W(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Vr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=W(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Br(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ur=function(){function e(){Rt(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Lt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function qr(e,t){var n=new zr(e,t);return n.subscribe.bind(n)}var zr=function(){function e(t,n){var r=this;Rt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Qn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Wr),void 0===r.error&&(r.error=Wr),void 0===r.complete&&(r.complete=Wr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(xG){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(xG){"undefined"!==typeof console&&console.error&&console.error(xG)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Wr(){}var Hr=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Kr(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Gr(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Kr(e,t)+"must be a valid function.")}function Qr(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Kr(e,t)+"must be a valid context object.")}var Yr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},$r=1e3,Xr=2,Jr=144e5,Zr=.5;function ei(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r)*Math.pow(t,e),r=Math.round(Zr*n*(Math.random()-.5)*2);return Math.min(Jr,n+r)}function ti(e){return e&&e._delegate?e._delegate:e}function ni(){ni=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(I([])));g&&g!==t&&n.call(g,o)&&(m=g);var w=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,s,u){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==i(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,s,u)}),(function(e){a("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return a("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(b.prototype),c(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),c(w,u,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ri(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch($a){return void n($a)}s.done?t(u):Promise.resolve(u).then(r,i)}function ii(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ri(a,r,i,o,s,"next",e)}function s(e){ri(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ai=function(){function e(t,n,r){Rt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),oi="[DEFAULT]",si=function(){function e(t,n){Rt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new vr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(xG){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xG){if(r)return null;throw xG}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch(xG){}var t,n=Qn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=W(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(xG){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Dt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Dt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Qn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=W(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(YC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===oi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(YC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;return this.component?this.component.multipleInstances?e:oi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ui,ci,li=function(){function e(t){Rt(this,e),this.name=t,this.providers=new Map}return Lt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new si(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),fi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ci||(ci={}));var hi={debug:ci.DEBUG,verbose:ci.VERBOSE,info:ci.INFO,warn:ci.WARN,error:ci.ERROR,silent:ci.SILENT},di=ci.INFO,pi=(o(ui={},ci.DEBUG,"log"),o(ui,ci.VERBOSE,"log"),o(ui,ci.INFO,"info"),o(ui,ci.WARN,"warn"),o(ui,ci.ERROR,"error"),ui),vi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=pi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},mi=function(){function e(t){Rt(this,e),this.name=t,this._logLevel=di,this._logHandler=vi,this._userLogHandler=null,fi.push(this)}return Lt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ci))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?hi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ci.DEBUG].concat(t)),this._logHandler.apply(this,[this,ci.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ci.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ci.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ci.INFO].concat(t)),this._logHandler.apply(this,[this,ci.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ci.WARN].concat(t)),this._logHandler.apply(this,[this,ci.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ci.ERROR].concat(t)),this._logHandler.apply(this,[this,ci.ERROR].concat(t))}}]),e}();var yi,gi,wi=function(e,t){return t.some((function(t){return e instanceof t}))};var ki=new WeakMap,bi=new WeakMap,_i=new WeakMap,xi=new WeakMap,Ei=new WeakMap;var Si={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ci(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gi||(gi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pi(this),n),Ti(ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ti(e.apply(Pi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Pi(this),t].concat(r));return _i.set(a,t.sort?t.sort():[t]),Ti(a)}}function Ii(e){return"function"===typeof e?Ci(e):(e instanceof IDBTransaction&&function(e){if(!bi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));bi.set(e,t)}}(e),wi(e,yi||(yi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Si):e)}function Ti(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ti(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ki.set(t,e)})).catch((function(){})),Ei.set(t,e),t}(e);if(xi.has(e))return xi.get(e);var t=Ii(e);return t!==e&&(xi.set(e,t),Ei.set(t,e)),t}var Pi=function(e){return Ei.get(e)};var Ni,Ai,Di=["get","getKey","getAll","getAllKeys","count"],Ri=["put","add","delete","clear"],Oi=new Map;function Li(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Oi.get(t))return Oi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ri.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Di.includes(n))){var a=function(){var e=ii(ni().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Oi.set(t,a),a}}}Si=function(e){return u(u({},e),{},{get:function(t,n,r){return Li(t,n)||e.get(t,n,r)},has:function(t,n){return!!Li(t,n)||e.has(t,n)}})}(Si);var Mi=function(){function e(t){Rt(this,e),this.container=t}return Lt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Fi="@firebase/app",ji="0.9.10",Vi=new mi("@firebase/app"),Bi="[DEFAULT]",Ui=(o(Ni={},Fi,"fire-core"),o(Ni,"@firebase/app-compat","fire-core-compat"),o(Ni,"@firebase/analytics","fire-analytics"),o(Ni,"@firebase/analytics-compat","fire-analytics-compat"),o(Ni,"@firebase/app-check","fire-app-check"),o(Ni,"@firebase/app-check-compat","fire-app-check-compat"),o(Ni,"@firebase/auth","fire-auth"),o(Ni,"@firebase/auth-compat","fire-auth-compat"),o(Ni,"@firebase/database","fire-rtdb"),o(Ni,"@firebase/database-compat","fire-rtdb-compat"),o(Ni,"@firebase/functions","fire-fn"),o(Ni,"@firebase/functions-compat","fire-fn-compat"),o(Ni,"@firebase/installations","fire-iid"),o(Ni,"@firebase/installations-compat","fire-iid-compat"),o(Ni,"@firebase/messaging","fire-fcm"),o(Ni,"@firebase/messaging-compat","fire-fcm-compat"),o(Ni,"@firebase/performance","fire-perf"),o(Ni,"@firebase/performance-compat","fire-perf-compat"),o(Ni,"@firebase/remote-config","fire-rc"),o(Ni,"@firebase/remote-config-compat","fire-rc-compat"),o(Ni,"@firebase/storage","fire-gcs"),o(Ni,"@firebase/storage-compat","fire-gcs-compat"),o(Ni,"@firebase/firestore","fire-fst"),o(Ni,"@firebase/firestore-compat","fire-fst-compat"),o(Ni,"fire-js","fire-js"),o(Ni,"firebase","fire-js-all"),Ni),qi=new Map,zi=new Map;function Wi(e,t){try{e.container.addComponent(t)}catch(xG){Vi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xG)}}function Hi(e,t){e.container.addOrOverwriteComponent(t)}function Ki(e){var t=e.name;if(zi.has(t))return Vi.debug("There were multiple attempts to register component ".concat(t,".")),!1;zi.set(t,e);var n,r=Qn(qi.values());try{for(r.s();!(n=r.n()).done;){Wi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Gi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bi;Gi(e,t).clearInstance(n)}function Yi(){zi.clear()}var $i=(o(Ai={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),o(Ai,"bad-app-name","Illegal App name: '{$appName}"),o(Ai,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(Ai,"app-deleted","Firebase App named '{$appName}' already deleted"),o(Ai,"no-options","Need to provide options, when not being deployed to hosting via source."),o(Ai,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(Ai,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(Ai,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(Ai,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(Ai,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(Ai,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ai),Xi=new Ir("app","Firebase",$i),Ji=function(){function e(t,n,r){var i=this;Rt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",(function(){return i}),"PUBLIC"))}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}]),e}(),Zi="9.22.0";function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Bi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=dr()),!n)throw Xi.create("no-options");var a=qi.get(i);if(a){if(Mr(n,a.options)&&Mr(r,a.config))return a;throw Xi.create("duplicate-app",{appName:i})}var o,s=new li(i),u=Qn(zi.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ji(n,r,s);return qi.set(i,l),l}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=qi.get(e);if(!t&&e===Bi&&dr())return ea();if(!t)throw Xi.create("no-app",{appName:e});return t}function na(){return Array.from(qi.values())}function ra(e){return ia.apply(this,arguments)}function ia(){return ia=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qi.has(n)){e.next=6;break}return qi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t,n){var r,i=null!==(r=Ui[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vi.warn(s.join(" "))}Ki(new ai("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function oa(e,t){if(null!==e&&"function"!==typeof e)throw Xi.create("invalid-log-argument");!function(e,t){var n,r=Qn(fi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=hi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ci[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function sa(e){var t;t=e,fi.forEach((function(e){e.setLogLevel(t)}))}var ua="firebase-heartbeat-database",ca=1,la="firebase-heartbeat-store",fa=null;function ha(){return fa||(fa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ti(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ti(s.result),e.oldVersion,e.newVersion,Ti(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(ua,ca,{upgrade:function(e,t){if(0===t)e.createObjectStore(la)}}).catch((function(e){throw Xi.create("idb-open",{originalErrorMessage:e.message})}))),fa}function da(e){return pa.apply(this,arguments)}function pa(){return pa=ii(ni().mark((function e(t){var n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ha();case 3:return n=e.sent,e.next=6,n.transaction(la).objectStore(la).get(ya(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Cr?Vi.warn(e.t0.message):(i=Xi.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vi.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=ii(ni().mark((function e(t,n){var r,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ha();case 3:return r=e.sent,i=r.transaction(la,"readwrite"),a=i.objectStore(la),e.next=8,a.put(n,ya(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Cr?Vi.warn(e.t0.message):(o=Xi.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vi.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),ma.apply(this,arguments)}function ya(e){return"".concat(e.name,"!").concat(e.options.appId)}var ga=function(){function e(t){var n=this;Rt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xa(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Lt(e,[{key:"triggerHeartbeat",value:function(){var e=ii(ni().mark((function e(){var t,n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wa(),n=ka(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=or(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wa(){return(new Date).toISOString().substring(0,10)}function ka(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Qn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ea(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ea(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ba,_a,xa=function(){function e(t){Rt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Lt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Er().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,da(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",va(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",va(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Dt(r.heartbeats),Dt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ea(e){return or(JSON.stringify({version:2,heartbeats:e})).length}ba="",Ki(new ai("platform-logger",(function(e){return new Mi(e)}),"PRIVATE")),Ki(new ai("heartbeat",(function(e){return new ga(e)}),"PRIVATE")),aa(Fi,ji,ba),aa(Fi,ji,"esm2017"),aa("fire-js","");var Sa=function(){function e(t,n){var r=this;Rt(this,e),this._delegate=t,this.firebase=n,Wi(t,new ai("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ra(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Wi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Hi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ca=(o(_a={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(_a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_a),Ia=new Ir("app-compat","Firebase",Ca);var Ta=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ea(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Dr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:aa,setLogLevel:sa,onLog:oa,apps:null,SDK_VERSION:Zi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ki(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ia.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ur(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Dr(n,e=e||Bi))throw Ia.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Sa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ur(n,e)},createSubscribe:qr,ErrorFactory:Ir,deepExtend:ur}),n}(),Pa=new mi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Pa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Na=self.firebase.SDK_VERSION;Na&&Na.indexOf("LITE")>=0&&Pa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Aa=Ta;!function(e){aa("@firebase/app-compat","0.2.10",e)}();Aa.registerVersion("firebase","9.22.0","app-compat");var Da="@firebase/database",Ra="0.14.4",Oa="";function La(e){Oa=e}var Ma=function(){function e(t){Rt(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Lt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Pr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Fa=function(){function e(){Rt(this,e),this.cache_={},this.isInMemoryStorage=!0}return Lt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Dr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),ja=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ma(t)}}catch(xG){}return new Fa},Va=ja("localStorage"),Ba=ja("sessionStorage"),Ua=new mi("@firebase/database"),qa=function(){var e=1;return function(){return e++}}(),za=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,er(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ur;n.update(t);var r=n.digest();return rr.encodeByteArray(r)},Wa=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Nr(r):r,t+=" "}return t},Ha=null,Ka=!0,Ga=function(e,t){er(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ua.logLevel=ci.VERBOSE,Ha=Ua.log.bind(Ua),t&&Ba.set("logging_enabled",!0)):"function"===typeof e?Ha=e:(Ha=null,Ba.remove("logging_enabled"))},Qa=function(){if(!0===Ka&&(Ka=!1,null===Ha&&!0===Ba.get("logging_enabled")&&Ga(!0)),Ha){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Wa.apply(null,t);Ha(r)}},Ya=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Qa.apply(void 0,[e].concat(n))}},$a=function(){var e="FIREBASE INTERNAL ERROR: "+Wa.apply(void 0,arguments);Ua.error(e)},Xa=function(){var e="FIREBASE FATAL ERROR: ".concat(Wa.apply(void 0,arguments));throw Ua.error(e),new Error(e)},Ja=function(){var e="FIREBASE WARNING: "+Wa.apply(void 0,arguments);Ua.warn(e)},Za=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},eo="[MIN_NAME]",to="[MAX_NAME]",no=function(e,t){if(e===t)return 0;if(e===eo||t===to)return-1;if(t===eo||e===to)return 1;var n=lo(e),r=lo(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},ro=function(e,t){return e===t?0:e<t?-1:1},io=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Nr(t))},ao=function e(t){if("object"!==typeof t||null===t)return Nr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Nr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},oo=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function so(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var uo=function(e){er(!Za(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var co=new RegExp("^-?(0*)\\d{1,10}$"),lo=function(e){if(co.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},fo=function(e){try{e()}catch(xG){setTimeout((function(){var t=xG.stack||"";throw Ja("Exception was thrown by user callback.",t),xG}),Math.floor(0))}},ho=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},po=function(){function e(t,n){var r=this;Rt(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Ja('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),vo=function(){function e(t,n,r){var i=this;Rt(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Qa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ja(e)}}]),e}(),mo=function(){function e(t){Rt(this,e),this.accessToken=t}return Lt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();mo.OWNER="owner";var yo="5",go=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wo="ac",ko="websocket",bo="long_polling",_o=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Rt(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+t)||this._host}return Lt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function xo(e,t,n){var r;if(er("string"===typeof t,"typeof type must == string"),er("object"===typeof n,"typeof params must == object"),t===ko)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bo)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return so(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Eo=function(){function e(){Rt(this,e),this.counters_={}}return Lt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Dr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ur(void 0,this.counters_)}}]),e}(),So={},Co={};function Io(e){var t=e.toString();return So[t]||(So[t]=new Eo),So[t]}var To=function(){function e(t){Rt(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Lt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&fo((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Po="start",No=function(){function e(t,n,r,i,a,o,s){var u=this;Rt(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ya(t),this.stats_=Io(n),this.urlFn=function(e){return u.appCheckToken&&(e[wo]=u.appCheckToken),xo(n,bo,e)}}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new To(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(br()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ao((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Po)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Po]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=yo,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[wo]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&go.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ar(t),r=oo(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!br()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Nr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!br()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Ao=function(){function e(t,n,r,i){if(Rt(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,br())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=qa(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(xG){Qa("frame writing exception"),xG.stack&&Qa(xG.stack),Qa(xG)}}}return Lt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;br()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Qa("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(xG){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qa("No IE domain setting required")}catch(xG){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Do=null;"undefined"!==typeof MozWebSocket?Do=MozWebSocket:"undefined"!==typeof WebSocket&&(Do=WebSocket);var Ro=function(){function e(t,n,r,i,a,o,s){Rt(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ya(this.connId),this.stats_=Io(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{var r;if(br()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(yo,"/").concat(Oa,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Do(this.connURL,[],r)}catch(xG){this.log_("Error instantiating WebSocket.");var s=xG.message||xG.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Va.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Pr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(er(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=oo(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(xG){this.log_("Exception thrown from WebSocket.send():",xG.message||xG.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=yo,!br()&&"undefined"!==typeof location&&location.hostname&&go.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[wo]=r),i&&(a.p=i),xo(e,ko,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Do&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Va.isInMemoryStorage||!0===Va.get("previous_websocket_failure")}}]),e}();Ro.responsesRequiredToBeHealthy=2,Ro.healthyTimeout=3e4;var Oo=function(){function e(t){Rt(this,e),this.initTransports_(t)}return Lt(e,[{key:"initTransports_",value:function(t){var n=Ro&&Ro.isAvailable(),r=n&&!Ro.previouslyFailed();if(t.webSocketOnly&&(n||Ja("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ro];else{var i,a=this.transports_=[],o=Qn(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[No,Ro]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Oo.globalTransportInitialized_=!1;var Lo=function(){function e(t,n,r,i,a,o,s,u,c,l){Rt(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ya("c:"+this.id+":"),this.transportManager_=new Oo(n),this.log_("Connection created"),this.start_()}return Lt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ho((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=io("t",e),n=io("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=io("t",e),n=io("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=io("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?$a("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$a("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),yo!==n&&Ja("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ho((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ho((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Mo=function(){function e(){Rt(this,e)}return Lt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Fo=function(){function e(t){Rt(this,e),this.allowedEvents_=t,this.listeners_={},er(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Lt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Dt(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){er(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),jo=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||gr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return er("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Fo),Vo=32,Bo=768,Uo=function(){function e(t,n){if(Rt(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Lt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function qo(){return new Uo("")}function zo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wo(e){return e.pieces_.length-e.pieceNum_}function Ho(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Uo(e.pieces_,t)}function Ko(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Qo(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Uo(t,0)}function Yo(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Uo)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Uo(n,0)}function $o(e){return e.pieceNum_>=e.pieces_.length}function Xo(e,t){var n=zo(e),r=zo(t);if(null===n)return t;if(n===r)return Xo(Ho(e),Ho(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Jo(e,t){for(var n=Go(e,0),r=Go(t,0),i=0;i<n.length&&i<r.length;i++){var a=no(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Zo(e,t){if(Wo(e)!==Wo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function es(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Wo(e)>Wo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ts=Lt((function e(t,n){Rt(this,e),this.errorPrefix_=n,this.parts_=Go(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Yr(this.parts_[r]);ns(this)}));function ns(e){if(e.byteLength_>Bo)throw new Error(e.errorPrefix_+"has a key path longer than "+Bo+" bytes ("+e.byteLength_+").");if(e.parts_.length>Vo)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vo+") or object contains a cycle "+rs(e))}function rs(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var is=function(e){Cn(n,e);var t=Pn(n);function n(){var e,r,i;return Rt(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return er("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Fo),as=1e3,os=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a,o,s,u,c){var l;if(Rt(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Ya("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=as,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!br())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return is.getInstance().on("visible",l.onVisible_,Tn(l)),-1===e.host.indexOf("fblocal")&&jo.getInstance().on("online",l.onOnline_,Tn(l)),l}return Lt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Nr(i)),er(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new vr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),er(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),er(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Ar(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Ar(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),er(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Nr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):$a("Unrecognized action received from server: "+Nr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;er(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=as),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ii(ni().mark((function e(){var t,r,i,a,o,s,u,c,l,f,h,d,p,v,m=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){er(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=W(h,2),p=d[0],v=d[1],s?Qa("getToken() completed but was canceled"):(Qa("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Lo(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Ja(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Ja(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Qa("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Qa("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Or(this.interruptReasons_)&&(this.reconnectDelay_=as,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return ao(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Uo(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Qa("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Qa("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Qn(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Qn(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";br()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Oa.replace(/\./g,"-")]=1,gr()?e["framework.cordova"]=1:kr()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=jo.getInstance().currentlyOnline();return Or(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Dr(e,"w")){var n=Rr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ja("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Mo);os.nextPersistentConnectionId_=0,os.nextConnectionId_=0;var ss,us=function(){function e(t,n){Rt(this,e),this.name=t,this.node=n}return Lt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),cs=function(){function e(){Rt(this,e)}return Lt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new us(eo,e),r=new us(eo,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return us.MIN}}]),e}(),ls=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){return no(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw tr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return us.MIN}},{key:"maxPost",value:function(){return new us(to,ss)}},{key:"makePost",value:function(e,t){return er("string"===typeof e,"KeyIndex indexValue must always be a string."),new us(e,ss)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ss},set:function(e){ss=e}}]),n}(cs),fs=new ls,hs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Rt(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ds=function(){function e(t,n,r,i,a){Rt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ms.EMPTY_NODE,this.right=null!=a?a:ms.EMPTY_NODE}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return ms.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ms.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ds.RED=!0,ds.BLACK=!1;var ps,vs=function(){function e(){Rt(this,e)}return Lt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ds(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),ms=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Rt(this,e),this.comparator_=t,this.root_=n}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ds.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ds.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new hs(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new hs(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new hs(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new hs(this.root_,null,this.comparator_,!0,e)}}]),e}();function ys(e,t){return no(e.name,t.name)}function gs(e,t){return no(e,t)}ms.EMPTY_NODE=new vs;var ws,ks,bs,_s=function(e){return"number"===typeof e?"number:"+uo(e):"string:"+e},xs=function(e){if(e.isLeafNode()){var t=e.val();er("string"===typeof t||"number"===typeof t||"object"===typeof t&&Dr(t,".sv"),"Priority must be a string or number.")}else er(e===ps||e.isEmpty(),"priority of unexpected type.");er(e===ps||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Es=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Rt(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,er(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xs(this.priorityNode_)}return Lt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return $o(t)?this:".priority"===zo(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=zo(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(er(".priority"!==r||1===Wo(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ho(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+_s(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?uo(this.value_):this.value_,this.lazyHash_=za(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(er(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return er(i>=0,"Unknown leaf type: "+n),er(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ws},set:function(e){ws=e}}]),e}();Es.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Ss,Cs,Is=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?no(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return us.MIN}},{key:"maxPost",value:function(){return new us(to,new Es("[PRIORITY-POST]",bs))}},{key:"makePost",value:function(e,t){var n=ks(e);return new us(t,new Es("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(cs),Ts=new Is,Ps=Math.log(2),Ns=function(){function e(t){Rt(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ps,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Lt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),As=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new ds(o,a.node,ds.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new ds(o,a.node,ds.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new ds(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,ds.BLACK):(s(f,ds.BLACK),s(f,ds.RED))}return a}(new Ns(e.length));return new ms(r||t,a)},Ds={},Rs=function(){function e(t,n){Rt(this,e),this.indexes_=t,this.indexSet_=n}return Lt(e,[{key:"get",value:function(e){var t=Rr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ms?t:null}},{key:"hasIndex",value:function(e){return Dr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){er(t!==fs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(us.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?As(i,t.getCompare()):Ds;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Lr(this.indexes_,(function(e,i){var a=Rr(r.indexSet_,i);if(er(a,"Missing index implementation for "+i),e===Ds){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(us.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),As(o,a.getCompare())}return Ds}var c=n.get(t.name),l=e;return c&&(l=l.remove(new us(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Lr(this.indexes_,(function(e){if(e===Ds)return e;var r=n.get(t.name);return r?e.remove(new us(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return er(Ds&&Ts,"ChildrenNode.ts has not been loaded"),Ss=Ss||new e({".priority":Ds},{".priority":Ts})}}]),e}(),Os=function(){function e(t,n,r){Rt(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xs(this.priorityNode_),this.children_.isEmpty()&&er(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Lt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Cs}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Cs:t}},{key:"getChild",value:function(e){var t=zo(e);return null===t?this:this.getImmediateChild(t).getChild(Ho(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(er(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new us(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Cs:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=zo(e);if(null===n)return t;er(".priority"!==zo(e)||1===Wo(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ho(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Ts,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+_s(this.getPriority().val())+":"),this.forEachChild(Ts,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":za(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new us(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new us(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new us(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,us.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,us.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ls?-1:0}},{key:"withIndex",value:function(t){if(t===fs||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===fs||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ts),r=t.getIterator(Ts),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===fs?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Cs||(Cs=new e(new ms(gs),null,Rs.Default))}}]),e}();Os.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Ls=new(function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.call(this,new ms(gs),Os.EMPTY_NODE,Rs.Default)}return Lt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Os.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Os));Object.defineProperties(us,{MIN:{value:new us(eo,Os.EMPTY_NODE)},MAX:{value:new us(to,Ls)}}),ls.__EMPTY_NODE=Os.EMPTY_NODE,Es.__childrenNodeConstructor=Os,ps=Ls,function(e){bs=e}(Ls);var Ms=!0;function Fs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Os.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),er(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Es(e,Fs(t));if(e instanceof Array||!Ms){var n=Os.EMPTY_NODE;return so(e,(function(t,r){if(Dr(e,t)&&"."!==t.substring(0,1)){var i=Fs(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Fs(t))}var r=[],i=!1;if(so(e,(function(e,t){if("."!==e.substring(0,1)){var n=Fs(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new us(e,n)))}})),0===r.length)return Os.EMPTY_NODE;var a=As(r,ys,(function(e){return e.name}),gs);if(i){var o=As(r,Ts.getCompare());return new Os(a,Fs(t),new Rs({".priority":o},{".priority":Ts}))}return new Os(a,Fs(t),Rs.Default)}!function(e){ks=e}(Fs);var js=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).indexPath_=e,er(!$o(e)&&".priority"!==zo(e),"Can't create PathIndex with empty path or .priority key"),r}return Lt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?no(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Fs(e),r=Os.EMPTY_NODE.updateChild(this.indexPath_,n);return new us(t,r)}},{key:"maxPost",value:function(){var e=Os.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new us(to,e)}},{key:"toString",value:function(){return Go(this.indexPath_,0).join("/")}}]),n}(cs),Vs=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?no(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return us.MIN}},{key:"maxPost",value:function(){return us.MAX}},{key:"makePost",value:function(e,t){var n=Fs(e);return new us(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(cs),Bs=new Vs;function Us(e){return{type:"value",snapshotNode:e}}function qs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ws(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Hs=function(){function e(t){Rt(this,e),this.index_=t}return Lt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){er(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(zs(t,o)):er(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(qs(t,n)):a.trackChildChange(Ws(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ts,(function(e,r){t.hasChild(e)||n.trackChildChange(zs(e,r))})),t.isLeafNode()||t.forEachChild(Ts,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ws(t,r,i))}else n.trackChildChange(qs(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Os.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Ks=function(){function e(t){Rt(this,e),this.indexedFilter_=new Hs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Lt(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new us(t,n))||(n=Os.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Os.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Os.EMPTY_NODE);var i=this;return t.forEachChild(Ts,(function(e,t){i.matches(new us(e,t))||(r=r.updateImmediateChild(e,Os.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Gs=function(){function e(t){var n=this;Rt(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ks(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Lt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new us(t,n))||(n=Os.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Os.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Os.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Os.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Os.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;er(s.numChildren()===this.limit_,"");var u=new us(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ws(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(zs(t,f));var p=s.updateImmediateChild(t,Os.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(qs(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(zs(c.name,c.node)),i.trackChildChange(qs(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Os.EMPTY_NODE)):e}}]),e}(),Qs=function(){function e(){Rt(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ts}return Lt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return er(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return er(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eo}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return er(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return er(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:to}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return er(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Ts}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ys(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function $s(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Xs(e,t){var n=e.copy();return n.index_=t,n}function Js(e){var t,n={};if(e.isDefault())return n;if(e.index_===Ts?t="$priority":e.index_===Bs?t="$value":e.index_===fs?t="$key":(er(e.index_ instanceof js,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Nr(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Nr(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Nr(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Nr(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Nr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Zs(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ts&&(t.i=e.index_.toString()),t}var eu=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Ya("p:rest:"),o.listens_={},o}return Lt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Js(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Rr(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Js(e._queryParams),r=e._path.toString(),i=new vr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=W(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+jr(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Pr(c.responseText)}catch(xG){Ja("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Ja("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(er(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Mo),tu=function(){function e(){Rt(this,e),this.rootNode_=Os.EMPTY_NODE}return Lt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function nu(){return{value:null,children:new Map}}function ru(e,t,n){if($o(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=zo(t);e.children.has(r)||e.children.set(r,nu()),ru(e.children.get(r),t=Ho(t),n)}}function iu(e,t){if($o(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ts,(function(t,n){ru(e,new Uo(t),n)})),iu(e,t)}if(e.children.size>0){var r=zo(t);if(t=Ho(t),e.children.has(r))iu(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function au(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){au(r,new Uo(t.toString()+"/"+e),n)}))}var ou,su=function(){function e(t){Rt(this,e),this.collection_=t,this.last_=null}return Lt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&so(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),uu=function(){function e(t,n){Rt(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new su(t);var r=1e4+2e4*Math.random();ho(this.reportStats_.bind(this),Math.floor(r))}return Lt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;so(t,(function(t,i){i>0&&Dr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ho(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function cu(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ou||(ou={}));var lu,fu=function(){function e(t,n,r){Rt(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=ou.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Lt(e,[{key:"operationForChild",value:function(t){if($o(this.path)){if(null!=this.affectedTree.value)return er(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Uo(t));return new e(qo(),n,this.revert)}return er(zo(this.path)===t,"operationForChild called for unrelated child."),new e(Ho(this.path),this.affectedTree,this.revert)}}]),e}(),hu=function(){function e(t,n){Rt(this,e),this.source=t,this.path=n,this.type=ou.LISTEN_COMPLETE}return Lt(e,[{key:"operationForChild",value:function(t){return $o(this.path)?new e(this.source,qo()):new e(this.source,Ho(this.path))}}]),e}(),du=function(){function e(t,n,r){Rt(this,e),this.source=t,this.path=n,this.snap=r,this.type=ou.OVERWRITE}return Lt(e,[{key:"operationForChild",value:function(t){return $o(this.path)?new e(this.source,qo(),this.snap.getImmediateChild(t)):new e(this.source,Ho(this.path),this.snap)}}]),e}(),pu=function(){function e(t,n,r){Rt(this,e),this.source=t,this.path=n,this.children=r,this.type=ou.MERGE}return Lt(e,[{key:"operationForChild",value:function(t){if($o(this.path)){var n=this.children.subtree(new Uo(t));return n.isEmpty()?null:n.value?new du(this.source,qo(),n.value):new e(this.source,qo(),n)}return er(zo(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ho(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),vu=function(){function e(t,n,r){Rt(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Lt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if($o(e))return this.isFullyInitialized()&&!this.filtered_;var t=zo(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),mu=Lt((function e(t){Rt(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function yu(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw tr("Should only compare child_ events.");var r=new us(t.childName,t.snapshotNode),i=new us(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function gu(e,t){return{eventCache:e,serverCache:t}}function wu(e,t,n,r){return gu(new vu(t,n,r),e.serverCache)}function ku(e,t,n,r){return gu(e.eventCache,new vu(t,n,r))}function bu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function _u(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var xu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(lu||(lu=new ms(ro)),lu);Rt(this,e),this.value=t,this.children=n}return Lt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:qo(),value:this.value};if($o(e))return null;var n=zo(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ho(e),t);return null!=i?{path:Yo(new Uo(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if($o(t))return this;var n=zo(t),r=this.children.get(n);return null!==r?r.subtree(Ho(t)):new e(null)}},{key:"set",value:function(t,n){if($o(t))return new e(n,this.children);var r=zo(t),i=(this.children.get(r)||new e(null)).set(Ho(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if($o(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=zo(t),r=this.children.get(n);if(r){var i,a=r.remove(Ho(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if($o(e))return this.value;var t=zo(e),n=this.children.get(t);return n?n.get(Ho(e)):null}},{key:"setTree",value:function(t,n){if($o(t))return n;var r,i=zo(t),a=(this.children.get(i)||new e(null)).setTree(Ho(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(qo(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Yo(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,qo(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if($o(e))return null;var i=zo(e),a=this.children.get(i);return a?a.findOnPath_(Ho(e),Yo(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,qo(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if($o(t))return this;this.value&&r(n,this.value);var i=zo(t),a=this.children.get(i);return a?a.foreachOnPath_(Ho(t),Yo(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(qo(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Yo(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return so(t,(function(e,t){n=n.set(new Uo(e),t)})),n}}]),e}(),Eu=function(){function e(t){Rt(this,e),this.writeTree_=t}return Lt(e,null,[{key:"empty",value:function(){return new e(new xu(null))}}]),e}();function Su(e,t,n){if($o(t))return new Eu(new xu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Xo(i,t);return a=a.updateChild(o,n),new Eu(e.writeTree_.set(i,a))}var s=new xu(n),u=e.writeTree_.setTree(t,s);return new Eu(u)}function Cu(e,t,n){var r=e;return so(n,(function(e,n){r=Su(r,Yo(t,e),n)})),r}function Iu(e,t){if($o(t))return Eu.empty();var n=e.writeTree_.setTree(t,new xu(null));return new Eu(n)}function Tu(e,t){return null!=Pu(e,t)}function Pu(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Xo(n.path,t)):null}function Nu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ts,(function(e,n){t.push(new us(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new us(e,n.value))})),t}function Au(e,t){if($o(t))return e;var n=Pu(e,t);return new Eu(null!=n?new xu(n):e.writeTree_.subtree(t))}function Du(e){return e.writeTree_.isEmpty()}function Ru(e,t){return Ou(qo(),e.writeTree_,t)}function Ou(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(er(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ou(Yo(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Yo(e,".priority"),r)),n}function Lu(e,t){return Qu(t,e)}function Mu(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));er(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Fu(s,r.path)?i=!1:es(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Vu(e.allWrites,ju,qo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Iu(e.visibleWrites,r.path):so(r.children,(function(t){e.visibleWrites=Iu(e.visibleWrites,Yo(r.path,t))}));return!0}return!1}function Fu(e,t){if(e.snap)return es(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&es(Yo(e.path,n),t))return!0;return!1}function ju(e){return e.visible}function Vu(e,t,n){for(var r=Eu.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)es(n,o)?r=Su(r,s=Xo(n,o),a.snap):es(o,n)&&(s=Xo(o,n),r=Su(r,qo(),a.snap.getChild(s)));else{if(!a.children)throw tr("WriteRecord should have .snap or .children");if(es(n,o))r=Cu(r,s=Xo(n,o),a.children);else if(es(o,n))if($o(s=Xo(o,n)))r=Cu(r,qo(),a.children);else{var u=Rr(a.children,zo(s));if(u){var c=u.getChild(Ho(s));r=Su(r,qo(),c)}}}}}return r}function Bu(e,t,n,r,i){if(r||i){var a=Au(e.visibleWrites,t);if(!i&&Du(a))return n;if(i||null!=n||Tu(a,qo())){return Ru(Vu(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(es(e.path,t)||es(t,e.path))}),t),n||Os.EMPTY_NODE)}return null}var o=Pu(e.visibleWrites,t);if(null!=o)return o;var s=Au(e.visibleWrites,t);return Du(s)?n:null!=n||Tu(s,qo())?Ru(s,n||Os.EMPTY_NODE):null}function Uu(e,t,n,r){return Bu(e.writeTree,e.treePath,t,n,r)}function qu(e,t){return function(e,t,n){var r=Os.EMPTY_NODE,i=Pu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ts,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Au(e.visibleWrites,t);return n.forEachChild(Ts,(function(e,t){var n=Ru(Au(a,new Uo(e)),t);r=r.updateImmediateChild(e,n)})),Nu(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Nu(Au(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function zu(e,t,n,r){return function(e,t,n,r,i){er(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Yo(t,n);if(Tu(e.visibleWrites,a))return null;var o=Au(e.visibleWrites,a);return Du(o)?i.getChild(n):Ru(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Wu(e,t){return function(e,t){return Pu(e.visibleWrites,t)}(e.writeTree,Yo(e.treePath,t))}function Hu(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Au(e.visibleWrites,t),c=Pu(u,qo());if(null!=c)s=c;else{if(null==n)return[];s=Ru(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ku(e,t,n){return function(e,t,n,r){var i=Yo(t,n),a=Pu(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Ru(Au(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Gu(e,t){return Qu(Yo(e.treePath,t),e.writeTree)}function Qu(e,t){return{treePath:e,writeTree:t}}var Yu=function(){function e(){Rt(this,e),this.changeMap=new Map}return Lt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;er("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),er(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ws(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,zs(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw tr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ws(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),$u=new(function(){function e(){Rt(this,e)}return Lt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Xu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Rt(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Lt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new vu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ku(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_u(this.viewCache_),i=Hu(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Ju(e,t,n,r,i){var a,o,s=new Yu;if(n.type===ou.OVERWRITE){var u=n;u.source.fromUser?a=tc(e,t,u.path,u.snap,r,i,s):(er(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!$o(u.path),a=ec(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===ou.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Yo(n,r);nc(t,zo(c))&&(s=tc(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Yo(n,r);nc(t,zo(c))||(s=tc(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(er(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=ic(e,t,c.path,c.children,r,i,o,s))}else if(n.type===ou.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Wu(r,n))return t;var s,u=new Xu(r,t,i),c=t.eventCache.getNode();if($o(n)||".priority"===zo(n)){var l;if(t.serverCache.isFullyInitialized())l=Uu(r,_u(t));else{var f=t.serverCache.getNode();er(f instanceof Os,"serverChildren would be complete if leaf node"),l=qu(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=zo(n),d=Ku(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Ho(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Os.EMPTY_NODE,Ho(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Uu(r,_u(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Wu(r,qo()),wu(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Wu(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if($o(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ec(e,t,n,u.getNode().getChild(n),i,a,s,o);if($o(n)){var c=new xu(null);return u.getNode().forEachChild(fs,(function(e,t){c=c.set(new Uo(e),t)})),ic(e,t,n,c,i,a,s,o)}return t}var l=new xu(null);return r.foreach((function(e,t){var r=Yo(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),ic(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ou.LISTEN_COMPLETE)throw tr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ku(t,a.getNode(),a.isFullyInitialized()||$o(n),a.isFiltered());return Zu(e,o,n,r,$u,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=bu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Us(bu(t)))}}(t,a,f),{viewCache:a,changes:f}}function Zu(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Wu(r,n))return t;if($o(n))if(er(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=_u(t),l=qu(r,c instanceof Os?c:Os.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Uu(r,_u(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=zo(n);if(".priority"===h){er(1===Wo(n),"Can't have a priority with additional path components");var d=u.getNode(),p=zu(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Ho(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=zu(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=Ku(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return wu(t,o,u.isFullyInitialized()||$o(n),e.filter.filtersNodes())}function ec(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if($o(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=zo(n);if(!c.isCompleteForPath(n)&&Wo(n)>1)return t;var d=Ho(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,$u,null)}var v=ku(t,u,c.isFullyInitialized()||$o(n),l.filtersNodes());return Zu(e,v,n,i,new Xu(i,v,a),s)}function tc(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Xu(i,t,a);if($o(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=wu(t,u,!0,e.filter.filtersNodes());else{var f=zo(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=wu(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ho(n),p=c.getNode().getImmediateChild(f);if($o(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ko(d)&&v.getChild(Qo(d)).isEmpty()?v:v.updateChild(d,r):Os.EMPTY_NODE}if(p.equals(h))s=t;else s=wu(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function nc(e,t){return e.eventCache.isCompleteForChild(t)}function rc(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function ic(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=$o(n)?r:new xu(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=rc(0,t.serverCache.getNode().getImmediateChild(n),r);c=ec(e,c,new Uo(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=rc(0,t.serverCache.getNode().getImmediateChild(n),r);c=ec(e,c,new Uo(n),f,i,a,o,s)}})),c}var ac,oc=function(){function e(t,n){Rt(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Hs(i.getIndex()),o=(r=i).loadsAllData()?new Hs(r.getIndex()):r.hasLimit()?new Gs(r):new Ks(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Os.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Os.EMPTY_NODE,u.getNode(),null),f=new vu(c,s.isFullyInitialized(),a.filtersNodes()),h=new vu(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=gu(h,f),this.eventGenerator_=new mu(this.query_)}return Lt(e,[{key:"query",get:function(){return this.query_}}]),e}();function sc(e,t){var n=_u(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$o(t)&&!n.getImmediateChild(zo(t)).isEmpty())?n.getChild(t):null}function uc(e){return 0===e.eventRegistrations_.length}function cc(e,t,n){var r=[];if(n){er(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function lc(e,t,n,r){t.type===ou.MERGE&&null!==t.source.queryId&&(er(_u(e.viewCache_),"We should always have a full cache before handling merges"),er(bu(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Ju(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,er(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),er(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),er(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,fc(e,s.changes,s.viewCache.eventCache.getNode(),null)}function fc(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),yu(e,i,"child_removed",t,r,n),yu(e,i,"child_added",t,r,n),yu(e,i,"child_moved",a,r,n),yu(e,i,"child_changed",t,r,n),yu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var hc,dc=Lt((function e(){Rt(this,e),this.views=new Map}));function pc(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return er(null!=a,"SyncTree gave us an op for an invalid query."),lc(a,t,n,r)}var o,s=[],u=Qn(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(lc(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function vc(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Uu(n,i?r:null),u=!1;s?u=!0:r instanceof Os?(s=qu(n,r),u=!1):(s=Os.EMPTY_NODE,u=!1);var c=gu(new vu(s,u,!1),new vu(r,i,!1));return new oc(t,c)}return o}function mc(e,t,n,r,i,a){var o=vc(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ts,(function(e,t){r.push(qs(e,t))})),n.isFullyInitialized()&&r.push(Us(n.getNode())),fc(e,r,n.getNode(),t)}(o,n)}function yc(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=_c(e);if("default"===i){var u,c=Qn(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=W(u.value,2),f=l[0],h=l[1];o=o.concat(cc(h,n,r)),uc(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){c.e(p)}finally{c.f()}}else{var d=e.views.get(i);d&&(o=o.concat(cc(d,n,r)),uc(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!_c(e)&&a.push(new(er(ac,"Reference.ts has not been loaded"),ac)(t._repo,t._path)),{removed:a,events:o}}function gc(e){var t,n=[],r=Qn(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function wc(e,t){var n,r=null,i=Qn(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||sc(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function kc(e,t){if(t._queryParams.loadsAllData())return xc(e);var n=t._queryIdentifier;return e.views.get(n)}function bc(e,t){return null!=kc(e,t)}function _c(e){return null!=xc(e)}function xc(e){var t,n=Qn(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Ec=1,Sc=Lt((function e(t){Rt(this,e),this.listenProvider_=t,this.syncPointTree_=new xu(null),this.pendingWriteTree_={visibleWrites:Eu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Cc(e,t,n,r,i){return function(e,t,n,r,i){er(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Su(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Lc(e,new du({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ic(e,t,n,r){!function(e,t,n,r){er(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Cu(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=xu.fromObject(n);return Lc(e,new pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Mu(e.pendingWriteTree_,t)){var i=new xu(null);return null!=r.snap?i=i.set(qo(),!0):so(r.children,(function(e){i=i.set(new Uo(e),!0)})),Lc(e,new fu(r.path,i,n))}return[]}function Pc(e,t,n){return Lc(e,new du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Nc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||bc(o,t))){var u=yc(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return _c(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&_c(t))return[xc(t)];var r=[];return t&&(r=gc(t)),so(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=jc(e,v);e.listenProvider_.startListening(Wc(m),Vc(e,m),y.hashFn,y.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(Wc(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(Bc(t));e.listenProvider_.stopListening(Wc(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Bc(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function Ac(e,t,n,r){var i=Uc(e,r);if(null!=i){var a=qc(i),o=a.path,s=a.queryId,u=Xo(o,t);return zc(e,o,new du(cu(s),u,n))}return[]}function Dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Xo(e,i);a=a||wc(t,n),o=o||_c(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||_c(u),a=a||wc(u,qo())):(u=new dc,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Os.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=wc(t,qo());n&&(a=a.updateImmediateChild(e,n))})));var c=bc(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Bc(t);er(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=Ec++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=mc(u,t,n,Lu(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=kc(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Vc(e,t),a=jc(e,n),o=e.listenProvider_.startListening(Wc(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)er(!_c(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!$o(e)&&t&&_c(t))return[xc(t).query];var r=[];return t&&(r=r.concat(gc(t).map((function(e){return e.query})))),so(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Wc(l),Vc(e,l))}return o}(e,t,d))}return h}function Rc(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=wc(n,Xo(e,t));if(r)return r}));return Bu(r,t,i,n,!0)}function Oc(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Xo(e,n);r=r||wc(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||wc(i,qo()):(i=new dc,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new vu(r,!0,!1):null;return function(e){return bu(e.viewCache_)}(vc(i,t,Lu(e.pendingWriteTree_,t._path),a?o.getNode():Os.EMPTY_NODE,a))}function Lc(e,t){return Mc(t,e.syncPointTree_,null,Lu(e.pendingWriteTree_,qo()))}function Mc(e,t,n,r){if($o(e.path))return Fc(e,t,n,r);var i=t.get(qo());null==n&&null!=i&&(n=wc(i,qo()));var a=[],o=zo(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Gu(r,o);a=a.concat(Mc(s,u,c,l))}return i&&(a=a.concat(pc(i,e,r,n))),a}function Fc(e,t,n,r){var i=t.get(qo());null==n&&null!=i&&(n=wc(i,qo()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Gu(r,t),u=e.operationForChild(t);u&&(a=a.concat(Fc(u,i,o,s)))})),i&&(a=a.concat(pc(i,e,r,n))),a}function jc(e,t){var n=t.query,r=Vc(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Os.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Uc(e,n);if(r){var i=qc(r),a=i.path,o=i.queryId,s=Xo(a,t);return zc(e,a,new hu(cu(o),s))}return[]}(e,n._path,r):function(e,t){return Lc(e,new hu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Nc(e,n,null,i)}}}function Vc(e,t){var n=Bc(t);return e.queryToTagMap.get(n)}function Bc(e){return e._path.toString()+"$"+e._queryIdentifier}function Uc(e,t){return e.tagToQueryMap.get(t)}function qc(e){var t=e.indexOf("$");return er(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Uo(e.substr(0,t))}}function zc(e,t,n){var r=e.syncPointTree_.get(t);return er(r,"Missing sync point for query tag that we're tracking"),pc(r,n,Lu(e.pendingWriteTree_,t),null)}function Wc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(er(hc,"Reference.ts has not been loaded"),hc)(e._repo,e._path):e}var Hc=function(){function e(t){Rt(this,e),this.node_=t}return Lt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Kc=function(){function e(t,n){Rt(this,e),this.syncTree_=t,this.path_=n}return Lt(e,[{key:"getImmediateChild",value:function(t){var n=Yo(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Rc(this.syncTree_,this.path_)}}]),e}(),Gc=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Qc=function(e,t,n){return e&&"object"===typeof e?(er(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Yc(e[".sv"],t,n):"object"===typeof e[".sv"]?$c(e[".sv"],t):void er(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yc=function(e,t,n){if("timestamp"===e)return n.timestamp;er(!1,"Unexpected server value: "+e)},$c=function(e,t,n){e.hasOwnProperty("increment")||er(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&er(!1,"Unexpected increment value: "+r);var i=t.node();if(er(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Xc=function(e,t,n,r){return Zc(t,new Kc(n,e),r)},Jc=function(e,t,n){return Zc(e,new Hc(t),n)};function Zc(e,t,n){var r,i=e.getPriority().val(),a=Qc(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Qc(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Es(s,Fs(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Es(a))),u.forEachChild(Ts,(function(e,i){var a=Zc(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var el=Lt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Rt(this,e),this.name=t,this.parent=n,this.node=r}));function tl(e,t){for(var n=t instanceof Uo?t:new Uo(t),r=e,i=zo(n);null!==i;){var a=Rr(r.node.children,i)||{children:{},childCount:0};r=new el(i,r,a),i=zo(n=Ho(n))}return r}function nl(e){return e.node.value}function rl(e,t){e.node.value=t,ul(e)}function il(e){return e.node.childCount>0}function al(e,t){so(e.node.children,(function(n,r){t(new el(n,e,r))}))}function ol(e,t,n,r){n&&!r&&t(e),al(e,(function(e){ol(e,t,!0,r)})),n&&r&&t(e)}function sl(e){return new Uo(null===e.parent?e.name:sl(e.parent)+"/"+e.name)}function ul(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===nl(e)&&!il(e)}(n),i=Dr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ul(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ul(e))}(e.parent,e.name,e)}var cl=/[\[\].#$\/\u0000-\u001F\u007F]/,ll=/[\[\].#$\u0000-\u001F\u007F]/,fl=10485760,hl=function(e){return"string"===typeof e&&0!==e.length&&!cl.test(e)},dl=function(e){return"string"===typeof e&&0!==e.length&&!ll.test(e)},pl=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Za(e)||e&&"object"===typeof e&&Dr(e,".sv")},vl=function(e,t,n,r){r&&void 0===t||ml(Kr(e,"value"),t,n)},ml=function e(t,n,r){var i=r instanceof Uo?new ts(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+rs(i));if("function"===typeof n)throw new Error(t+"contains a function "+rs(i)+" with contents = "+n.toString());if(Za(n))throw new Error(t+"contains "+n.toString()+" "+rs(i));if("string"===typeof n&&n.length>fl/3&&Yr(n)>fl)throw new Error(t+"contains a string greater than "+fl+" utf8 bytes "+rs(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(so(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!hl(n)))throw new Error(t+" contains an invalid key ("+n+") "+rs(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Yr(u),ns(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Yr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+rs(i)+" in addition to actual children.")}},yl=function(e,t,n,r){if(!r||void 0!==t){var i=Kr(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];so(t,(function(e,t){var r=new Uo(e);if(ml(i,t,Yo(n,r)),".priority"===Ko(r)&&!pl(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Go(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!hl(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Jo);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&es(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},gl=function(e,t,n){if(!n||void 0!==t){if(Za(t))throw new Error(Kr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pl(t))throw new Error(Kr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wl=function(e,t,n,r){if((!r||void 0!==n)&&!hl(n))throw new Error(Kr(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kl=function(e,t,n,r){if((!r||void 0!==n)&&!dl(n))throw new Error(Kr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bl=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kl(e,t,n,r)},_l=function(e,t){if(".info"===zo(t))throw new Error(e+" failed = Can't modify data under /.info/")},xl=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!hl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dl(e)}(n))throw new Error(Kr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},El=Lt((function e(){Rt(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Sl(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Zo(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Cl(e,t,n){Sl(e,n),Tl(e,(function(e){return Zo(e,t)}))}function Il(e,t,n){Sl(e,n),Tl(e,(function(e){return es(e,t)||es(t,e)}))}function Tl(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Pl(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pl(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Ha&&Qa("event: "+n.toString()),fo(r)}}}var Nl="repo_interrupt",Al=25,Dl=function(){function e(t,n,r,i){Rt(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new El,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nu(),this.transactionQueueTree_=new el,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Lt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Rl(e,t,n){if(e.stats_=Io(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new eu(e.repoInfo_,(function(t,n,r,i){Ml(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Fl(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(n)}catch(xG){throw new Error("Invalid authOverride provided: "+xG)}}e.persistentConnection_=new os(e.repoInfo_,t,(function(t,n,r,i){Ml(e,t,n,r,i)}),(function(t){Fl(e,t)}),(function(t){!function(e,t){so(t,(function(t,n){jl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Co[n]||(Co[n]=t()),Co[n]}(e.repoInfo_,(function(){return new uu(e.stats_,e.server_)})),e.infoData_=new tu,e.infoSyncTree_=new Sc({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Pc(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),jl(e,"connected",!1),e.serverSyncTree_=new Sc({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Il(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Ol(e){var t=e.infoData_.getNode(new Uo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ll(e){return Gc({timestamp:Ol(e)})}function Ml(e,t,n,r,i){e.dataUpdateCount++;var a=new Uo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Lr(n,(function(e){return Fs(e)}));o=function(e,t,n,r){var i=Uc(e,r);if(i){var a=qc(i),o=a.path,s=a.queryId,u=Xo(o,t),c=xu.fromObject(n);return zc(e,o,new pu(cu(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Fs(n);o=Ac(e.serverSyncTree_,a,u,i)}else if(r){var c=Lr(n,(function(e){return Fs(e)}));o=function(e,t,n){var r=xu.fromObject(n);return Lc(e,new pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Fs(n);o=Pc(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Yl(e,a)),Il(e.eventQueue_,f,o)}function Fl(e,t){jl(e,"connected",t),!1===t&&function(e){Hl(e,"onDisconnectEvents");var t=Ll(e),n=nu();au(e.onDisconnect_,qo(),(function(r,i){var a=Xc(r,i,e.serverSyncTree_,t);ru(n,r,a)}));var r=[];au(n,qo(),(function(t,n){r=r.concat(Pc(e.serverSyncTree_,t,n));var i=ef(e,t);Yl(e,i)})),e.onDisconnect_=nu(),Il(e.eventQueue_,qo(),r)}(e)}function jl(e,t,n){var r=new Uo("/.info/"+t),i=Fs(n);e.infoData_.updateSnapshot(r,i);var a=Pc(e.infoSyncTree_,r,i);Il(e.eventQueue_,r,a)}function Vl(e){return e.nextWriteId_++}function Bl(e,t,n,r,i){Hl(e,"set",{path:t.toString(),value:n,priority:r});var a=Ll(e),o=Fs(n,r),s=Rc(e.serverSyncTree_,t),u=Jc(o,s,a),c=Vl(e),l=Cc(e.serverSyncTree_,t,u,c,!0);Sl(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Ja("set at "+t+" failed: "+n);var o=Tc(e.serverSyncTree_,c,!a);Il(e.eventQueue_,t,o),Kl(e,i,n,r)}));var f=ef(e,t);Yl(e,f),Il(e.eventQueue_,f,[])}function Ul(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&iu(e.onDisconnect_,t),Kl(e,n,r,i)}))}function ql(e,t,n,r){var i=Fs(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&ru(e.onDisconnect_,t,i),Kl(e,r,n,a)}))}function zl(e,t,n){var r;r=".info"===zo(t._path)?Nc(e.infoSyncTree_,t,n):Nc(e.serverSyncTree_,t,n),Cl(e.eventQueue_,t._path,r)}function Wl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Nl)}function Hl(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Qa.apply(void 0,[t].concat(r))}function Kl(e,t,n,r){t&&fo((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Gl(e,t,n){return Rc(e.serverSyncTree_,t,n)||Os.EMPTY_NODE}function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Zl(e,t),nl(t)){var n=Xl(e,t);er(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Gl(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];er(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Xo(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Hl(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Tc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Zl(e,tl(e.transactionQueueTree_,t)),Ql(e,e.transactionQueueTree_),Il(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)fo(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Ja("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Yl(e,t)}}),o)}(e,sl(t),n)}else il(t)&&al(t,(function(t){Ql(e,t)}))}function Yl(e,t){var n=$l(e,t),r=sl(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=Xo(n,c.path),f=!1;if(er(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Tc(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Al)f=!0,s="maxretry",i=i.concat(Tc(e.serverSyncTree_,c.currentWriteId,!0));else{var h=Gl(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){ml("transaction failed: Data returned ",d,c.path);var p=Fs(d);"object"===typeof d&&null!=d&&Dr(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=Ll(e),y=Jc(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Vl(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Cc(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Tc(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Tc(e.serverSyncTree_,c.currentWriteId,!0))}Il(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);Zl(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)fo(r[c]);Ql(e,e.transactionQueueTree_)}(e,Xl(e,n),r),r}function $l(e,t){var n,r=e.transactionQueueTree_;for(n=zo(t);null!==n&&void 0===nl(r);)r=tl(r,n),n=zo(t=Ho(t));return r}function Xl(e,t){var n=[];return Jl(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Jl(e,t,n){var r=nl(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);al(t,(function(t){Jl(e,t,n)}))}function Zl(e,t){var n=nl(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,rl(t,n.length>0?n:void 0)}al(t,(function(t){Zl(e,t)}))}function ef(e,t){var n=sl($l(e,t)),r=tl(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){tf(e,t)})),tf(e,r),ol(r,(function(t){tf(e,t)})),n}function tf(e,t){var n=nl(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(er(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(er(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?rl(t,void 0):n.length=a+1,Il(e.eventQueue_,sl(t),i);for(var s=0;s<r.length;s++)fo(r[s])}}var nf=function(e,t){var n=rf(e),r=n.namespace;"firebase.com"===n.domain&&Xa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Xa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ja("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new _o(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Uo(n.pathString)}},rf=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(xG){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Qn(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ja("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},af="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",of=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=af.charAt(n%64),n=Math.floor(n/64);er(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=af.charAt(t[r]);return er(20===o.length,"nextPushId: Length should be 20."),o}}(),sf=function(){function e(t,n,r,i){Rt(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Lt(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Nr(this.snapshot.exportVal())}}]),e}(),uf=function(){function e(t,n,r){Rt(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Lt(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),cf=function(){function e(t,n){Rt(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Lt(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return er(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),lf=function(){function e(t,n){Rt(this,e),this._repo=t,this._path=n}return Lt(e,[{key:"cancel",value:function(){var e=new vr;return Ul(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){_l("OnDisconnect.remove",this._path);var e=new vr;return ql(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){_l("OnDisconnect.set",this._path),vl("OnDisconnect.set",e,this._path,!1);var t=new vr;return ql(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){_l("OnDisconnect.setWithPriority",this._path),vl("OnDisconnect.setWithPriority",e,this._path,!1),gl("OnDisconnect.setWithPriority",t,!1);var n=new vr;return function(e,t,n,r,i){var a=Fs(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&ru(e.onDisconnect_,t,a),Kl(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){_l("OnDisconnect.update",this._path),yl("OnDisconnect.update",e,this._path,!1);var t=new vr;return function(e,t,n,r){if(Or(n))return Qa("onDisconnect().update() called with empty data.  Don't do anything."),void Kl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&so(n,(function(n,r){var i=Fs(r);ru(e.onDisconnect_,Yo(t,n),i)})),Kl(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),ff=function(){function e(t,n,r,i){Rt(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Lt(e,[{key:"key",get:function(){return $o(this._path)?null:Ko(this._path)}},{key:"ref",get:function(){return new vf(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Zs(this._queryParams),t=ao(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Zs(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ti(t))instanceof e))return!1;var n=this._repo===t._repo,r=Zo(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function hf(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function df(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===fs){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==eo)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==to)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ts){if(null!=t&&!pl(t)||null!=n&&!pl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(er(e.getIndex()instanceof js||e.getIndex()===Bs,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pf(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var vf=function(e){Cn(n,e);var t=Pn(n);function n(e,r){return Rt(this,n),t.call(this,e,r,new Qs,!1)}return Lt(n,[{key:"parent",get:function(){var e=Qo(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(ff),mf=function(){function e(t,n,r){Rt(this,e),this._node=t,this.ref=n,this._index=r}return Lt(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Uo(t),r=wf(this.ref,t);return new e(this._node.getChild(n),r,Ts)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,wf(n.ref,r),Ts))}))}},{key:"hasChild",value:function(e){var t=new Uo(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function yf(e,t){return(e=ti(e))._checkNotDeleted("ref"),void 0!==t?wf(e._root,t):e._root}function gf(e,t){(e=ti(e))._checkNotDeleted("refFromURL");var n=nf(t,e._repo.repoInfo_.nodeAdmin);xl("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Xa("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),yf(e,n.path.toString())}function wf(e,t){return null===zo((e=ti(e))._path)?bl("child","path",t,!1):kl("child","path",t,!1),new vf(e._repo,Yo(e._path,t))}function kf(e){return _l("remove",e._path),bf(e,null)}function bf(e,t){e=ti(e),_l("set",e._path),vl("set",t,e._path,!1);var n=new vr;return Bl(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function _f(e,t){yl("update",t,e._path,!1);var n=new vr;return function(e,t,n,r){Hl(e,"update",{path:t.toString(),value:n});var i=!0,a=Ll(e),o={};if(so(n,(function(n,r){i=!1,o[n]=Xc(Yo(t,n),Fs(r),e.serverSyncTree_,a)})),i)Qa("update() called with empty data.  Don't do anything."),Kl(0,r,"ok",void 0);else{var s=Vl(e),u=Ic(e.serverSyncTree_,t,o,s);Sl(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Ja("update at "+t+" failed: "+n);var o=Tc(e.serverSyncTree_,s,!a),u=o.length>0?Yl(e,t):t;Il(e.eventQueue_,u,o),Kl(0,r,n,i)})),so(n,(function(n){var r=ef(e,Yo(t,n));Yl(e,r)})),Il(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function xf(e){e=ti(e);var t=new cf((function(){})),n=new Ef(t);return function(e,t,n){var r=Oc(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Fs(r).withIndex(t._queryParams.getIndex());if(Dc(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Pc(e.serverSyncTree_,t._path,a);else{var o=Vc(e.serverSyncTree_,t);i=Ac(e.serverSyncTree_,t._path,a,o)}return Il(e.eventQueue_,t._path,i),Nc(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Hl(e,"get for query "+Nr(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new mf(t,new vf(e._repo,e._path),e._queryParams.getIndex())}))}var Ef=function(){function e(t){Rt(this,e),this.callbackContext=t}return Lt(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new sf("value",this,new mf(e.snapshotNode,new vf(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uf(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Sf=function(){function e(t,n){Rt(this,e),this.eventType=t,this.callbackContext=n}return Lt(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new uf(this,e,t):null}},{key:"createEvent",value:function(e,t){er(null!=e.childName,"Child events should have a childName.");var n=wf(new vf(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new sf(e.type,this,new mf(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Cf(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){zl(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new cf(n,a||void 0),c="value"===t?new Ef(u):new Sf(t,u);return function(e,t,n){var r;r=".info"===zo(t._path)?Dc(e.infoSyncTree_,t,n):Dc(e.serverSyncTree_,t,n),Cl(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return zl(e._repo,e,c)}}function If(e,t,n,r){return Cf(e,"value",t,n,r)}function Tf(e,t,n,r){return Cf(e,"child_added",t,n,r)}function Pf(e,t,n,r){return Cf(e,"child_changed",t,n,r)}function Nf(e,t,n,r){return Cf(e,"child_moved",t,n,r)}function Af(e,t,n,r){return Cf(e,"child_removed",t,n,r)}function Df(e,t,n){var r=null,i=n?new cf(n):null;"value"===t?r=new Ef(i):t&&(r=new Sf(t,i)),zl(e._repo,e,r)}var Rf=Lt((function e(){Rt(this,e)})),Of=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){vl("endAt",this._value,e._path,!0);var t=$s(e._queryParams,this._value,this._key);if(pf(t),df(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ff(e._repo,e._path,t,e._orderByCalled)}}]),n}(Rf);var Lf=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){vl("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===fs||n?$s(e,t,n):$s(e,t,eo)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(pf(t),df(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ff(e._repo,e._path,t,e._orderByCalled)}}]),n}(Rf);var Mf=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){vl("startAt",this._value,e._path,!0);var t=Ys(e._queryParams,this._value,this._key);if(pf(t),df(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ff(e._repo,e._path,t,e._orderByCalled)}}]),n}(Rf);var Ff=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){vl("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===fs||n?Ys(e,t,n):Ys(e,t,to)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(pf(t),df(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ff(e._repo,e._path,t,e._orderByCalled)}}]),n}(Rf);var jf=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this))._limit=e,r}return Lt(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ff(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Rf);var Vf=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this))._limit=e,r}return Lt(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ff(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Rf);var Bf=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this))._path=e,r}return Lt(n,[{key:"_apply",value:function(e){hf(e,"orderByChild");var t=new Uo(this._path);if($o(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new js(t),r=Xs(e._queryParams,n);return df(r),new ff(e._repo,e._path,r,!0)}}]),n}(Rf);var Uf=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hf(e,"orderByKey");var t=Xs(e._queryParams,fs);return df(t),new ff(e._repo,e._path,t,!0)}}]),n}(Rf);var qf=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hf(e,"orderByPriority");var t=Xs(e._queryParams,Ts);return df(t),new ff(e._repo,e._path,t,!0)}}]),n}(Rf);var zf=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hf(e,"orderByValue");var t=Xs(e._queryParams,Bs);return df(t),new ff(e._repo,e._path,t,!0)}}]),n}(Rf);var Wf=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){if(vl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Of(this._value,this._key)._apply(new Mf(this._value,this._key)._apply(e))}}]),n}(Rf);function Hf(e){for(var t=ti(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){er(!ac,"__referenceConstructor has already been defined"),ac=e}(vf),function(e){er(!hc,"__referenceConstructor has already been defined"),hc=e}(vf);var Kf="FIREBASE_DATABASE_EMULATOR_HOST",Gf={},Qf=!1;function Yf(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Xa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qa("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=nf(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Kf]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=nf(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new mo(mo.OWNER):new vo(e.name,e.options,t);xl("Invalid Firebase Database URL",s),$o(s.path)||Xa("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Gf[t.name];i||(i={},Gf[t.name]=i);var a=i[e.toURLString()];a&&Xa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Dl(e,Qf,n,r),i[e.toURLString()]=a,a}(u,e,l,new po(e.name,n));return new $f(f,e)}var $f=function(){function e(t,n){Rt(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Lt(e,[{key:"_repo",get:function(){return this._instanceStarted||(Rl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new vf(this._repo,qo())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Gf[t];n&&n[e.key]===e||Xa("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Wl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Xa("Cannot call "+e+" on a deleted database.")}}]),e}();function Xf(){Oo.IS_TRANSPORT_INITIALIZED&&Ja("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jf(){Xf(),No.forceDisallow()}function Zf(){Xf(),Ro.forceDisallow(),No.forceAllow()}function eh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ti(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Xa("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new mo(mo.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:mr(r.mockUserToken,e.app.options.projectId);a=new mo(o)}!function(e,t,n,r){e.repoInfo_=new _o("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function th(e){var t;(e=ti(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Nl)}function nh(e,t){Ga(e,t)}var rh={".sv":"timestamp"};var ih=function(){function e(t,n){Rt(this,e),this.committed=t,this.snapshot=n}return Lt(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function ah(e,t,n){var r;if(e=ti(e),_l("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new vr,o=If(e,(function(){}));return function(e,t,n,r,i,a){Hl(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:qa(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Gl(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ml("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=tl(e.transactionQueueTree_,t),f=nl(l)||[];f.push(o),rl(l,f),"object"===typeof u&&null!==u&&Dr(u,".priority")?(c=Rr(u,".priority"),er(pl(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Rc(e.serverSyncTree_,t)||Os.EMPTY_NODE).getPriority().val();var h=Ll(e),d=Fs(u,c),p=Jc(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Vl(e);var v=Cc(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Il(e.eventQueue_,t,v),Ql(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new mf(r,new vf(e._repo,e._path),Ts),a.resolve(new ih(n,i)))}),o,i),a.promise}os.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},os.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){La(Zi),Ki(new ai("database",(function(e,t){var n=t.instanceIdentifier;return Yf(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),aa(Da,Ra,e),aa(Da,Ra,"esm2017")}();var oh=new mi("@firebase/database-compat"),sh=function(e){var t="FIREBASE WARNING: "+e;oh.warn(t)},uh=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"cancel",value:function(e){Hr("OnDisconnect.cancel",0,1,arguments.length),Gr("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Hr("OnDisconnect.remove",0,1,arguments.length),Gr("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Hr("OnDisconnect.set",1,2,arguments.length),Gr("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Hr("OnDisconnect.setWithPriority",2,3,arguments.length),Gr("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Hr("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gr("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),ch=function(){function e(t,n){Rt(this,e),this.committed=t,this.snapshot=n}return Lt(e,[{key:"toJSON",value:function(){return Hr("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),lh=function(){function e(t,n){Rt(this,e),this._database=t,this._delegate=n}return Lt(e,[{key:"val",value:function(){return Hr("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Hr("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Hr("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Hr("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Hr("DataSnapshot.child",0,1,arguments.length),t=String(t),kl("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Hr("DataSnapshot.hasChild",1,1,arguments.length),kl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Hr("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Hr("DataSnapshot.forEach",1,1,arguments.length),Gr("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Hr("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Hr("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Hr("DataSnapshot.ref",0,0,arguments.length),new hh(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),fh=function(){function e(t,n){Rt(this,e),this.database=t,this._delegate=n}return Lt(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Hr("Query.on",2,4,arguments.length),Gr("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new lh(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return If(this._delegate,u,c),n;case"child_added":return Tf(this._delegate,u,c),n;case"child_removed":return Af(this._delegate,u,c),n;case"child_changed":return Pf(this._delegate,u,c),n;case"child_moved":return Nf(this._delegate,u,c),n;default:throw new Error(Kr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Hr("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Kr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Gr("Query.off","callback",t,!0),Qr("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Df(this._delegate,e,r)}else Df(this._delegate,e)}},{key:"get",value:function(){var e=this;return xf(this._delegate).then((function(t){return new lh(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Hr("Query.once",1,4,arguments.length),Gr("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new vr,u=function(e,t){var r=new lh(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":If(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Tf(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Af(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Pf(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Nf(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Kr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Hr("Query.limitToFirst",1,1,arguments.length),new e(this.database,Hf(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jf(e)}(t)))}},{key:"limitToLast",value:function(t){return Hr("Query.limitToLast",1,1,arguments.length),new e(this.database,Hf(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Vf(e)}(t)))}},{key:"orderByChild",value:function(t){return Hr("Query.orderByChild",1,1,arguments.length),new e(this.database,Hf(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kl("orderByChild","path",e,!1),new Bf(e)}(t)))}},{key:"orderByKey",value:function(){return Hr("Query.orderByKey",0,0,arguments.length),new e(this.database,Hf(this._delegate,new Uf))}},{key:"orderByPriority",value:function(){return Hr("Query.orderByPriority",0,0,arguments.length),new e(this.database,Hf(this._delegate,new qf))}},{key:"orderByValue",value:function(){return Hr("Query.orderByValue",0,0,arguments.length),new e(this.database,Hf(this._delegate,new zf))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Hr("Query.startAt",0,2,arguments.length),new e(this.database,Hf(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return wl("startAt","key",t,!0),new Mf(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Hr("Query.startAfter",0,2,arguments.length),new e(this.database,Hf(this._delegate,function(e,t){return wl("startAfter","key",t,!0),new Ff(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Hr("Query.endAt",0,2,arguments.length),new e(this.database,Hf(this._delegate,function(e,t){return wl("endAt","key",t,!0),new Of(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Hr("Query.endBefore",0,2,arguments.length),new e(this.database,Hf(this._delegate,function(e,t){return wl("endBefore","key",t,!0),new Lf(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return Hr("Query.equalTo",1,2,arguments.length),new e(this.database,Hf(this._delegate,function(e,t){return wl("equalTo","key",t,!0),new Wf(e,t)}(t,n)))}},{key:"toString",value:function(){return Hr("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Hr("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Hr("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new hh(this.database,new vf(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Gr(e,"cancel",r.cancel,!0),r.context=n,Qr(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Kr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),hh=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,new ff(r._repo,r._path,new Qs,!1))).database=e,i._delegate=r,i}return Lt(n,[{key:"getKey",value:function(){return Hr("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Hr("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,wf(this._delegate,e))}},{key:"getParent",value:function(){Hr("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Hr("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Hr("Reference.set",1,2,arguments.length),Gr("Reference.set","onComplete",t,!0);var n=bf(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Hr("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,sh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_l("Reference.update",this._delegate._path),Gr("Reference.update","onComplete",t,!0);var i=_f(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Hr("Reference.setWithPriority",2,3,arguments.length),Gr("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(_l("setWithPriority",e._path),vl("setWithPriority",t,e._path,!1),gl("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new vr;return Bl(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Hr("Reference.remove",0,1,arguments.length),Gr("Reference.remove","onComplete",e,!0);var t=kf(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Hr("Reference.transaction",1,3,arguments.length),Gr("Reference.transaction","transactionUpdate",e,!1),Gr("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Kr(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=ah(this._delegate,e,{applyLocally:n}).then((function(e){return new ch(e.committed,new lh(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Hr("Reference.setPriority",1,2,arguments.length),Gr("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=ti(e),_l("setPriority",e._path),gl("setPriority",t,!1);var n=new vr;return Bl(e._repo,Yo(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Hr("Reference.push",0,2,arguments.length),Gr("Reference.push","onComplete",t,!0);var i=function(e,t){e=ti(e),_l("push",e._path),vl("push",t,e._path,!0);var n,r=Ol(e._repo),i=of(r),a=wf(e,i),o=wf(e,i);return n=null!=t?bf(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return _l("Reference.onDisconnect",this._delegate._path),new uh(new lf(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(fh),dh=function(){function e(t,n){var r=this;Rt(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Jf,forceLongPolling:Zf}}return Lt(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eh(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Hr("database.ref",0,1,arguments.length),e instanceof hh){var t=gf(this._delegate,e.toString());return new hh(this,t)}var n=yf(this._delegate,e);return new hh(this,n)}},{key:"refFromURL",value:function(e){Hr("database.refFromURL",1,1,arguments.length);var t=gf(this._delegate,e);return new hh(this,t)}},{key:"goOffline",value:function(){return Hr("database.goOffline",0,0,arguments.length),function(e){(e=ti(e))._checkNotDeleted("goOffline"),Wl(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return Hr("database.goOnline",0,0,arguments.length),th(this._delegate)}}]),e}();dh.ServerValue={TIMESTAMP:rh,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var ph,vh=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;La(r);var u=new si("auth-internal",new li("database-standalone"));return u.setComponent(new ai("auth-internal",(function(){return i}),"PRIVATE")),{instance:new dh(Yf(t,u,void 0,n,s),t),namespace:a}}}),mh=dh.ServerValue;(ph=Aa).INTERNAL.registerComponent(new ai("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new dh(i,r)}),"PUBLIC").setServiceProps({Reference:hh,Query:fh,Database:dh,DataSnapshot:lh,enableLogging:nh,INTERNAL:vh,ServerValue:mh}).setMultipleInstances(!0)),ph.registerVersion("@firebase/database-compat","0.3.4");var yh,gh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wh={},kh=kh||{},bh=gh||self;function _h(){}function xh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Eh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sh="closure_uid_"+(1e9*Math.random()>>>0),Ch=0;function Ih(e,t,n){return e.call.apply(e.bind,arguments)}function Th(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ph(e,t,n){return(Ph=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ih:Th).apply(null,arguments)}function Nh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ah(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Dh(){this.s=this.s,this.o=this.o}Dh.prototype.s=!1,Dh.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Sh)&&e[Sh]||(e[Sh]=++Ch))},Dh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Oh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Mh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mh.prototype.h=function(){this.defaultPrevented=!0};var Fh=function(){if(!bh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bh.addEventListener("test",_h,t),bh.removeEventListener("test",_h,t)}catch(n){}return e}();function jh(e){return/^[\s\xa0]*$/.test(e)}var Vh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Bh(e,t){return e<t?-1:e>t?1:0}function Uh(){var e=bh.navigator;return e&&(e=e.userAgent)?e:""}function qh(e){return-1!=Uh().indexOf(e)}function zh(e){return zh[" "](e),e}function Wh(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}zh[" "]=_h;var Hh,Kh=qh("Opera"),Gh=qh("Trident")||qh("MSIE"),Qh=qh("Edge"),Yh=Qh||Gh,$h=qh("Gecko")&&!(-1!=Uh().toLowerCase().indexOf("webkit")&&!qh("Edge"))&&!(qh("Trident")||qh("MSIE"))&&!qh("Edge"),Xh=-1!=Uh().toLowerCase().indexOf("webkit")&&!qh("Edge");function Jh(){var e=bh.document;return e?e.documentMode:void 0}e:{var Zh="",ed=function(){var e=Uh();return $h?/rv:([^\);]+)(\)|;)/.exec(e):Qh?/Edge\/([\d\.]+)/.exec(e):Gh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xh?/WebKit\/(\S+)/.exec(e):Kh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ed&&(Zh=ed?ed[1]:""),Gh){var td=Jh();if(null!=td&&td>parseFloat(Zh)){Hh=String(td);break e}}Hh=Zh}var nd,rd={};if(bh.document&&Gh){var id=Jh();nd=id||(parseInt(Hh,10)||void 0)}else nd=void 0;var ad=nd;function od(e,t){if(Mh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($h){e:{try{zh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&od.$.h.call(this)}}Ah(od,Mh);var sd={2:"touch",3:"pen",4:"mouse"};od.prototype.h=function(){od.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ud="closure_listenable_"+(1e6*Math.random()|0),cd=0;function ld(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++cd,this.fa=this.ia=!1}function fd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function hd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function dd(e){var t={};for(var n in e)t[n]=e[n];return t}var pd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<pd.length;a++)n=pd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function md(e){this.src=e,this.g={},this.h=0}function yd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Rh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}md.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ld(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var wd="closure_lm_"+(1e6*Math.random()|0),kd={};function bd(e,t,n,r,i){if(r&&r.once)return xd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bd(e,t[a],n,r,i);return null}return n=Nd(n),e&&e[ud]?e.O(t,n,Eh(r)?!!r.capture:!!r,i):_d(e,t,n,!1,r,i)}function _d(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Eh(i)?!!i.capture:!!i,s=Td(e);if(s||(e[wd]=s=new md(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Id;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xd(e,t[a],n,r,i);return null}return n=Nd(n),e&&e[ud]?e.P(t,n,Eh(r)?!!r.capture:!!r,i):_d(e,t,n,!0,r,i)}function Ed(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ed(e,t[a],n,r,i);else r=Eh(r)?!!r.capture:!!r,n=Nd(n),e&&e[ud]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gd(a=e.g[t],n,r,i))&&(fd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Td(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gd(t,n,r,i)),(n=-1<e?t[e]:null)&&Sd(n))}function Sd(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ud])yd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Td(t))?(yd(n,e),0==n.h&&(n.src=null,t[wd]=null)):fd(e)}}}function Cd(e){return e in kd?kd[e]:kd[e]="on"+e}function Id(e,t){if(e.fa)e=!0;else{t=new od(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Sd(e),e=n.call(r,t)}return e}function Td(e){return(e=e[wd])instanceof md?e:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nd(e){return"function"===typeof e?e:(e[Pd]||(e[Pd]=function(t){return e.handleEvent(t)}),e[Pd])}function Ad(){Dh.call(this),this.i=new md(this),this.S=this,this.J=null}function Dd(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Mh(t,e);else if(t instanceof Mh)t.target=t.target||e;else{var i=t;vd(t=new Mh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rd(o,r,!0,t)&&i}if(i=Rd(o=t.g=e,r,!0,t)&&i,i=Rd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rd(o=t.g=n[a],r,!1,t)&&i}function Rd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&yd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ah(Ad,Dh),Ad.prototype[ud]=!0,Ad.prototype.removeEventListener=function(e,t,n,r){Ed(this,e,t,n,r)},Ad.prototype.N=function(){if(Ad.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fd(n[r]);delete t.g[e],t.h--}}this.J=null},Ad.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ad.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Od=bh.JSON.stringify;function Ld(){var e=zd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Md,Fd=function(){function e(){Rt(this,e),this.h=this.g=null}return Lt(e,[{key:"add",value:function(e,t){var n=jd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jd=new(function(){function e(t,n){Rt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vd}),(function(e){return e.reset()})),Vd=function(){function e(){Rt(this,e),this.next=this.g=this.h=null}return Lt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Bd(e){bh.setTimeout((function(){throw e}),0)}function Ud(e,t){Md||function(){var e=bh.Promise.resolve(void 0);Md=function(){e.then(Wd)}}(),qd||(Md(),qd=!0),zd.add(e,t)}var qd=!1,zd=new Fd;function Wd(){for(var e;e=Ld();){try{e.h.call(e.g)}catch(n){Bd(n)}var t=jd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qd=!1}function Hd(e,t){Ad.call(this),this.h=e||1,this.g=t||bh,this.j=Ph(this.qb,this),this.l=Date.now()}function Kd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Gd(e,t,n){if("function"===typeof e)n&&(e=Ph(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ph(e.handleEvent,e)}return 2147483647<Number(t)?-1:bh.setTimeout(e,t||0)}function Qd(e){e.g=Gd((function(){e.g=null,e.i&&(e.i=!1,Qd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ah(Hd,Ad),(yh=Hd.prototype).ga=!1,yh.T=null,yh.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dd(this,"tick"),this.ga&&(Kd(this),this.start()))}},yh.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yh.N=function(){Hd.$.N.call(this),Kd(this),delete this.g};var Yd=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qd(this)}},{key:"N",value:function(){Sn(En(n.prototype),"N",this).call(this),this.g&&(bh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Dh);function $d(e){Dh.call(this),this.h=e,this.g={}}Ah($d,Dh);var Xd=[];function Jd(e,t,n,r){Array.isArray(n)||(n&&(Xd[0]=n.toString()),n=Xd);for(var i=0;i<n.length;i++){var a=bd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Zd(e){hd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Sd(e)}),e),e.g={}}function ep(){this.g=!0}function tp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Od(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}$d.prototype.N=function(){$d.$.N.call(this),Zd(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ep.prototype.Ea=function(){this.g=!1},ep.prototype.info=function(){};var np={},rp=null;function ip(){return rp=rp||new Ad}function ap(e){Mh.call(this,np.Ta,e)}function op(e){var t=ip();Dd(t,new ap(t))}function sp(e,t){Mh.call(this,np.STAT_EVENT,e),this.stat=t}function up(e){var t=ip();Dd(t,new sp(t,e))}function cp(e,t){Mh.call(this,np.Ua,e),this.size=t}function lp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bh.setTimeout((function(){e()}),t)}np.Ta="serverreachability",Ah(ap,Mh),np.STAT_EVENT="statevent",Ah(sp,Mh),np.Ua="timingevent",Ah(cp,Mh);var fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dp(){}function pp(e){return e.h||(e.h=e.i())}function vp(){}dp.prototype.h=null;var mp,yp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gp(){Mh.call(this,"d")}function wp(){Mh.call(this,"c")}function kp(){}function bp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new $d(this),this.P=xp,e=Yh?125:void 0,this.V=new Hd(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}Ah(gp,Mh),Ah(wp,Mh),Ah(kp,dp),kp.prototype.g=function(){return new XMLHttpRequest},kp.prototype.i=function(){return{}},mp=new kp;var xp=45e3,Ep={},Sp={};function Cp(e,t,n){e.L=1,e.v=Hp(Bp(t)),e.s=n,e.S=!0,Ip(e,null)}function Ip(e,t){e.G=Date.now(),Ap(e),e.A=Bp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),iv(n.i,"t",r),e.C=0,n=e.l.I,e.h=new _p,e.g=am(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Yd(Ph(e.Pa,e,e.g),e.O)),Jd(e.U,e.g,"readystatechange",e.nb),t=e.I?dd(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),op(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Tp(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Pp(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Np(e,n))==Sp){4==t&&(e.o=4,up(14),i=!1),tp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ep){e.o=4,up(15),tp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tp(e.j,e.m,r,null),Mp(e,r)}Tp(e)&&r!=Sp&&r!=Ep&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,up(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xv(t),t.L=!0,up(11))):(tp(e.j,e.m,n,"[Invalid Chunked Response]"),Lp(e),Op(e))}function Np(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Sp:(n=Number(t.substring(n,r)),isNaN(n)?Ep:(r+=1)+n>t.length?Sp:(t=t.substr(r,n),e.C=r+n,t))}function Ap(e){e.Y=Date.now()+e.P,Dp(e,e.P)}function Dp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lp(Ph(e.lb,e),t)}function Rp(e){e.B&&(bh.clearTimeout(e.B),e.B=null)}function Op(e){0==e.l.H||e.J||em(e.l,e)}function Lp(e){Rp(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Kd(e.V),Zd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Mp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||hv(n.h,e)))if(!e.K&&hv(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zv(n),zv(n)}$v(n),up(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=lp(Ph(n.ib,n),6e3));if(1>=fv(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else nm(n,11)}else if((e.K||n.g==e)&&Zv(n),!jh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(dv(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Wp(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=im(r,r.I?r.oa:null,r.Y),d.K){pv(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rp(p),Ap(p)),r.g=d}else Yv(r);0<n.i.length&&Hv(n)}else"stop"!=a[0]&&"close"!=a[0]||nm(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nm(n,7):qv(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}op()}catch(a){}}function Fp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(yh=bp.prototype).setTimeout=function(e){this.P=e},yh.nb=function(e){e=e.target;var t=this.M;t&&3==Mv(e)?t.l():this.Pa(e)},yh.Pa=function(e){try{if(e==this.g)e:{var t=Mv(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Yh||this.g&&(this.h.h||this.g.ja()||Fv(this.g)))){this.J||4!=t||7==n||op(),Rp(this);var r=this.g.da();this.aa=r;t:if(Tp(this)){var i=Fv(this.g);e="";var a=i.length,o=4==Mv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lp(this),Op(this);var s="";break t}this.h.i=new bh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jh(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,up(12),Lp(this),Op(this);break e}tp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mp(this,r)}this.S?(Pp(this,t,s),Yh&&this.i&&3==t&&(Jd(this.U,this.V,"tick",this.mb),this.V.start())):(tp(this.j,this.m,s,null),Mp(this,s)),4==t&&Lp(this),this.i&&!this.J&&(4==t?em(this.l,this):(this.i=!1,Ap(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,up(12)):(this.o=0,up(13)),Lp(this),Op(this)}}}catch(t){}},yh.mb=function(){if(this.g){var e=Mv(this.g),t=this.g.ja();this.C<t.length&&(Rp(this),Pp(this,e,t),this.i&&4!=e&&Ap(this))}},yh.cancel=function(){this.J=!0,Lp(this)},yh.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(op(),up(17)),Lp(this),this.o=2,Op(this)):Dp(this,this.Y-e)};var jp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vp){this.h=void 0!==t?t:e.h,Up(this,e.j),this.s=e.s,this.g=e.g,qp(this,e.m),this.l=e.l,t=e.i;var n=new ev;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zp(this,n),this.o=e.o}else e&&(n=String(e).match(jp))?(this.h=!!t,Up(this,n[1]||"",!0),this.s=Kp(n[2]||""),this.g=Kp(n[3]||"",!0),qp(this,n[4]),this.l=Kp(n[5]||"",!0),zp(this,n[6]||"",!0),this.o=Kp(n[7]||"")):(this.h=!!t,this.i=new ev(null,this.h))}function Bp(e){return new Vp(e)}function Up(e,t,n){e.j=n?Kp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zp(e,t,n){t instanceof ev?(e.i=t,function(e,t){t&&!e.j&&(tv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nv(this,t),iv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Gp(t,Jp)),e.i=new ev(t,e.h))}function Wp(e,t,n){e.i.set(t,n)}function Hp(e){return Wp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gp(t,Yp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gp(t,Yp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gp(n,"/"==n.charAt(0)?Xp:$p,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gp(n,Zp)),e.join("")};var Yp=/[#\/\?@]/g,$p=/[#\?:]/g,Xp=/[#\?]/g,Jp=/[#\?@]/g,Zp=/#/g;function ev(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nv(e,t){tv(e),t=av(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rv(e,t){return tv(e),t=av(e,t),e.g.has(t)}function iv(e,t,n){nv(e,t),0<n.length&&(e.i=null,e.g.set(av(e,t),Oh(n)),e.h+=n.length)}function av(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(yh=ev.prototype).add=function(e,t){tv(this),this.i=null,e=av(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},yh.forEach=function(e,t){tv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},yh.sa=function(){tv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},yh.Z=function(e){tv(this);var t=[];if("string"===typeof e)rv(this,e)&&(t=t.concat(this.g.get(av(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},yh.set=function(e,t){return tv(this),this.i=null,rv(this,e=av(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},yh.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},yh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ov=Lt((function e(t,n){Rt(this,e),this.h=t,this.g=n}));function sv(e){this.l=e||cv,bh.PerformanceNavigationTiming?e=0<(e=bh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bh.g&&bh.g.Ka&&bh.g.Ka()&&bh.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uv,cv=10;function lv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fv(e){return e.h?1:e.g?e.g.size:0}function hv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dv(e,t){e.g?e.g.add(t):e.h=t}function pv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Qn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Oh(e.i)}function mv(){}function yv(){this.g=new mv}function gv(e,t,n){var r=n||"";try{Fp(e,(function(e,n){var i=e;Eh(e)&&(i=Od(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(xG){throw t.push(r+"type="+encodeURIComponent("_badmap")),xG}}function wv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kv(e){this.l=e.fc||null,this.j=e.ob||!1}function bv(e,t){Ad.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=_v,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sv.prototype.cancel=function(){if(this.i=vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Qn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mv.prototype.stringify=function(e){return bh.JSON.stringify(e,void 0)},mv.prototype.parse=function(e){return bh.JSON.parse(e,void 0)},Ah(kv,dp),kv.prototype.g=function(){return new bv(this.l,this.j)},kv.prototype.i=(uv={},function(){return uv}),Ah(bv,Ad);var _v=0;function xv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ev(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sv(e)}function Sv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(yh=bv.prototype).open=function(e,t){if(this.readyState!=_v)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sv(this)},yh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||bh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},yh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ev(this)),this.readyState=_v},yh.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sv(this)),this.g&&(this.readyState=3,Sv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof bh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},yh.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ev(this):Sv(this),3==this.readyState&&xv(this)}},yh.Za=function(e){this.g&&(this.response=this.responseText=e,Ev(this))},yh.Ya=function(e){this.g&&(this.response=e,Ev(this))},yh.ka=function(){this.g&&Ev(this)},yh.setRequestHeader=function(e,t){this.v.append(e,t)},yh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},yh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cv=bh.JSON.parse;function Iv(e){Ad.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tv,this.L=this.M=!1}Ah(Iv,Ad);var Tv="",Pv=/^https?$/i,Nv=["POST","PUT"];function Av(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dv(e),Ov(e)}function Dv(e){e.F||(e.F=!0,Dd(e,"complete"),Dd(e,"error"))}function Rv(e){if(e.h&&"undefined"!=typeof kh&&(!e.C[1]||4!=Mv(e)||2!=e.da()))if(e.v&&4==Mv(e))Gd(e.La,0,e);else if(Dd(e,"readystatechange"),4==Mv(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(jp)[1]||null;if(!a&&bh.self&&bh.self.location){var o=bh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pv.test(a?a.toLowerCase():"")}t=i}if(t)Dd(e,"complete"),Dd(e,"success");else{e.m=6;try{var s=2<Mv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",Dv(e)}}finally{Ov(e)}}}function Ov(e,t){if(e.g){Lv(e);var n=e.g,r=e.C[0]?_h:null;e.g=null,e.C=null,t||Dd(e,"ready");try{n.onreadystatechange=r}catch(xG){}}}function Lv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(bh.clearTimeout(e.A),e.A=null)}function Mv(e){return e.g?e.g.readyState:0}function Fv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Tv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qm){return null}}function jv(e){var t="";return hd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wp(e,t,n))}function Bv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uv(e){this.Ga=0,this.i=[],this.j=new ep,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bv("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bv("baseRetryDelayMs",5e3,e),this.hb=Bv("retryDelaySeedMs",1e4,e),this.eb=Bv("forwardChannelMaxRetries",2,e),this.xa=Bv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new sv(e&&e.concurrentRequestLimit),this.Ja=new yv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function qv(e){if(Wv(e),3==e.H){var t=e.W++,n=Bp(e.G);Wp(n,"SID",e.J),Wp(n,"RID",t),Wp(n,"TYPE","terminate"),Gv(e,n),(t=new bp(e,e.j,t,void 0)).L=2,t.v=Hp(Bp(n)),n=!1,bh.navigator&&bh.navigator.sendBeacon&&(n=bh.navigator.sendBeacon(t.v.toString(),"")),!n&&bh.Image&&((new Image).src=t.v,n=!0),n||(t.g=am(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ap(t)}rm(e)}function zv(e){e.g&&(Xv(e),e.g.cancel(),e.g=null)}function Wv(e){zv(e),e.u&&(bh.clearTimeout(e.u),e.u=null),Zv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&bh.clearTimeout(e.m),e.m=null)}function Hv(e){lv(e.h)||e.m||(e.m=!0,Ud(e.Na,e),e.C=0)}function Kv(e,t){var n;n=t?t.m:e.W++;var r=Bp(e.G);Wp(r,"SID",e.J),Wp(r,"RID",n),Wp(r,"AID",e.V),Gv(e,r),e.o&&e.s&&Vv(r,e.o,e.s),n=new bp(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Qv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),dv(e.h,n),Cp(n,r,t)}function Gv(e,t){e.ma&&hd(e.ma,(function(e,n){Wp(t,n,e)})),e.l&&Fp({},(function(e,n){Wp(t,n,e)}))}function Qv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ph(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{gv(l,o,"req"+c+"_")}catch(Zm){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Yv(e){e.g||e.u||(e.ba=1,Ud(e.Ma,e),e.A=0)}function $v(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=lp(Ph(e.Ma,e),tm(e,e.A)),e.A++,!0)}function Xv(e){null!=e.B&&(bh.clearTimeout(e.B),e.B=null)}function Jv(e){e.g=new bp(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bp(e.wa);Wp(t,"RID","rpc"),Wp(t,"SID",e.J),Wp(t,"CI",e.M?"0":"1"),Wp(t,"AID",e.V),Wp(t,"TYPE","xmlhttp"),Gv(e,t),e.o&&e.s&&Vv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Hp(Bp(t)),n.s=null,n.S=!0,Ip(n,e)}function Zv(e){null!=e.v&&(bh.clearTimeout(e.v),e.v=null)}function em(e,t){var n=null;if(e.g==t){Zv(e),Xv(e),e.g=null;var r=2}else{if(!hv(e.h,t))return;n=t.F,pv(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Dd(r=ip(),new cp(r,n)),Hv(e)}else Yv(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(fv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=lp(Ph(e.Na,e,t),tm(e,e.C)),e.C++,!0))}(e,t)||2==r&&$v(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nm(e,5);break;case 4:nm(e,10);break;case 3:nm(e,6);break;default:nm(e,2)}}function tm(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function nm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ph(e.pb,e);n||(n=new Vp("//www.google.com/images/cleardot.gif"),bh.location&&"http"==bh.location.protocol||Up(n,"https"),Hp(n)),function(e,t){var n=new ep;if(bh.Image){var r=new Image;r.onload=Nh(wv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nh(wv,n,r,"TestLoadImage: error",!1,t),r.onabort=Nh(wv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nh(wv,n,r,"TestLoadImage: timeout",!1,t),bh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else up(2);e.H=0,e.l&&e.l.za(t),rm(e),Wv(e)}function rm(e){if(e.H=0,e.pa=[],e.l){var t=vv(e.h);0==t.length&&0==e.i.length||(Lh(e.pa,t),Lh(e.pa,e.i),e.h.i.length=0,Oh(e.i),e.i.length=0),e.l.ya()}}function im(e,t,n){var r=n instanceof Vp?Bp(n):new Vp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),qp(r,r.m);else{var i=bh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Vp(null,void 0);r&&Up(a,r),t&&(a.g=t),i&&qp(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Wp(r,n,t),Wp(r,"VER",e.qa),Gv(e,r),r}function am(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Iv(new kv({ob:!0})):new Iv(e.va)).Oa(e.I),t}function om(){}function sm(){if(Gh&&!(10<=Number(ad)))throw Error("Environmental error: no available transport.")}function um(e,t){Ad.call(this),this.g=new Uv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!jh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fm(this)}function cm(e){gp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lm(){wp.call(this),this.status=1}function fm(e){this.g=e}function hm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function pm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(yh=Iv.prototype).Oa=function(e){this.M=e},yh.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mp.g(),this.C=this.u?pp(this.u):pp(mp),this.g.onreadystatechange=Ph(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Av(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Qn(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=bh.FormData&&e instanceof bh.FormData,!(0<=Rh(Nv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Qn(n);try{for(c.s();!(u=c.n()).done;){var l=W(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lv(this),0<this.B&&((this.L=function(e){return Gh&&Wh(rd,9,(function(){for(var e=0,t=Vh(String(Hh)).split("."),n=Vh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Bh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Bh(0==a[2].length,0==o[2].length)||Bh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ph(this.ua,this)):this.A=Gd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Av(this,s)}},yh.ua=function(){"undefined"!=typeof kh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dd(this,"timeout"),this.abort(8))},yh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Dd(this,"complete"),Dd(this,"abort"),Ov(this))},yh.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ov(this,!0)),Iv.$.N.call(this)},yh.La=function(){this.s||(this.G||this.v||this.l?Rv(this):this.kb())},yh.kb=function(){Rv(this)},yh.da=function(){try{return 2<Mv(this)?this.g.status:-1}catch(uv){return-1}},yh.ja=function(){try{return this.g?this.g.responseText:""}catch(uv){return""}},yh.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cv(t)}},yh.Ia=function(){return this.m},yh.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(yh=Uv.prototype).qa=8,yh.H=1,yh.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new bp(this,this.j,e,void 0),n=this.s;if(this.U&&(n?vd(n=dd(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qv(this,t,r),Wp(i=Bp(this.G),"RID",e),Wp(i,"CVER",22),this.F&&Wp(i,"X-HTTP-Session-Id",this.F),Gv(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(jv(n)))+"&"+r:this.o&&Vv(i,this.o,n)),dv(this.h,t),this.bb&&Wp(i,"TYPE","init"),this.P?(Wp(i,"$req",r),Wp(i,"SID","null"),t.ba=!0,Cp(t,i,null)):Cp(t,i,r),this.H=2}}else 3==this.H&&(e?Kv(this,e):0==this.i.length||lv(this.h)||Kv(this))},yh.Ma=function(){if(this.u=null,Jv(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=lp(Ph(this.jb,this),e)}},yh.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,up(10),zv(this),Jv(this))},yh.ib=function(){null!=this.v&&(this.v=null,zv(this),$v(this),up(19))},yh.pb=function(e){e?(this.j.info("Successfully pinged google.com"),up(2)):(this.j.info("Failed to ping google.com"),up(1))},(yh=om.prototype).Ba=function(){},yh.Aa=function(){},yh.za=function(){},yh.ya=function(){},yh.Va=function(){},sm.prototype.g=function(e,t){return new um(e,t)},Ah(um,Ad),um.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;up(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=im(e,null,e.Y),Hv(e)},um.prototype.close=function(){qv(this.g)},um.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Od(e),e=n);t.i.push(new ov(t.fb++,e)),3==t.H&&Hv(t)},um.prototype.N=function(){this.g.l=null,delete this.j,qv(this.g),delete this.g,um.$.N.call(this)},Ah(cm,gp),Ah(lm,wp),Ah(fm,om),fm.prototype.Ba=function(){Dd(this.g,"a")},fm.prototype.Aa=function(e){Dd(this.g,new cm(e))},fm.prototype.za=function(e){Dd(this.g,new lm)},fm.prototype.ya=function(){Dd(this.g,"b")},Ah(hm,(function(){this.blockSize=-1})),hm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)dm(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){dm(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){dm(this,r),i=0;break}}this.h=i,this.i+=t},hm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var vm={};function mm(e){return-128<=e&&128>e?Wh(vm,e,(function(e){return new pm([0|e],0>e?-1:0)})):new pm([0|e],0>e?-1:0)}function ym(e){if(isNaN(e)||!isFinite(e))return wm;if(0>e)return Em(ym(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gm;return new pm(t,0)}var gm=4294967296,wm=mm(0),km=mm(1),bm=mm(16777216);function _m(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xm(e){return-1==e.h}function Em(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pm(n,~e.h).add(km)}function Sm(e,t){return e.add(Em(t))}function Cm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Im(e,t){this.g=e,this.h=t}function Tm(e,t){if(_m(t))throw Error("division by zero");if(_m(e))return new Im(wm,wm);if(xm(e))return t=Tm(Em(e),t),new Im(Em(t.g),Em(t.h));if(xm(t))return t=Tm(e,Em(t)),new Im(Em(t.g),t.h);if(30<e.g.length){if(xm(e)||xm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=km,r=t;0>=r.X(e);)n=Pm(n),r=Pm(r);var i=Nm(n,1),a=Nm(r,1);for(r=Nm(r,2),n=Nm(n,2);!_m(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Nm(r,1),n=Nm(n,1)}return t=Sm(e,i.R(t)),new Im(i,t)}for(i=wm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=ym(n)).R(t);xm(o)||0<o.X(e);)o=(a=ym(n-=r)).R(t);_m(a)&&(a=km),i=i.add(a),e=Sm(e,o)}return new Im(i,e)}function Pm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new pm(n,e.h)}function Nm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new pm(i,e.h)}(yh=pm.prototype).ea=function(){if(xm(this))return-Em(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gm+r)*t,t*=gm}return e},yh.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(_m(this))return"0";if(xm(this))return"-"+Em(this).toString(e);for(var t=ym(Math.pow(e,6)),n=this,r="";;){var i=Tm(n,t).g,a=((0<(n=Sm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(_m(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},yh.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},yh.X=function(e){return xm(e=Sm(this,e))?-1:_m(e)?0:1},yh.abs=function(){return xm(this)?Em(this):this},yh.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new pm(n,-2147483648&n[n.length-1]?-1:0)},yh.R=function(e){if(_m(this)||_m(e))return wm;if(xm(this))return xm(e)?Em(this).R(Em(e)):Em(Em(this).R(e));if(xm(e))return Em(this.R(Em(e)));if(0>this.X(bm)&&0>e.X(bm))return ym(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Cm(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Cm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Cm(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Cm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pm(n,0)},yh.gb=function(e){return Tm(this,e).h},yh.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new pm(n,this.h&e.h)},yh.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new pm(n,this.h|e.h)},yh.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new pm(n,this.h^e.h)},sm.prototype.createWebChannel=sm.prototype.g,um.prototype.send=um.prototype.u,um.prototype.open=um.prototype.m,um.prototype.close=um.prototype.close,fp.NO_ERROR=0,fp.TIMEOUT=8,fp.HTTP_ERROR=6,hp.COMPLETE="complete",vp.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",Ad.prototype.listen=Ad.prototype.O,Iv.prototype.listenOnce=Iv.prototype.P,Iv.prototype.getLastError=Iv.prototype.Sa,Iv.prototype.getLastErrorCode=Iv.prototype.Ia,Iv.prototype.getStatus=Iv.prototype.da,Iv.prototype.getResponseJson=Iv.prototype.Wa,Iv.prototype.getResponseText=Iv.prototype.ja,Iv.prototype.send=Iv.prototype.ha,Iv.prototype.setWithCredentials=Iv.prototype.Oa,hm.prototype.digest=hm.prototype.l,hm.prototype.reset=hm.prototype.reset,hm.prototype.update=hm.prototype.j,pm.prototype.add=pm.prototype.add,pm.prototype.multiply=pm.prototype.R,pm.prototype.modulo=pm.prototype.gb,pm.prototype.compare=pm.prototype.X,pm.prototype.toNumber=pm.prototype.ea,pm.prototype.toString=pm.prototype.toString,pm.prototype.getBits=pm.prototype.D,pm.fromNumber=ym,pm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Em(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ym(Math.pow(n,8)),i=wm,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=ym(Math.pow(n,o)),i=i.R(o).add(ym(s))):i=(i=i.R(r)).add(ym(s))}return i};var Am=wh.createWebChannelTransport=function(){return new sm},Dm=wh.getStatEventTarget=function(){return ip()},Rm=wh.ErrorCode=fp,Om=wh.EventType=hp,Lm=wh.Event=np,Mm=wh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fm=wh.FetchXmlHttpFactory=kv,jm=wh.WebChannel=vp,Vm=wh.XhrIo=Iv,Bm=wh.Md5=hm,Um=wh.Integer=pm,qm="@firebase/firestore",zm=function(){function e(t){Rt(this,e),this.uid=t}return Lt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();zm.UNAUTHENTICATED=new zm(null),zm.GOOGLE_CREDENTIALS=new zm("google-credentials-uid"),zm.FIRST_PARTY=new zm("first-party-uid"),zm.MOCK_USER=new zm("mock-user");var Wm="9.22.0",Hm=new mi("@firebase/firestore");function Km(){return Hm.logLevel}function Gm(e){if(Hm.logLevel<=ci.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($m);Hm.debug.apply(Hm,["Firestore (".concat(Wm,"): ").concat(e)].concat(Dt(i)))}}function Qm(e){if(Hm.logLevel<=ci.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($m);Hm.error.apply(Hm,["Firestore (".concat(Wm,"): ").concat(e)].concat(Dt(i)))}}function Ym(e){if(Hm.logLevel<=ci.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($m);Hm.warn.apply(Hm,["Firestore (".concat(Wm,"): ").concat(e)].concat(Dt(i)))}}function $m(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wm,") INTERNAL ASSERTION FAILED: ")+e;throw Qm(t),new Error(t)}function Jm(e,t){e||Xm()}function Zm(e,t){return e}var ey={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ty=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lt(n)}(Cr),ny=Lt((function e(){var t=this;Rt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ry=Lt((function e(t,n){Rt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),iy=function(){function e(){Rt(this,e)}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ay=function(){function e(t){Rt(this,e),this.token=t,this.changeListener=null}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),oy=function(){function e(t){Rt(this,e),this.t=t,this.currentUser=zm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ny;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ny,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Gm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Gm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ny)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Jm("string"==typeof n.accessToken),new ry(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Jm(null===e||"string"==typeof e),new zm(e)}}]),e}(),sy=function(){function e(t,n,r){Rt(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=zm.FIRST_PARTY,this.g=new Map}return Lt(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),uy=function(){function e(t,n,r){Rt(this,e),this.h=t,this.l=n,this.m=r}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(new sy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cy=Lt((function e(t){Rt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ly=function(){function e(t){Rt(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Gm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Gm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Gm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Gm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Jm("string"==typeof t.token),e.T=t.token,new cy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function fy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var hy=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=fy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function dy(e,t){return e<t?-1:e>t?1:0}function py(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vy(e){return e+"\0"}var my=function(){function e(t,n){if(Rt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ty(ey.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ty(ey.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ty(ey.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ty(ey.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?dy(this.nanoseconds,e.nanoseconds):dy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),yy=function(){function e(t){Rt(this,e),this.timestamp=t}return Lt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new my(0,0))}},{key:"max",value:function(){return new e(new my(253402300799,999999999))}}]),e}(),gy=function(){function e(t,n,r){Rt(this,e),void 0===n?n=0:n>t.length&&Xm(),void 0===r?r=t.length-n:r>t.length-n&&Xm(),this.segments=t,this.offset=n,this.len=r}return Lt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),wy=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ty(ey.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Dt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gy),ky=/^[_a-zA-Z][_a-zA-Z0-9]*$/,by=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ky.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ty(ey.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ty(ey.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ty(ey.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ty(ey.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gy),_y=function(){function e(t){Rt(this,e),this.path=t}return Lt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===wy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(wy.fromString(t))}},{key:"fromName",value:function(t){return new e(wy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(wy.emptyPath())}},{key:"comparator",value:function(e,t){return wy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new wy(t.slice()))}}]),e}(),xy=Lt((function e(t,n,r,i){Rt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ey(e){return e.fields.find((function(e){return 2===e.kind}))}function Sy(e){return e.fields.filter((function(e){return 2!==e.kind}))}xy.UNKNOWN_ID=-1;var Cy=Lt((function e(t,n){Rt(this,e),this.fieldPath=t,this.kind=n}));var Iy=function(){function e(t,n){Rt(this,e),this.sequenceNumber=t,this.offset=n}return Lt(e,null,[{key:"empty",value:function(){return new e(0,Ny.min())}}]),e}();function Ty(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yy.fromTimestamp(1e9===r?new my(n+1,0):new my(n,r));return new Ny(i,_y.empty(),t)}function Py(e){return new Ny(e.readTime,e.key,-1)}var Ny=function(){function e(t,n,r){Rt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Lt(e,null,[{key:"min",value:function(){return new e(yy.min(),_y.empty(),-1)}},{key:"max",value:function(){return new e(yy.max(),_y.empty(),-1)}}]),e}();function Ay(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_y.comparator(e.documentKey,t.documentKey))?n:dy(e.largestBatchId,t.largestBatchId)}var Dy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ry=function(){function e(){Rt(this,e),this.onCommittedListeners=[]}return Lt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Oy(e){return Ly.apply(this,arguments)}function Ly(){return(Ly=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ey.FAILED_PRECONDITION&&t.message===Dy){e.next=2;break}throw t;case 2:Gm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var My=function(){function e(t){var n=this;Rt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Qn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Fy=function(){function e(t,n){var r=this;Rt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new ny,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new By(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Hy(e.target.error);r.v.reject(new By(t,n))}}return Lt(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Gm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new By(n,t)}}}]),e}(),jy=function(){function e(t,n,r){Rt(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(yr())&&Qm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Lt(e,[{key:"$",value:function(){var e=ii(ni().mark((function e(t){var n=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new By(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ty(ey.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ty(ey.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new By(t,n))},i.onupgradeneeded=function(e){Gm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){Gm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ii(ni().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=ni().mark((function e(){var n,s,u,l;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Fy.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),My.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Gm("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gm("SimpleDb","Removing database:",e),zy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!xr())return!1;if(e.C())return!0;var t=yr(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Vy=function(){function e(t){Rt(this,e),this.L=t,this.q=!1,this.U=null}return Lt(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return zy(this.L.delete())}}]),e}(),By=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,ey.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Lt(n)}(ty);function Uy(e){return"IndexedDbTransactionError"===e.name}var qy=function(){function e(t){Rt(this,e),this.store=t}return Lt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zy(n)}},{key:"add",value:function(e){return Gm("SimpleDb","ADD",this.store.name,e,e),zy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gm("SimpleDb","DELETE",this.store.name,e),zy(this.store.delete(e))}},{key:"count",value:function(){return Gm("SimpleDb","COUNT",this.store.name),zy(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new My((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new My((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Gm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new My((function(n,r){t.onerror=function(e){var t=Hy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new My((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Vy(i),o=t(i.primaryKey,i.value,a);if(o instanceof My){var s=o.catch((function(e){return a.done(),My.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return My.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zy(e){return new My((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Hy(e.target.error);n(t)}}))}var Wy=!1;function Hy(e){var t=jy.S(yr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ty("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Wy||(Wy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ky=function(){function e(t,n){Rt(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Lt(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Gm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Gm,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Uy(e.t4)){e.next=17;break}Gm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Oy(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Gy=function(){function e(t,n){Rt(this,e),this.localStore=t,this.persistence=n}return Lt(e,[{key:"nt",value:function(){var e=ii(ni().mark((function e(){var t,n=this,r=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return My.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Gm("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Gm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Py(t);Ay(r,n)>0&&(n=r)})),new Ny(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Qy=function(){function e(t,n){var r=this;Rt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Lt(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Yy(e){return null==e}function $y(e){return 0===e&&1/e==-1/0}function Xy(e){return"number"==typeof e&&Number.isInteger(e)&&!$y(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Jy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eg(t)),t=Zy(e.get(n),t);return eg(t)}function Zy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function eg(e){return e+"\x01\x01"}function tg(e){var t=e.length;if(Jm(t>=2),2===t)return Jm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),wy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xm()}a=o+2}return new wy(r)}Qy.ct=-1;var ng=["userId","batchId"];function rg(e,t){return[e,Jy(t)]}function ig(e,t,n){return[e,Jy(t),n]}var ag={},og=["prefixPath","collectionGroup","readTime","documentId"],sg=["prefixPath","collectionGroup","documentId"],ug=["collectionGroup","readTime","prefixPath","documentId"],cg=["canonicalId","targetId"],lg=["targetId","path"],fg=["path","targetId"],hg=["collectionId","parent"],dg=["indexId","uid"],pg=["uid","sequenceNumber"],vg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mg=["indexId","uid","orderedDocumentKey"],yg=["userId","collectionPath","documentId"],gg=["userId","collectionPath","largestBatchId"],wg=["userId","collectionGroup","largestBatchId"],kg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),bg=[].concat(Dt(kg),["documentOverlays"]),_g=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xg=_g,Eg=[].concat(xg,["indexConfiguration","indexState","indexEntries"]),Sg=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return Lt(n)}(Ry);function Cg(e,t){var n=Zm(e);return jy.M(n.ht,t)}function Ig(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ng=function(){function e(t,n){Rt(this,e),this.comparator=t,this.root=n||Dg.EMPTY}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Dg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ag(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ag(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ag(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ag(this.root,e,this.comparator,!0)}}]),e}(),Ag=function(){function e(t,n,r,i){Rt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Dg=function(){function e(t,n,r,i,a){Rt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xm();if(this.right.isRed())throw Xm();var e=this.left.check();if(e!==this.right.check())throw Xm();return e+(this.isRed()?0:1)}}]),e}();Dg.EMPTY=null,Dg.RED=!0,Dg.BLACK=!1,Dg.EMPTY=new(function(){function e(){Rt(this,e),this.size=0}return Lt(e,[{key:"key",get:function(){throw Xm()}},{key:"value",get:function(){throw Xm()}},{key:"color",get:function(){throw Xm()}},{key:"left",get:function(){throw Xm()}},{key:"right",get:function(){throw Xm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Dg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rg=function(){function e(t){Rt(this,e),this.comparator=t,this.data=new Ng(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Og(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Og(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Og=function(){function e(t){Rt(this,e),this.iter=t}return Lt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Lg(e){return e.hasNext()?e.getNext():void 0}var Mg=function(){function e(t){Rt(this,e),this.fields=t,t.sort(by.comparator)}return Lt(e,[{key:"unionWith",value:function(t){var n,r=new Rg(by.comparator),i=Qn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Qn(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Qn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return py(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Fg=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Lt(n)}($n(Error));var jg=function(e){function t(e){Rt(this,t),this.binaryString=e}return Lt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return dy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fg("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();jg.EMPTY_BYTE_STRING=new jg("");var Vg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bg(e){if(Jm(!!e),"string"==typeof e){var t=0,n=Vg.exec(e);if(Jm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ug(e.seconds),nanos:Ug(e.nanos)}}function Ug(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qg(e){return"string"==typeof e?jg.fromBase64String(e):jg.fromUint8Array(e)}function zg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wg(e){var t=e.mapValue.fields.__previous_value__;return zg(t)?Wg(t):t}function Hg(e){var t=Bg(e.mapValue.fields.__local_write_time__.timestampValue);return new my(t.seconds,t.nanos)}var Kg=Lt((function e(t,n,r,i,a,o,s,u,c){Rt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Gg=function(){function e(t,n){Rt(this,e),this.projectId=t,this.database=n||"(default)"}return Lt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Qg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yg={nullValue:"NULL_VALUE"};function $g(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zg(e)?4:lw(e)?9007199254740991:10:Xm()}function Xg(e,t){if(e===t)return!0;var n=$g(e);if(n!==$g(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hg(e).isEqual(Hg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bg(e.timestampValue),r=Bg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qg(e.bytesValue).isEqual(qg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ug(e.geoPointValue.latitude)===Ug(t.geoPointValue.latitude)&&Ug(e.geoPointValue.longitude)===Ug(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ug(e.integerValue)===Ug(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ug(e.doubleValue),r=Ug(t.doubleValue);return n===r?$y(n)===$y(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return py(e.arrayValue.values||[],t.arrayValue.values||[],Xg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ig(n)!==Ig(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xg(n[i],r[i])))return!1;return!0}(e,t);default:return Xm()}}function Jg(e,t){return void 0!==(e.values||[]).find((function(e){return Xg(e,t)}))}function Zg(e,t){if(e===t)return 0;var n=$g(e),r=$g(t);if(n!==r)return dy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ug(e.integerValue||e.doubleValue),r=Ug(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ew(e.timestampValue,t.timestampValue);case 4:return ew(Hg(e),Hg(t));case 5:return dy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=qg(e),r=qg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=dy(n[i],r[i]);if(0!==a)return a}return dy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=dy(Ug(e.latitude),Ug(t.latitude));return 0!==n?n:dy(Ug(e.longitude),Ug(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Zg(n[i],r[i]);if(a)return a}return dy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Qg.mapValue&&t===Qg.mapValue)return 0;if(e===Qg.mapValue)return 1;if(t===Qg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=dy(r[o],a[o]);if(0!==s)return s;var u=Zg(n[r[o]],i[a[o]]);if(0!==u)return u}return dy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xm()}}function ew(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dy(e,t);var n=Bg(e),r=Bg(t),i=dy(n.seconds,r.seconds);return 0!==i?i:dy(n.nanos,r.nanos)}function tw(e){return nw(e)}function nw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Bg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_y.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Qn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=nw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Qn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(nw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xm();var t,n}function rw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function iw(e){return!!e&&"integerValue"in e}function aw(e){return!!e&&"arrayValue"in e}function ow(e){return!!e&&"nullValue"in e}function sw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uw(e){return!!e&&"mapValue"in e}function cw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=cw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=cw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function lw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function fw(e){return"nullValue"in e?Yg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?rw(Gg.empty(),_y.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xm()}function hw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?rw(Gg.empty(),_y.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Qg:Xm()}function dw(e,t){var n=Zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function pw(e,t){var n=Zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var vw=function(){function e(t){Rt(this,e),this.value=t}return Lt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!uw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cw(t)}},{key:"setAll",value:function(e){var t=this,n=by.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=cw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());uw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Xg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];uw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tg(t,(function(t,n){return e[t]=n}));var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(cw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function mw(e){var t=[];return Tg(e.fields,(function(e,n){var r=new by([e]);if(uw(n)){var i=mw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Qn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Mg(t)}var yw=function(){function e(t,n,r,i,a,o,s){Rt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Lt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(yy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=vw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=vw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=yy.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,yy.min(),yy.min(),yy.min(),vw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,yy.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yy.min(),yy.min(),vw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yy.min(),yy.min(),vw.empty(),2)}}]),e}(),gw=Lt((function e(t,n){Rt(this,e),this.position=t,this.inclusive=n}));function ww(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_y.comparator(_y.fromName(o.referenceValue),n.key):Zg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xg(e.position[n],t.position[n]))return!1;return!0}var bw=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Rt(this,e),this.field=t,this.dir=n}));function _w(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var xw=Lt((function e(){Rt(this,e)})),Ew=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zg(t,this.value)):null!==t&&$g(this.value)===$g(t)&&this.matchesComparison(Zg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ow(e,t,r):"array-contains"===t?new jw(e,r):"in"===t?new Vw(e,r):"not-in"===t?new Bw(e,r):"array-contains-any"===t?new Uw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Lw(e,n):new Mw(e,n)}}]),n}(xw),Sw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return Lt(n,[{key:"matches",value:function(e){return Cw(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=Qn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(xw);function Cw(e){return"and"===e.op}function Iw(e){return"or"===e.op}function Tw(e){return Pw(e)&&Cw(e)}function Pw(e){var t,n=Qn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Sw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Nw(e){if(e instanceof Ew)return e.field.canonicalString()+e.op.toString()+tw(e.value);if(Tw(e))return e.filters.map((function(e){return Nw(e)})).join(",");var t=e.filters.map((function(e){return Nw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Aw(e,t){return e instanceof Ew?function(e,t){return t instanceof Ew&&e.op===t.op&&e.field.isEqual(t.field)&&Xg(e.value,t.value)}(e,t):e instanceof Sw?function(e,t){return t instanceof Sw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Aw(n,t.filters[r])}),!0)}(e,t):void Xm()}function Dw(e,t){var n=e.filters.concat(t);return Sw.create(n,e.op)}function Rw(e){return e instanceof Ew?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(tw(e.value))}(e):e instanceof Sw?function(e){return e.op.toString()+" {"+e.getFilters().map(Rw).join(" ,")+"}"}(e):"Filter"}var Ow=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,i)).key=_y.fromName(i.referenceValue),a}return Lt(n,[{key:"matches",value:function(e){var t=_y.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ew),Lw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"in",r)).keys=Fw("in",r),i}return Lt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ew),Mw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,"not-in",r)).keys=Fw("not-in",r),i}return Lt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ew);function Fw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _y.fromName(e.referenceValue)}))}var jw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return aw(t)&&Jg(t.arrayValue,this.value)}}]),n}(Ew),Vw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){return Rt(this,n),t.call(this,e,"in",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Jg(this.value.arrayValue,t)}}]),n}(Ew),Bw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){return Rt(this,n),t.call(this,e,"not-in",r)}return Lt(n,[{key:"matches",value:function(e){if(Jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Jg(this.value.arrayValue,t)}}]),n}(Ew),Uw=function(e){Cn(n,e);var t=Pn(n);function n(e,r){return Rt(this,n),t.call(this,e,"array-contains-any",r)}return Lt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!aw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Jg(t.value.arrayValue,e)}))}}]),n}(Ew),qw=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function zw(e){return new qw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ww(e){var t=Zm(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Nw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Yy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return tw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return tw(e)})).join(",")),t.dt=n}return t.dt}function Hw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!_w(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Aw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kw(e.startAt,t.startAt)&&kw(e.endAt,t.endAt)}function Kw(e){return _y.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gw(e,t){return e.filters.filter((function(e){return e instanceof Ew&&e.field.isEqual(t)}))}function Qw(e,t,n){var r,i=Yg,a=!0,o=Qn(Gw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Yg,c=!0;switch(s.op){case"<":case"<=":u=fw(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Yg}dw({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];dw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Yw(e,t,n){var r,i=Qg,a=!0,o=Qn(Gw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Qg,c=!0;switch(s.op){case">=":case">":u=hw(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Qg}pw({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];pw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var $w=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Rt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function Xw(e,t,n,r,i,a,o,s){return new $w(e,t,n,r,i,a,o,s)}function Jw(e){return new $w(e)}function Zw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ek(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function tk(e){var t,n=Qn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function nk(e){return null!==e.collectionGroup}function rk(e){var t=Zm(e);if(null===t.wt){t.wt=[];var n=tk(t),r=ek(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new bw(n)),t.wt.push(new bw(by.keyField(),"asc"));else{var i,a=!1,o=Qn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new bw(by.keyField(),u))}}}return t.wt}function ik(e){var t=Zm(e);if(!t._t)if("F"===t.limitType)t._t=zw(t.path,t.collectionGroup,rk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Qn(rk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new gw(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new gw(t.startAt.position,t.startAt.inclusive):null;t._t=zw(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function ak(e,t){t.getFirstInequalityField(),tk(e);var n=e.filters.concat([t]);return new $w(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ok(e,t,n){return new $w(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sk(e,t){return Hw(ik(e),ik(t))&&e.limitType===t.limitType}function uk(e){return"".concat(Ww(ik(e)),"|lt:").concat(e.limitType)}function ck(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Rw(e)})).join(", "),"]")),Yy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return tw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return tw(e)})).join(",")),"Target(".concat(t,")")}(ik(e)),"; limitType=").concat(e.limitType,")")}function lk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_y.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Qn(rk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Qn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ww(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rk(e),t))&&!(e.endAt&&!function(e,t,n){var r=ww(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rk(e),t))}(e,t)}function fk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hk(e){return function(t,n){var r,i=!1,a=Qn(rk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=dk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function dk(e,t,n){var r=e.field.isKeyField()?_y.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zg(r,i):Xm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xm()}}var pk=function(){function e(t,n){Rt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Lt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=W(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Tg(this.inner,(function(t,n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=W(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Pg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),vk=new Ng(_y.comparator);function mk(){return vk}var yk=new Ng(_y.comparator);function gk(){for(var e=yk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function wk(e){var t=yk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function kk(){return _k()}function bk(){return _k()}function _k(){return new pk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xk=new Ng(_y.comparator),Ek=new Rg(_y.comparator);function Sk(){for(var e=Ek,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ck=new Rg(dy);function Ik(){return Ck}function Tk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$y(t)?"-0":t}}function Pk(e){return{integerValue:""+e}}function Nk(e,t){return Xy(t)?Pk(t):Tk(e,t)}var Ak=Lt((function e(){Rt(this,e),this._=void 0}));function Dk(e,t,n){return e instanceof Lk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zg(t)&&(t=Wg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Mk?Fk(e,t):e instanceof jk?Vk(e,t):function(e,t){var n=Ok(e,t),r=Uk(n)+Uk(e.gt);return iw(n)&&iw(e.gt)?Pk(r):Tk(e.serializer,r)}(e,t)}function Rk(e,t,n){return e instanceof Mk?Fk(e,t):e instanceof jk?Vk(e,t):n}function Ok(e,t){return e instanceof Bk?iw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Lk=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}(Ak),Mk=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Ak);function Fk(e,t){var n,r=qk(t),i=Qn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Xg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jk=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Ak);function Vk(e,t){var n,r=qk(t),i=Qn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Xg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Bk=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return Lt(n)}(Ak);function Uk(e){return Ug(e.integerValue||e.doubleValue)}function qk(e){return aw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var zk=Lt((function e(t,n){Rt(this,e),this.field=t,this.transform=n}));var Wk=Lt((function e(t,n){Rt(this,e),this.version=t,this.transformResults=n})),Hk=function(){function e(t,n){Rt(this,e),this.updateTime=t,this.exists=n}return Lt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Kk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Gk=Lt((function e(){Rt(this,e)}));function Qk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ob(e.key,Hk.none()):new Zk(e.key,e.data,Hk.none());var n,r=e.data,i=vw.empty(),a=new Rg(by.comparator),o=Qn(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new eb(e.key,i,new Mg(a.toArray()),Hk.none())}function Yk(e,t,n){e instanceof Zk?function(e,t,n){var r=e.value.clone(),i=nb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eb?function(e,t,n){if(Kk(e.precondition,t)){var r=nb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $k(e,t,n,r){return e instanceof Zk?function(e,t,n,r){if(!Kk(e.precondition,t))return n;var i=e.value.clone(),a=rb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof eb?function(e,t,n,r){if(!Kk(e.precondition,t))return n;var i=rb(e.fieldTransforms,r,t),a=t.data;return a.setAll(tb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Kk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Xk(e,t){var n,r=null,i=Qn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ok(a.transform,o||null);null!=s&&(null===r&&(r=vw.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Jk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&py(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mk&&t instanceof Mk||e instanceof jk&&t instanceof jk?py(e.elements,t.elements,Xg):e instanceof Bk&&t instanceof Bk?Xg(e.gt,t.gt):e instanceof Lk&&t instanceof Lk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Zk=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Rt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gk),eb=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Rt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Lt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Gk);function tb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function nb(e,t,n){var r=new Map;Jm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Rk(o,s,n[i]))}return r}function rb(e,t,n){var r,i=new Map,a=Qn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Dk(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ib,ab,ob=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gk),sb=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Lt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Gk),ub=function(){function e(t,n,r,i){Rt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Qn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=$k(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Qn(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=$k(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=bk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Qk(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(yy.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Sk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&py(this.mutations,e.mutations,(function(e,t){return Jk(e,t)}))&&py(this.baseMutations,e.baseMutations,(function(e,t){return Jk(e,t)}))}}]),e}(),cb=function(){function e(t,n,r,i){Rt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Lt(e,null,[{key:"from",value:function(t,n,r){Jm(t.mutations.length===r.length);for(var i=xk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),lb=function(){function e(t,n){Rt(this,e),this.largestBatchId=t,this.mutation=n}return Lt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),fb=Lt((function e(t,n){Rt(this,e),this.count=t,this.unchangedNames=n}));function hb(e){switch(e){default:return Xm();case ey.CANCELLED:case ey.UNKNOWN:case ey.DEADLINE_EXCEEDED:case ey.RESOURCE_EXHAUSTED:case ey.INTERNAL:case ey.UNAVAILABLE:case ey.UNAUTHENTICATED:return!1;case ey.INVALID_ARGUMENT:case ey.NOT_FOUND:case ey.ALREADY_EXISTS:case ey.PERMISSION_DENIED:case ey.FAILED_PRECONDITION:case ey.ABORTED:case ey.OUT_OF_RANGE:case ey.UNIMPLEMENTED:case ey.DATA_LOSS:return!0}}function db(e){if(void 0===e)return Qm("GRPC error has no .code"),ey.UNKNOWN;switch(e){case ib.OK:return ey.OK;case ib.CANCELLED:return ey.CANCELLED;case ib.UNKNOWN:return ey.UNKNOWN;case ib.DEADLINE_EXCEEDED:return ey.DEADLINE_EXCEEDED;case ib.RESOURCE_EXHAUSTED:return ey.RESOURCE_EXHAUSTED;case ib.INTERNAL:return ey.INTERNAL;case ib.UNAVAILABLE:return ey.UNAVAILABLE;case ib.UNAUTHENTICATED:return ey.UNAUTHENTICATED;case ib.INVALID_ARGUMENT:return ey.INVALID_ARGUMENT;case ib.NOT_FOUND:return ey.NOT_FOUND;case ib.ALREADY_EXISTS:return ey.ALREADY_EXISTS;case ib.PERMISSION_DENIED:return ey.PERMISSION_DENIED;case ib.FAILED_PRECONDITION:return ey.FAILED_PRECONDITION;case ib.ABORTED:return ey.ABORTED;case ib.OUT_OF_RANGE:return ey.OUT_OF_RANGE;case ib.UNIMPLEMENTED:return ey.UNIMPLEMENTED;case ib.DATA_LOSS:return ey.DATA_LOSS;default:return Xm()}}(ab=ib||(ib={}))[ab.OK=0]="OK",ab[ab.CANCELLED=1]="CANCELLED",ab[ab.UNKNOWN=2]="UNKNOWN",ab[ab.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ab[ab.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ab[ab.NOT_FOUND=5]="NOT_FOUND",ab[ab.ALREADY_EXISTS=6]="ALREADY_EXISTS",ab[ab.PERMISSION_DENIED=7]="PERMISSION_DENIED",ab[ab.UNAUTHENTICATED=16]="UNAUTHENTICATED",ab[ab.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ab[ab.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ab[ab.ABORTED=10]="ABORTED",ab[ab.OUT_OF_RANGE=11]="OUT_OF_RANGE",ab[ab.UNIMPLEMENTED=12]="UNIMPLEMENTED",ab[ab.INTERNAL=13]="INTERNAL",ab[ab.UNAVAILABLE=14]="UNAVAILABLE",ab[ab.DATA_LOSS=15]="DATA_LOSS";var pb=function(){function e(){Rt(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Lt(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return vb}},{key:"getOrCreateInstance",value:function(){return null===vb&&(vb=new e),vb}}]),e}(),vb=null;function mb(){return new TextEncoder}var yb=new Um([4294967295,4294967295],0);function gb(e){var t=mb().encode(e),n=new Bm;return n.update(t),new Uint8Array(n.digest())}function wb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Um([n,r],0),new Um([i,a],0)]}var kb=function(){function e(t,n,r){if(Rt(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bb("Invalid padding: ".concat(n));if(r<0)throw new bb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new bb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new bb("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Um.fromNumber(this.It)}return Lt(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Um.fromNumber(n)));return 1===r.compare(yb)&&(r=new Um([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=W(wb(gb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=W(wb(gb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),bb=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Lt(n)}($n(Error)),_b=function(){function e(t,n,r,i,a){Rt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(yy.min(),i,new Ng(dy),mk(),Sk())}}]),e}(),xb=function(){function e(t,n,r,i,a){Rt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Sk(),Sk(),Sk())}}]),e}(),Eb=Lt((function e(t,n,r,i){Rt(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Sb=Lt((function e(t,n){Rt(this,e),this.targetId=t,this.Vt=n})),Cb=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Rt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ib=function(){function e(){Rt(this,e),this.St=0,this.Dt=Nb(),this.Ct=jg.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return Lt(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Sk(),t=Sk(),n=Sk();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xm()}})),new xb(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Nb()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Tb=function(){function e(t){Rt(this,e),this.Gt=t,this.Qt=new Map,this.jt=mk(),this.zt=Pb(),this.Wt=new Ng(dy)}return Lt(e,[{key:"Ht",value:function(e){var t,n=Qn(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Qn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Xm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Kw(a))if(0===r){var o=new _y(a.path);this.Yt(n,o,yw.newNoDocument(o,yy.min()))}else Jm(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=pb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=qg(c).toUint8Array()}catch(e){if(e instanceof Fg)return Ym("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new kb(a,f,d)}catch(e){return Ym(e instanceof bb?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Kw(a.target)){var o=new _y(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,yw.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Sk();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new _b(e,n,this.Wt,this.jt,r);return this.jt=mk(),this.zt=Pb(),this.Wt=new Ng(dy),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Ib,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Rg(dy),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Gm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Ib),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pb(){return new Ng(_y.comparator)}function Nb(){return new Ng(_y.comparator)}var Ab={asc:"ASCENDING",desc:"DESCENDING"},Db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rb={and:"AND",or:"OR"},Ob=Lt((function e(t,n){Rt(this,e),this.databaseId=t,this.useProto3Json=n}));function Lb(e,t){return e.useProto3Json||Yy(t)?t:{value:t}}function Mb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jb(e,t){return Mb(e,t.toTimestamp())}function Vb(e){return Jm(!!e),yy.fromTimestamp(function(e){var t=Bg(e);return new my(t.seconds,t.nanos)}(e))}function Bb(e,t){return function(e){return new wy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ub(e){var t=wy.fromString(e);return Jm(l_(t)),t}function qb(e,t){return Bb(e.databaseId,t.path)}function zb(e,t){var n=Ub(t);if(n.get(1)!==e.databaseId.projectId)throw new ty(ey.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ty(ey.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _y(Gb(n))}function Wb(e,t){return Bb(e.databaseId,t)}function Hb(e){var t=Ub(e);return 4===t.length?wy.emptyPath():Gb(t)}function Kb(e){return new wy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gb(e){return Jm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qb(e,t,n){return{name:qb(e,t),fields:n.value.mapValue.fields}}function Yb(e,t,n){var r=zb(e,t.name),i=Vb(t.updateTime),a=t.createTime?Vb(t.createTime):yy.min(),o=new vw({mapValue:{fields:t.fields}}),s=yw.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function $b(e,t){return"found"in t?function(e,t){Jm(!!t.found),t.found.name,t.found.updateTime;var n=zb(e,t.found.name),r=Vb(t.found.updateTime),i=t.found.createTime?Vb(t.found.createTime):yy.min(),a=new vw({mapValue:{fields:t.found.fields}});return yw.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Jm(!!t.missing),Jm(!!t.readTime);var n=zb(e,t.missing),r=Vb(t.readTime);return yw.newNoDocument(n,r)}(e,t):Xm()}function Xb(e,t){var n;if(t instanceof Zk)n={update:Qb(e,t.key,t.value)};else if(t instanceof ob)n={delete:qb(e,t.key)};else if(t instanceof eb)n={update:Qb(e,t.key,t.data),updateMask:c_(t.fieldMask)};else{if(!(t instanceof sb))return Xm();n={verify:qb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Lk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bk)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Xm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xm()}(e,t.precondition)),n}function Jb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Hk.updateTime(Vb(e.updateTime)):void 0!==e.exists?Hk.exists(e.exists):Hk.none()}(t.currentDocument):Hk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Jm("REQUEST_TIME"===t.setToServerValue),n=new Lk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Mk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jk(i)}else"increment"in t?n=new Bk(e,t.increment):Xm();var a=by.fromServerFormat(t.fieldPath);return new zk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zb(e,t.update.name),a=new vw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Mg(t.map((function(e){return by.fromServerFormat(e)})))}(t.updateMask);return new eb(i,a,o,n,r)}return new Zk(i,a,n,r)}if(t.delete){var s=zb(e,t.delete);return new ob(s,n)}if(t.verify){var u=zb(e,t.verify);return new sb(u,n)}return Xm()}function Zb(e,t){return{documents:[Wb(e,t.path)]}}function e_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return u_(Sw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:o_(e.field),direction:r_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Lb(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function t_(e){var t=Hb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=n_(e);return t instanceof Sw&&Tw(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bw(s_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Yy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gw(n,t)}(n.endAt)),Xw(t,i,s,o,u,"F",c,l)}function n_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=s_(e.unaryFilter.field);return Ew.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=s_(e.unaryFilter.field);return Ew.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=s_(e.unaryFilter.field);return Ew.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=s_(e.unaryFilter.field);return Ew.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xm()}}(e):void 0!==e.fieldFilter?function(e){return Ew.create(s_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sw.create(e.compositeFilter.filters.map((function(e){return n_(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Xm()}}(e.compositeFilter.op))}(e):Xm()}function r_(e){return Ab[e]}function i_(e){return Db[e]}function a_(e){return Rb[e]}function o_(e){return{fieldPath:e.canonicalString()}}function s_(e){return by.fromServerFormat(e.fieldPath)}function u_(e){return e instanceof Ew?function(e){if("=="===e.op){if(sw(e.value))return{unaryFilter:{field:o_(e.field),op:"IS_NAN"}};if(ow(e.value))return{unaryFilter:{field:o_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sw(e.value))return{unaryFilter:{field:o_(e.field),op:"IS_NOT_NAN"}};if(ow(e.value))return{unaryFilter:{field:o_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o_(e.field),op:i_(e.op),value:e.value}}}(e):e instanceof Sw?function(e){var t=e.getFilters().map((function(e){return u_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:a_(e.op),filters:t}}}(e):Xm()}function c_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function l_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var f_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jg.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Rt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Lt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),h_=Lt((function e(t){Rt(this,e),this.fe=t}));function d_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:p_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:qb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Mb(e,t.version.toTimestamp()),createTime:Mb(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:v_(t.version)};else{if(!t.isUnknownDocument())return Xm();r.unknownDocument={path:n.path.toArray(),version:v_(t.version)}}return r}function p_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function v_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function m_(e){var t=new my(e.seconds,e.nanoseconds);return yy.fromTimestamp(t)}function y_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jb(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Jb(e.fe,t)})),s=my.fromMillis(t.localWriteTimeMs);return new ub(t.batchId,s,n,o)}function g_(e){var t,n,r=m_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?m_(e.lastLimboFreeSnapshotVersion):yy.min();return void 0!==e.query.documents?(Jm(1===(n=e.query).documents.length),t=ik(Jw(Hb(n.documents[0])))):t=function(e){return ik(t_(e))}(e.query),new f_(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,jg.fromBase64String(e.resumeToken))}function w_(e,t){var n,r=v_(t.snapshotVersion),i=v_(t.lastLimboFreeSnapshotVersion);n=Kw(t.target)?Zb(e.fe,t.target):e_(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ww(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function k_(e){var t=t_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ok(t,t.limit,"L"):t}function b_(e,t){return new lb(t.largestBatchId,Jb(e.fe,t.overlayMutation))}function __(e,t){var n=t.path.lastSegment();return[e,Jy(t.path.popLast()),n]}function x_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:v_(r.readTime),documentKey:Jy(r.documentKey.path),largestBatchId:r.largestBatchId}}var E_=function(){function e(){Rt(this,e)}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return S_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:m_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return S_(e).put({bundleId:(n=t).id,createTime:v_(Vb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return C_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:k_(t.bundledQuery),readTime:m_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return C_(e).put(function(e){return{name:e.name,readTime:v_(Vb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function S_(e){return Cg(e,"bundles")}function C_(e){return Cg(e,"namedQueries")}var I_=function(){function e(t,n){Rt(this,e),this.serializer=t,this.userId=n}return Lt(e,[{key:"getOverlay",value:function(e,t){var n=this;return T_(e).get(__(this.userId,t)).next((function(e){return e?b_(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=kk();return My.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new lb(t,a);i.push(r.we(e,o))})),My.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jy(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(T_(e).J("collectionPathOverlayIndex",i))})),My.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=kk(),a=Jy(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return T_(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=b_(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=kk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return T_(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=b_(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return T_(e).put(function(e,t,n){var r=W(__(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xb(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function T_(e){return Cg(e,"documentOverlays")}var P_=function(){function e(){Rt(this,e)}return Lt(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ug(e.integerValue));else if("doubleValue"in e){var n=Ug(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),$y(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(qg(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?lw(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xm()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),_y.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function N_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function A_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=N_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}P_.Ve=new P_;var D_=function(){function e(){Rt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Lt(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=A_(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=A_(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),R_=function(){function e(t){Rt(this,e),this.je=t}return Lt(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),O_=function(){function e(t){Rt(this,e),this.je=t}return Lt(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),L_=function(){function e(){Rt(this,e),this.je=new D_,this.ze=new R_(this.je),this.We=new O_(this.je)}return Lt(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),M_=function(){function e(t,n,r,i){Rt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Lt(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function F_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=j_(e.arrayValue,t.arrayValue))?n:0!==(n=j_(e.directionalValue,t.directionalValue))?n:_y.comparator(e.documentKey,t.documentKey)}function j_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var V_=function(){function e(t){Rt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=Qn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Lt(e,[{key:"tn",value:function(e){Jm(e.collectionGroup===this.collectionId);var t=Ey(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Sy(e),r=0,i=0;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){var a=n[r];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],o))return!1}return!0}},{key:"en",value:function(e){var t,n=Qn(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function B_(e){var t,n;if(Jm(e instanceof Ew||e instanceof Sw),e instanceof Ew){if(e instanceof Vw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ew.create(e.field,"==",t)})))||[];return Sw.create(r,"or")}return e}var i=e.filters.map((function(e){return B_(e)}));return Sw.create(i,e.op)}function U_(e){if(0===e.getFilters().length)return[];var t=H_(B_(e));return Jm(W_(t)),q_(t)||z_(t)?[t]:t.getFilters()}function q_(e){return e instanceof Ew}function z_(e){return e instanceof Sw&&Tw(e)}function W_(e){return q_(e)||z_(e)||function(e){if(e instanceof Sw&&Iw(e)){var t,n=Qn(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!q_(r)&&!z_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function H_(e){if(Jm(e instanceof Ew||e instanceof Sw),e instanceof Ew)return e;if(1===e.filters.length)return H_(e.filters[0]);var t=e.filters.map((function(e){return H_(e)})),n=Sw.create(t,e.op);return W_(n=Q_(n))?n:(Jm(n instanceof Sw),Jm(Cw(n)),Jm(n.filters.length>1),n.filters.reduce((function(e,t){return K_(e,t)})))}function K_(e,t){var n;return Jm(e instanceof Ew||e instanceof Sw),Jm(t instanceof Ew||t instanceof Sw),n=e instanceof Ew?t instanceof Ew?function(e,t){return Sw.create([e,t],"and")}(e,t):G_(e,t):t instanceof Ew?G_(t,e):function(e,t){if(Jm(e.filters.length>0&&t.filters.length>0),Cw(e)&&Cw(t))return Dw(e,t.getFilters());var n=Iw(e)?e:t,r=Iw(e)?t:e,i=n.filters.map((function(e){return K_(e,r)}));return Sw.create(i,"or")}(e,t),Q_(n)}function G_(e,t){if(Cw(t))return Dw(t,e.getFilters());var n=t.filters.map((function(t){return K_(e,t)}));return Sw.create(n,"or")}function Q_(e){if(Jm(e instanceof Ew||e instanceof Sw),e instanceof Ew)return e;var t=e.getFilters();if(1===t.length)return Q_(t[0]);if(Pw(e))return e;var n=t.map((function(e){return Q_(e)})),r=[];return n.forEach((function(t){t instanceof Ew?r.push(t):t instanceof Sw&&(t.op===e.op?r.push.apply(r,Dt(t.filters)):r.push(t))})),1===r.length?r[0]:Sw.create(r,e.op)}var Y_=function(){function e(){Rt(this,e),this.rn=new $_}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),My.resolve()}},{key:"getCollectionParents",value:function(e,t){return My.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return My.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return My.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return My.resolve(null)}},{key:"getIndexType",value:function(e,t){return My.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return My.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return My.resolve(null)}},{key:"getMinOffset",value:function(e,t){return My.resolve(Ny.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return My.resolve(Ny.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return My.resolve()}},{key:"updateIndexEntries",value:function(e,t){return My.resolve()}}]),e}(),$_=function(){function e(){Rt(this,e),this.index={}}return Lt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rg(wy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rg(wy.comparator)).toArray()}}]),e}(),X_=new Uint8Array(0),J_=function(){function e(t,n){Rt(this,e),this.user=t,this.databaseId=n,this.on=new $_,this.un=new pk((function(e){return Ww(e)}),(function(e,t){return Hw(e,t)})),this.uid=t.uid||""}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Jy(i)};return Z_(e).put(a)}return My.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vy(t),""],!1,!0);return Z_(e).j(r).next((function(e){var r,i=Qn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(tg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=tx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=nx(e);return a.next((function(e){o.put(x_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=tx(e),r=nx(e),i=ex(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ex(e),i=!0,a=new Map;return My.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Sk(),o=[];return My.forEach(a,(function(i,a){var s;Gm("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ww(t)));var u=function(e,t){var n=Ey(t);if(void 0===n)return null;var r,i=Qn(Gw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Qn(Sy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Qn(Gw(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Qn(Sy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Qw(e,o.fieldPath,e.startAt):Yw(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Qn(Sy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Yw(e,o.fieldPath,e.endAt):Qw(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gw(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return My.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=_y.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return My.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:U_(Sw.create(e.filters,"and")).map((function(t){return zw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[h/c]):X_,f=s.wn(e,u,n[h%c],r),d=s._n(e,u,i[h%c],a),p=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,Dt(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new M_(e,_y.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new M_(e,_y.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new V_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Qn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return My.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Rg(by.comparator),r=!1,i=Qn(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Qn(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Qn(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new L_,i=Qn(Sy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);P_.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new L_;return P_.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new L_;return P_.Ve._e(rw(this.databaseId,t),n.He(function(e){var t=Sy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new L_);var i,a=0,o=Qn(Sy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Qn(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&aw(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);P_.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=Dt(e),a=[],o=Qn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Qn(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new L_;f.seed(l.Qe()),P_.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ew&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=tx(e),i=nx(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return My.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Iy(t.sequenceNumber,new Ny(m_(t.readTime),new _y(tg(t.documentKey)),t.largestBatchId)):Iy.empty(),r=e.fields.map((function(e){var t=W(e,2),n=t[0],r=t[1];return new Cy(by.fromServerFormat(n),r)}));return new xy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=tx(e),a=nx(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return My.forEach(t,(function(t){return a.put(x_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return My.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?My.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),My.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?My.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return ex(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return ex(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=ex(e),i=new Rg(F_);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new M_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Rg(F_),r=this.mn(t,e);if(null==r)return n;var i=Ey(t);if(null!=i){var a=e.data.field(i.fieldPath);if(aw(a)){var o,s=Qn(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new M_(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new M_(t.indexId,e.key,X_,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;Gm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Lg(a),u=Lg(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Lg(o)):l?(i(s),s=Lg(a)):(s=Lg(a),u=Lg(o))}}(r,i,F_,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),My.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return nx(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return F_(e,t)})).filter((function(e,t,n){return!t||0!==F_(e,n[t-1])}));var r=[];r.push(e);var i,a=Qn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=F_(o,e),u=F_(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,X_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,X_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return F_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(rx)}},{key:"getMinOffset",value:function(e,t){var n=this;return My.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Xm()}))})).next(rx)}}]),e}();function Z_(e){return Cg(e,"collectionParents")}function ex(e){return Cg(e,"indexEntries")}function tx(e){return Cg(e,"indexConfiguration")}function nx(e){return Cg(e,"indexState")}function rx(e){Jm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ay(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ny(t.readTime,t.documentKey,n)}var ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ax=function(){function e(t,n,r){Rt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ox(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Jm(1===s)})));var c,l=[],f=Qn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ig(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return My.waitFor(a).next((function(){return l}))}function sx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xm();t=e.noDocument}return JSON.stringify(t).length}ax.DEFAULT_COLLECTION_PERCENTILE=10,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ax.DEFAULT=new ax(41943040,ax.DEFAULT_COLLECTION_PERCENTILE,ax.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ax.DISABLED=new ax(-1,0,0);var ux=function(){function e(t,n,r,i){Rt(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return Lt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=fx(e),o=lx(e);return o.add({}).next((function(s){Jm("number"==typeof s);var u,c=new ub(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Xb(e.fe,t)})),i=n.mutations.map((function(t){return Xb(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Rg((function(e,t){return dy(e.canonicalString(),t.canonicalString())})),d=Qn(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ig(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ag))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),My.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return lx(e).get(t).next((function(e){return e?(Jm(e.userId===n.userId),y_(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?My.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return lx(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Jm(t.batchId>=r),a=y_(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lx(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return y_(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=rg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return fx(e).X({range:i},(function(r,i,o){var s=W(r,3),u=s[0],c=s[1],l=s[2],f=tg(c);if(u===n.userId&&t.path.isEqual(f))return lx(e).get(l).next((function(e){if(!e)throw Xm();Jm(e.userId===n.userId),a.push(y_(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rg(dy),i=[];return t.forEach((function(t){var a=rg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=fx(e).X({range:o},(function(e,i,a){var o=W(e,3),s=o[0],u=o[1],c=o[2],l=tg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),My.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=rg(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Rg(dy);return fx(e).X({range:o},(function(e,t,a){var o=W(e,3),u=o[0],c=o[1],l=o[2],f=tg(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(lx(e).get(t).next((function(e){if(null===e)throw Xm();Jm(e.userId===n.userId),r.push(y_(n.serializer,e))})))})),My.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ox(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),My.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return My.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return fx(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=tg(e[1]);i.push(a)}else r.done()})).next((function(){Jm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return cx(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return hx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Jm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function cx(e,t,n){var r=rg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return fx(e).X({range:a,Y:!0},(function(e,n,r){var a=W(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function lx(e){return Cg(e,"mutations")}function fx(e){return Cg(e,"documentMutations")}function hx(e){return Cg(e,"mutationQueues")}var dx=function(){function e(t){Rt(this,e),this.Nn=t}return Lt(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),px=function(){function e(t,n){Rt(this,e),this.referenceDelegate=t,this.serializer=n}return Lt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new dx(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return yy.fromTimestamp(new my(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return vx(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Jm(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return vx(e).X((function(o,s){var u=g_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return My.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return vx(e).X((function(e,n){var r=g_(n);t(r)}))}},{key:"$n",value:function(e){return mx(e).get("targetGlobalKey").next((function(e){return Jm(null!==e),e}))}},{key:"On",value:function(e,t){return mx(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return vx(e).put(w_(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ww(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vx(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=g_(n);Hw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=yx(e);return t.forEach((function(t){var o=Jy(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),My.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=yx(e);return My.forEach(t,(function(t){var a=Jy(t.path);return My.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=yx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yx(e),i=Sk();return r.X({range:n,Y:!0},(function(e,t,n){var r=tg(e[1]),a=new _y(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jy(t.path),r=IDBKeyRange.bound([n],[vy(n)],!1,!0),i=0;return yx(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=W(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return vx(e).get(t).next((function(e){return e?g_(e):null}))}}]),e}();function vx(e){return Cg(e,"targets")}function mx(e){return Cg(e,"targetGlobal")}function yx(e){return Cg(e,"targetDocuments")}function gx(e,t){var n=W(e,2),r=n[0],i=n[1],a=W(t,2),o=a[0],s=a[1],u=dy(r,o);return 0===u?dy(i,s):u}var wx=function(){function e(t){Rt(this,e),this.Ln=t,this.buffer=new Rg(gx),this.qn=0}return Lt(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kx=function(){function e(t,n,r){Rt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return Lt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;Gm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Uy(e.t0)){e.next=12;break}Gm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Oy(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),bx=function(){function e(t,n){Rt(this,e),this.jn=t,this.params=n}return Lt(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return My.resolve(Qy.ct);var r=new wx(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gm("LruGarbageCollector","Garbage collection skipped; disabled"),My.resolve(ix)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ix):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Km()<=ci.DEBUG&&Gm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),My.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function _x(e,t){return new bx(e,t)}var xx=function(){function e(t,n){Rt(this,e),this.db=t,this.garbageCollector=_x(this,n)}return Lt(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ex(e,n)}},{key:"removeReference",value:function(e,t,n){return Ex(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ex(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return hx(e).Z((function(r){return cx(e,r,t).next((function(e){return e&&(n=!0),My.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,yy.min()),yx(e).delete([0,Jy(o.path)])}))}));i.push(u)}})).next((function(){return My.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ex(e,t)}},{key:"Yn",value:function(e,t){var n,r=yx(e),i=Qy.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=W(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Qy.ct&&t(new _y(tg(n)),i),i=u,n=s):i=Qy.ct})).next((function(){i!==Qy.ct&&t(new _y(tg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ex(e,t){return yx(e).put(function(e,t){return{targetId:0,path:Jy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Sx=function(){function e(){Rt(this,e),this.changes=new pk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,yw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?My.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Cx=function(){function e(t){Rt(this,e),this.serializer=t}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Nx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Nx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],p_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=yw.newInvalidDocument(t);return Nx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:yw.newInvalidDocument(t)};return Nx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},(function(e,i){r={document:n.ts(t,i),size:sx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=mk();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=mk(),i=new Ng(_y.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,sx(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return My.resolve();var r=new Rg(Rx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ax(r.first()),Ax(r.last())),a=r.getIterator(),o=a.getNext();return Nx(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_y.fromSegments([].concat(Dt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Rx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Ax(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),p_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nx(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=mk(),o=Qn(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(_y.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(lk(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=mk(),o=Dx(t,n),s=Dx(t,Ny.max());return Nx(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(_y.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Tx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Px(e).get("remoteDocumentGlobalKey").next((function(e){return Jm(!!e),e}))}},{key:"Zn",value:function(e,t){return Px(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Yb(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_y.fromSegments(t.noDocument.path),i=m_(t.noDocument.readTime);n=yw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xm();var a=_y.fromSegments(t.unknownDocument.path),o=m_(t.unknownDocument.version);n=yw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new my(e[0],e[1]);return yy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(yy.min()))return n}return yw.newInvalidDocument(e)}}]),e}();function Ix(e){return new Cx(e)}var Tx=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new pk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rg((function(e,t){return dy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=d_(t.os.serializer,o);i=i.add(a.path.popLast());var c=sx(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=d_(t.os.serializer,o.convertToNoDocument(yy.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),My.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Sx);function Px(e){return Cg(e,"remoteDocumentGlobal")}function Nx(e){return Cg(e,"remoteDocumentsV14")}function Ax(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Dx(e,t){var n=t.documentKey.path.toArray();return[e,p_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Rx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=dy(n[a],r[a]))return i;return(i=dy(n.length,r.length))||((i=dy(n[n.length-2],r[r.length-2]))||dy(n[n.length-1],r[r.length-1]))}var Ox=Lt((function e(t,n){Rt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Lx=function(){function e(t,n,r,i){Rt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Lt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&$k(r.mutation,e,Mg.empty(),my.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Sk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sk(),i=kk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=gk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=kk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Sk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=mk(),a=_k(),o=_k();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof eb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),$k(o.mutation,t,o.mutation.getFieldMask(),my.now())):a.set(t.key,Mg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ox(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=_k(),i=new Ng((function(e,t){return e-t})),a=Sk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Qn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Mg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Sk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=bk();c.forEach((function(e){if(!a.has(e)){var n=Qk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return My.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _y.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):My.resolve(kk()),s=-1,u=a;return o.next((function(t){return My.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?My.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Sk())})).next((function(e){return{batchId:s,changes:wk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new _y(t)).next((function(e){var t=gk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gk();return this.indexManager.getCollectionParents(e,i).next((function(o){return My.forEach(o,(function(o){var s=function(e,t){return new $w(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,yw.newInvalidDocument(r)))}));var n=gk();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&$k(a.mutation,i,Mg.empty(),my.now()),lk(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Mx=function(){function e(t){Rt(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return My.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Vb(n.createTime)}),My.resolve()}},{key:"getNamedQuery",value:function(e,t){return My.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:k_(e.bundledQuery),readTime:Vb(e.readTime)}}(t)),My.resolve()}}]),e}(),Fx=function(){function e(){Rt(this,e),this.overlays=new Ng(_y.comparator),this.ls=new Map}return Lt(e,[{key:"getOverlay",value:function(e,t){return My.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=kk();return My.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),My.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),My.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kk(),i=t.length+1,a=new _y(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return My.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ng((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=kk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=kk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return My.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new lb(t,n));var a=this.ls.get(t);void 0===a&&(a=Sk(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),jx=function(){function e(){Rt(this,e),this.fs=new Rg(Vx.ds),this.ws=new Rg(Vx._s)}return Lt(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Vx(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Vx(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new _y(new wy([])),r=new Vx(n,e),i=new Vx(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new _y(new wy([])),n=new Vx(t,e),r=new Vx(t,e+1),i=Sk();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Vx(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Vx=function(){function e(t,n){Rt(this,e),this.key=t,this.As=n}return Lt(e,null,[{key:"ds",value:function(e,t){return _y.comparator(e.key,t.key)||dy(e.As,t.As)}},{key:"_s",value:function(e,t){return dy(e.As,t.As)||_y.comparator(e.key,t.key)}}]),e}(),Bx=function(){function e(t,n){Rt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Rg(Vx.ds)}return Lt(e,[{key:"checkEmpty",value:function(e){return My.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ub(i,t,n,r);this.mutationQueue.push(a);var o,s=Qn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new Vx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return My.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return My.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return My.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return My.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return My.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Vx(t,0),i=new Vx(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),My.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rg(dy);return t.forEach((function(e){var t=new Vx(e,0),i=new Vx(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),My.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_y.isDocumentKey(i)||(i=i.child(""));var a=new Vx(new _y(i),0),o=new Rg(dy);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),My.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Jm(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return My.forEach(t.mutations,(function(i){var a=new Vx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Vx(t,0),r=this.Rs.firstAfterOrEqual(n);return My.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,My.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ux=function(){function e(t){Rt(this,e),this.Ds=t,this.docs=new Ng(_y.comparator),this.size=0}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return My.resolve(n?n.document.mutableCopy():yw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():yw.newInvalidDocument(e))})),My.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=mk(),a=t.path,o=new _y(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ay(Py(l),n)<=0||(r.has(l.key)||lk(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return My.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xm()}},{key:"Cs",value:function(e,t){return My.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new qx(this)}},{key:"getSize",value:function(e){return My.resolve(this.size)}}]),e}(),qx=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).os=e,r}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),My.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Sx),zx=function(){function e(t){Rt(this,e),this.persistence=t,this.xs=new pk((function(e){return Ww(e)}),Hw),this.lastRemoteSnapshotVersion=yy.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jx,this.targetCount=0,this.Ms=dx.kn()}return Lt(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),My.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return My.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return My.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),My.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),My.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new dx(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,My.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),My.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,My.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),My.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return My.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return My.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),My.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),My.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),My.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return My.resolve(n)}},{key:"containsKey",value:function(e,t){return My.resolve(this.ks.containsKey(t))}}]),e}(),Wx=function(){function e(t,n){var r=this;Rt(this,e),this.$s={},this.overlays={},this.Os=new Qy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new zx(this),this.indexManager=new Y_,this.remoteDocumentCache=new Ux((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new h_(n),this.qs=new Mx(this.serializer)}return Lt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Fx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Bx(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Gm("MemoryPersistence","Starting transaction:",e);var i=new Hx(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return My.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Hx=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lt(n)}(Ry),Kx=function(){function e(t){Rt(this,e),this.persistence=t,this.Qs=new jx,this.js=null}return Lt(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Xm()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),My.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),My.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),My.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return My.forEach(this.Ws,(function(r){var i=_y.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,yy.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return My.or([function(){return My.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),Gx=function(){function e(t){Rt(this,e),this.serializer=t}return Lt(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Fy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ng,{unique:!0}),e.createObjectStore("documentMutations")}(e),Qx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=My.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Qx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ng,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return My.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:yg});t.createIndex("collectionPathOverlayIndex",gg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",wg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:og});t.createIndex("documentKeyIndex",sg),t.createIndex("collectionGroupIndex",ug)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dg}).createIndex("sequenceNumberIndex",pg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vg}).createIndex("documentKeyIndex",mg,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=sx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return My.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return My.forEach(r,(function(r){Jm(r.userId===n.userId);var i=y_(t.serializer,r);return ox(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new wy(n),o=function(e){return[0,Jy(e)]}(a);r.push(t.get(o).next((function(n){return n?My.resolve():function(n){return t.put({targetId:0,path:Jy(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return My.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:hg});var n=t.store("collectionParents"),r=new $_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jy(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new wy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=W(e,3),r=(n[0],n[1]),a=(n[2],tg(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=g_(r),a=w_(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _y(wy.fromString(i.document.name).popFirst(5)):i.noDocument?_y.fromSegments(i.noDocument.path):i.unknownDocument?_y.fromSegments(i.unknownDocument.path):Xm()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return My.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Ix(this.serializer),a=new Wx(Kx.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Sk();y_(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),My.forEach(r,(function(e,r){var o=new zm(r),s=I_.de(n.serializer,o),u=a.getIndexManager(o),c=ux.de(o,n.serializer,u,a.referenceDelegate);return new Lx(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Sg(t,Qy.ct),e).next()}))}))}}]),e}();function Qx(e){e.createObjectStore("targetDocuments",{keyPath:lg}).createIndex("documentTargetsIndex",fg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cg,{unique:!0}),e.createObjectStore("targetGlobal")}var Yx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$x=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Rt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new ty(ey.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xx(this,i),this.di=n+"main",this.serializer=new h_(u),this.wi=new jy(this.di,this.ui,new Gx(this.serializer)),this.Bs=new px(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ix(this.serializer),this.qs=new E_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Qm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Lt(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ty(ey.FAILED_PRECONDITION,Yx);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Qy(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=ii(ni().mark((function n(r){return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=ii(ni().mark((function t(n){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Jx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Uy(t))return Gm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return Xx(e).get("owner").next((function(e){return My.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return Jx(e).delete(this.clientId)}},{key:"bi",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Cg(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return My.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=Qn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?My.resolve(!0):Xx(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new ty(ey.FAILED_PRECONDITION,Yx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Jx(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ii(ni().mark((function e(){var t=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Sg(e,Qy.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Jx(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return ux.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new J_(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return I_.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Gm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?Eg:14===i?xg:13===i?_g:12===i?bg:11===i?kg:void Xm();return this.wi.runTransaction(e,o,s,(function(i){return a=new Sg(i,r.Os?r.Os.next():Qy.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw Qm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new ty(ey.FAILED_PRECONDITION,Dy);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return Xx(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ty(ey.FAILED_PRECONDITION,Yx)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xx(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=Xx(e);return n.get("owner").next((function(e){return t.Ri(e)?(Gm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):My.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Qm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;_r()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Gm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Qm("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return jy.D()}}]),e}();function Xx(e){return Cg(e,"owner")}function Jx(e){return Cg(e,"clientMetadata")}function Zx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var eE=function(){function e(t,n,r,i){Rt(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return Lt(e,null,[{key:"Li",value:function(t,n){var r,i=Sk(),a=Sk(),o=Qn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tE=function(){function e(){Rt(this,e),this.qi=!1}return Lt(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(Zw(t))return My.resolve(null);var r=ik(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ok(t,null,"F"),r=ik(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Sk.apply(void 0,Dt(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,ok(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return Zw(t)||r.isEqual(yy.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(Km()<=ci.DEBUG&&Gm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ck(t)),i.Wi(e,o,t,Ty(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Rg(hk(e));return t.forEach((function(t,r){lk(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return Km()<=ci.DEBUG&&Gm("QueryEngine","Using full collection scan to execute query:",ck(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ny.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nE=function(){function e(t,n,r,i){Rt(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Ng(dy),this.Yi=new pk((function(e){return Ww(e)}),Hw),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return Lt(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function rE(e,t,n,r){return new nE(e,t,n,r)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Sk(),u=Qn(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Qn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var d,p=Qn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Qn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){var n=Zm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=My.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Jm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Sk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function sE(e){var t=Zm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function uE(e,t){var n=Zm(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(jg.EMPTY_BYTE_STRING,yy.min()).withLastLimboFreeSnapshotVersion(yy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=mk(),u=Sk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cE(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(yy.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return My.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function cE(e,t,n){var r=Sk(),i=Sk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(yy.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Gm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function lE(e,t){var n=Zm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function fE(e,t){var n=Zm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,My.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new f_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function hE(e,t,n){return dE.apply(this,arguments)}function dE(){return dE=ii(ni().mark((function e(t,n,r){var i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zm(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uy(e.t1)){e.next=12;break}throw e.t1;case 12:Gm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dE.apply(this,arguments)}function pE(e,t,n){var r=Zm(e),i=yy.min(),a=Sk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Zm(e),i=r.Yi.get(n);return void 0!==i?My.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,ik(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:yy.min(),n?a:Sk())})).next((function(e){return yE(r,fk(t),e),{documents:e,ir:a}}))}))}function vE(e,t){var n=Zm(e),r=Zm(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function mE(e,t){var n=Zm(e),r=n.Xi.get(t)||yy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Ty(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return yE(n,t,e),e}))}function yE(e,t,n){var r=e.Xi.get(t)||yy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function gE(e,t,n,r){return wE.apply(this,arguments)}function wE(){return wE=ii(ni().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Zm(t),o=Sk(),s=mk(),u=Qn(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,fE(a,function(e){return ik(Jw(wy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cE(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=ii(ni().mark((function e(t,n){var r,i,a,o=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Sk(),e.next=3,fE(t,ik(k_(n.bundledQuery)));case 3:return i=e.sent,a=Zm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Vb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(jg.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function _E(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function EE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var SE=function(){function e(t,n,r,i){Rt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Lt(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ty(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Qm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),CE=function(){function e(t,n,r){Rt(this,e),this.targetId=t,this.state=n,this.error=r}return Lt(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ty(i.error.code,i.error.message))),a?new e(t,i.state,r):(Qm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),IE=function(){function e(t,n){Rt(this,e),this.clientId=t,this.activeTargetIds=n}return Lt(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ik(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Qm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),TE=function(){function e(t,n){Rt(this,e),this.clientId=t,this.onlineState=n}return Lt(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Qm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),PE=function(){function e(){Rt(this,e),this.activeTargetIds=Ik()}return Lt(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),NE=function(){function e(t,n,r,i,a){Rt(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ng(dy),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=_E(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new PE),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return Lt(e,[{key:"start",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=Qn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_E(this.persistenceKey,i)))&&(o=IE.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=Qn(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(EE(this.persistenceKey,e));if(n){var r=CE.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(EE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Qm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(ii(ni().mark((function e(){var r,i,a,o,s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=Qy.ct;if(null!=e)try{var n=JSON.parse(e);Jm("number"==typeof n),t=n}catch(e){Qm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Qy.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new SE(this.currentUser,e,t,n),i=xE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=xE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=EE(this.persistenceKey,e),i=new CE(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return IE.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return SE.ar(new zm(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return CE.ar(r,t)}},{key:"br",value:function(e){return TE.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:Gm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Ik();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),AE=function(){function e(){Rt(this,e),this.Hr=new PE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new PE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),DE=function(){function e(){Rt(this,e)}return Lt(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),RE=function(){function e(){var t=this;Rt(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return Lt(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Gm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Qn(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Gm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Qn(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),OE=null;function LE(){return null===OE?OE=268435456+Math.round(2147483648*Math.random()):OE++,"0x"+OE.toString(16)}var ME={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},FE=function(){function e(t){Rt(this,e),this.ro=t.ro,this.oo=t.oo}return Lt(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),jE="WebChannelConnection",VE=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Lt(n,[{key:"Ao",value:function(e,t,n,r){var i=LE();return new Promise((function(a,o){var s=new Vm;s.setWithCredentials(!0),s.listenOnce(Om.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Rm.NO_ERROR:var t=s.getResponseJson();Gm(jE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Rm.TIMEOUT:Gm(jE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ty(ey.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:var n=s.getStatus();if(Gm(jE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ey).indexOf(t)>=0?t:ey.UNKNOWN}(u.status);o(new ty(c,u.message))}else o(new ty(ey.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ty(ey.UNAVAILABLE,"Connection failed."));break;default:Xm()}}finally{Gm(jE,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Gm(jE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=LE(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Am(),o=Dm(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Fm({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Gm(jE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new FE({ro:function(t){h?Gm(jE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Gm(jE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Gm(jE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,jm.EventType.OPEN,(function(){h||Gm(jE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,jm.EventType.CLOSE,(function(){h||(h=!0,Gm(jE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,jm.EventType.ERROR,(function(t){h||(h=!0,Ym(jE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new ty(ey.UNAVAILABLE,"The operation could not be completed")))})),p(l,jm.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Jm(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Gm(jE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=ib[e];if(void 0!==t)return db(t)}(s),c=o.message;void 0===u&&(u=ey.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new ty(u,c)),l.close()}else Gm(jE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Lm.STAT_EVENT,(function(t){t.stat===Mm.PROXY?Gm(jE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Mm.NOPROXY&&Gm(jE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){Rt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lt(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=LE(),o=this.To(e,t);Gm("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return Gm("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ym("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=ME[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function BE(){return"undefined"!=typeof window?window:null}function UE(){return"undefined"!=typeof document?document:null}function qE(e){return new Ob(e,!0)}var zE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Rt(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return Lt(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Gm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),WE=function(){function e(t,n,r,i,a,o,s,u){Rt(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zE(t,n)}return Lt(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===ey.RESOURCE_EXHAUSTED?(Qm(n.toString()),Qm("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===ey.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=W(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new ty(ey.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Gm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Gm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HE=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a,o,s){var u;return Rt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Lt(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Jm(void 0===t||"string"==typeof t),jg.fromBase64String(t||"")):(Jm(void 0===t||t instanceof Uint8Array),jg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ey.UNKNOWN:db(e.code);return new ty(t,e.message||"")}(o);n=new Cb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=zb(e,u.document.name),l=Vb(u.document.updateTime),f=u.document.createTime?Vb(u.document.createTime):yy.min(),h=new vw({mapValue:{fields:u.document.fields}}),d=yw.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Eb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=zb(e,m.document),g=m.readTime?Vb(m.readTime):yy.min(),w=yw.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Eb([],k,w.key,w)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=zb(e,b.document),x=b.removedTargetIds||[];n=new Eb([],x,_,null)}else{if(!("filter"in t))return Xm();t.filter;var E=t.filter;E.targetId;var S=E.count,C=void 0===S?0:S,I=E.unchangedNames,T=new fb(C,I),P=E.targetId;n=new Sb(P,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return yy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?yy.min():t.readTime?Vb(t.readTime):yy.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=Kb(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Kw(r)?{documents:Zb(e,r)}:{query:e_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Fb(e,t.resumeToken);var i=Lb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(yy.min())>0){n.readTime=Mb(e,t.snapshotVersion.toTimestamp());var a=Lb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=Kb(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(WE),KE=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a,o,s){var u;return Rt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return Lt(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Sn(En(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Jm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Jm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Vb(e.updateTime):Vb(t);return n.isEqual(yy.min())&&(n=Vb(t)),new Wk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Vb(e.commitTime);return this.listener.cu(n,t)}return Jm(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=Kb(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xb(t.serializer,e)}))};this.Wo(n)}}]),n}(WE),GE=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return Lt(n,[{key:"fu",value:function(){if(this.lu)throw new ty(ey.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=W(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ey.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ty(ey.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=W(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ey.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ty(ey.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return Lt((function e(){Rt(this,e)}))}());var QE=function(){function e(t,n){Rt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return Lt(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Qm(t),this.mu=!1):Gm("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),YE=Lt((function e(t,n,r,i,a){var o=this;Rt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=oS(o),!e.t0){e.next=5;break}return Gm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zm(t)).vu.add(4),e.next=4,JE(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,$E(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new QE(r,i)}));function $E(e){return XE.apply(this,arguments)}function XE(){return(XE=ii(ni().mark((function e(t){var n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oS(t)){e.next=18;break}n=Qn(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function JE(e){return ZE.apply(this,arguments)}function ZE(){return(ZE=ii(ni().mark((function e(t){var n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qn(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function eS(e,t){var n=Zm(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),aS(n)?iS(n):LS(n).Ko()&&nS(n,t))}function tS(e,t){var n=Zm(e),r=LS(n);n.Au.delete(t),r.Ko()&&rS(n,t),0===n.Au.size&&(r.Ko()?r.jo():oS(n)&&n.bu.set("Unknown"))}function nS(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yy.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}LS(e).su(t)}function rS(e,t){e.Vu.qt(t),LS(e).iu(t)}function iS(e){e.Vu=new Tb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),LS(e).start(),e.bu.gu()}function aS(e){return oS(e)&&!LS(e).Uo()&&e.Au.size>0}function oS(e){return 0===Zm(e).vu.size}function sS(e){e.Vu=void 0}function uS(e){return cS.apply(this,arguments)}function cS(){return(cS=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){nS(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lS(e,t){return fS.apply(this,arguments)}function fS(){return(fS=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sS(t),aS(t)?(t.bu.Iu(n),iS(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hS(e,t,n){return dS.apply(this,arguments)}function dS(){return dS=ii(ni().mark((function e(t,n,r){var i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Cb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ii(ni().mark((function e(t,n){var r,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Qn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Eb?t.Vu.Ht(n):n instanceof Sb?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(yy.min())){e.next=29;break}return e.prev=14,e.next=17,sE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(jg.EMPTY_BYTE_STRING,r.snapshotVersion)),rS(e,t);var i=new f_(r.target,t,n,r.sequenceNumber);nS(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dS.apply(this,arguments)}function pS(e,t,n){return vS.apply(this,arguments)}function vS(){return(vS=ii(ni().mark((function e(t,n,r){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uy(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,JE(t);case 5:t.bu.set("Offline"),r||(r=function(){return sE(t.localStore)}),t.asyncQueue.enqueueRetryable(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,$E(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mS(e,t){return t().catch((function(n){return pS(e,n,t)}))}function yS(e){return gS.apply(this,arguments)}function gS(){return(gS=ii(ni().mark((function e(t){var n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Zm(t),r=MS(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!wS(n)){e.next=19;break}return e.prev=3,e.next=6,lE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,kS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pS(n,e.t0);case 17:e.next=2;break;case 19:bS(n)&&_S(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function wS(e){return oS(e)&&e.Eu.length<10}function kS(e,t){e.Eu.push(t);var n=MS(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function bS(e){return oS(e)&&!MS(e).Uo()&&e.Eu.length>0}function _S(e){MS(e).start()}function xS(e){return ES.apply(this,arguments)}function ES(){return(ES=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:MS(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SS(e){return CS.apply(this,arguments)}function CS(){return(CS=ii(ni().mark((function e(t){var n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=MS(t),r=Qn(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e,t,n){return TS.apply(this,arguments)}function TS(){return(TS=ii(ni().mark((function e(t,n,r){var i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=cb.from(i,n,r),e.next=3,mS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yS(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PS(e,t){return NS.apply(this,arguments)}function NS(){return NS=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&MS(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hb(i=n.code)||i===ey.ABORTED){e.next=7;break}return r=t.Eu.shift(),MS(t).Qo(),e.next=5,mS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:bS(t)&&_S(t);case 5:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function AS(e,t){return DS.apply(this,arguments)}function DS(){return(DS=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Zm(t)).asyncQueue.verifyOperationInProgress(),Gm("RemoteStore","RemoteStore received new credentials"),i=oS(r),r.vu.add(3),e.next=6,JE(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,$E(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RS(e,t){return OS.apply(this,arguments)}function OS(){return(OS=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zm(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,$E(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,JE(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LS(e){return e.Su||(e.Su=function(e,t,n){var r=Zm(e);return r.fu(),new HE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:uS.bind(null,e),ao:lS.bind(null,e),nu:hS.bind(null,e)}),e.Ru.push(function(){var t=ii(ni().mark((function t(n){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),aS(e)?iS(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:sS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function MS(e){return e.Du||(e.Du=function(e,t,n){var r=Zm(e);return r.fu(),new KE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:xS.bind(null,e),ao:PS.bind(null,e),au:SS.bind(null,e),cu:IS.bind(null,e)}),e.Ru.push(function(){var t=ii(ni().mark((function t(n){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,yS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Gm("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var FS=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ny,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ty(ey.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jS(e,t){if(Qm("AsyncQueue","".concat(t,": ").concat(e)),Uy(e))return new ty(ey.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var VS=function(){function e(t){Rt(this,e),this.comparator=t?function(e,n){return t(e,n)||_y.comparator(e.key,n.key)}:function(e,t){return _y.comparator(e.key,t.key)},this.keyedMap=gk(),this.sortedSet=new Ng(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),BS=function(){function e(){Rt(this,e),this.Cu=new Ng(_y.comparator)}return Lt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xm():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),US=function(){function e(t,n,r,i,a,o,s,u,c){Rt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Lt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,VS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),qS=Lt((function e(){Rt(this,e),this.Nu=void 0,this.listeners=[]})),zS=Lt((function e(){Rt(this,e),this.queries=new pk((function(e){return uk(e)}),sk),this.onlineState="Unknown",this.ku=new Set}));function WS(e,t){return HS.apply(this,arguments)}function HS(){return HS=ii(ni().mark((function e(t,n){var r,i,a,o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=jS(e.t0,"Initialization of query '".concat(ck(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&$S(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),HS.apply(this,arguments)}function KS(e,t){return GS.apply(this,arguments)}function GS(){return GS=ii(ni().mark((function e(t,n){var r,i,a,o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(e,t){var n,r=Zm(e),i=!1,a=Qn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Qn(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&$S(r)}function YS(e,t,n){var r=Zm(e),i=r.queries.get(t);if(i){var a,o=Qn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function $S(e){e.ku.forEach((function(e){e.next()}))}var XS=function(){function e(t,n,r){Rt(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return Lt(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Qn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new US(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=US.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),JS=function(){function e(t,n){Rt(this,e),this.Gu=t,this.byteLength=n}return Lt(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),ZS=function(){function e(t){Rt(this,e),this.serializer=t}return Lt(e,[{key:"rr",value:function(e){return zb(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?Yb(this.serializer,e.document,!1):yw.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Vb(e)}}]),e}(),eC=function(){function e(t,n,r){Rt(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tC(t)}return Lt(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=wy.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new ZS(this.serializer),i=Qn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=Qn(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Sk()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gE(this.localStore,new ZS(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=Qn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,kE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nC=Lt((function e(t){Rt(this,e),this.key=t})),rC=Lt((function e(t){Rt(this,e),this.key=t})),iC=function(){function e(t,n){Rt(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Sk(),this.mutatedKeys=Sk(),this.tc=hk(t),this.ec=new VS(this.tc)}return Lt(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new BS,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=lk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xm()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new US(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new BS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Sk(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new rC(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new nC(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Sk();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return US.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),aC=Lt((function e(t,n,r){Rt(this,e),this.query=t,this.targetId=n,this.view=r})),oC=Lt((function e(t){Rt(this,e),this.key=t,this.fc=!1})),sC=function(){function e(t,n,r,i,a,o){Rt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new pk((function(e){return uk(e)}),sk),this._c=new Map,this.mc=new Set,this.gc=new Ng(_y.comparator),this.yc=new Map,this.Ic=new jx,this.Tc={},this.Ec=new Map,this.Ac=dx.Mn(),this.onlineState="Unknown",this.vc=void 0}return Lt(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function uC(e,t){return cC.apply(this,arguments)}function cC(){return cC=ii(ni().mark((function e(t,n){var r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tI(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,fE(r.localStore,ik(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,lC(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&eS(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t,n,r,i){return fC.apply(this,arguments)}function fC(){return fC=ii(ni().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ii(ni().mark((function e(t,n,r,i){var a,o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,pE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(AC(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,pE(t.localStore,n,!0);case 3:return o=e.sent,s=new iC(n,o.ir),u=s.sc(o.documents),c=xb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),AC(t,r,l.cc),f=new aC(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(e,t){return dC.apply(this,arguments)}function dC(){return(dC=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zm(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!sk(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),tS(r.remoteStore,i.targetId),PC(r,i.targetId)})).catch(Oy);case 9:e.next=14;break;case 11:return PC(r,i.targetId),e.next=14,hE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pC(e,t,n){return vC.apply(this,arguments)}function vC(){return vC=ii(ni().mark((function e(t,n,r){var i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Zm(e),a=my.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Sk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=mk(),u=Sk();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Qn(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Xk(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new eb(c.key,l,mw(l.value.mapValue),Hk.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:wk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Ng(dy)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,OC(i,a.changes);case 9:return e.next=11,yS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vC.apply(this,arguments)}function mC(e,t){return yC.apply(this,arguments)}function yC(){return(yC=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),e.prev=1,e.next=4,uE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Jm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Jm(n.fc):e.removedDocuments.size>0&&(Jm(n.fc),n.fc=!1))})),e.next=8,OC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Oy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gC(e,t,n){var r=Zm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Zm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Qn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$S(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Zm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ng(_y.comparator)).insert(o,yw.newNoDocument(o,yy.min())),u=Sk().add(o),c=new _b(yy.min(),new Map,new Ng(dy),s,u),e.next=9,mC(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),RC(i),e.next=16;break;case 14:return e.next=16,hE(i.localStore,n,!1).then((function(){return PC(i,n,r)})).catch(Oy);case 16:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e,t){return _C.apply(this,arguments)}function _C(){return(_C=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),i=n.batch.batchId,e.prev=1,e.next=4,oE(r.localStore,n);case 4:return a=e.sent,TC(r,i,null),IC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,OC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xC(e,t,n){return EC.apply(this,arguments)}function EC(){return(EC=ii(ni().mark((function e(t,n,r){var i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zm(t),e.prev=1,e.next=4,function(e,t){var n=Zm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Jm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,TC(i,n,r),IC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,OC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Oy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function SC(e,t){return CC.apply(this,arguments)}function CC(){return(CC=ii(ni().mark((function e(t,n){var r,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oS((r=Zm(t)).remoteStore)||Gm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Zm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function IC(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function TC(e,t,n){var r=Zm(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function PC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Qn(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||NC(e,t)}))}function NC(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(tS(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),RC(e))}function AC(e,t,n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nC?(e.Ic.addReference(a.key,t),DC(e,a)):a instanceof rC?(Gm("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||NC(e,a.key)):Xm()}}catch(o){i.e(o)}finally{i.f()}}function DC(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Gm("SyncEngine","New document in limbo: "+n),e.mc.add(r),RC(e))}function RC(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new _y(wy.fromString(t)),r=e.Ac.next();e.yc.set(r,new oC(n)),e.gc=e.gc.insert(n,r),eS(e.remoteStore,new f_(ik(Jw(n.path)),r,"TargetPurposeLimboResolution",Qy.ct))}}function OC(e,t,n){return LC.apply(this,arguments)}function LC(){return LC=ii(ni().mark((function e(t,n,r){var i,a,o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Zm(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=eE.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=ii(ni().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return My.forEach(n,(function(t){return My.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return My.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uy(e.t0)){e.next=10;break}throw e.t0;case 10:Gm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Qn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function MC(e,t){return FC.apply(this,arguments)}function FC(){return(FC=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Zm(t)).currentUser.isEqual(n)){e.next=11;break}return Gm("SyncEngine","User change. New user:",n.toKey()),e.next=5,iE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new ty(ey.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,OC(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(e,t){var n=Zm(e),r=n.yc.get(t);if(r&&r.fc)return Sk().add(r.key);var i=Sk(),a=n._c.get(t);if(!a)return i;var o,s=Qn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function VC(e,t){return BC.apply(this,arguments)}function BC(){return(BC=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),e.next=3,pE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&AC(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UC(e,t){return qC.apply(this,arguments)}function qC(){return(qC=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),e.abrupt("return",mE(r.localStore,n).then((function(e){return OC(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zC(e,t,n,r){return WC.apply(this,arguments)}function WC(){return WC=ii(ni().mark((function e(t,n,r,i){var a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zm(t),e.next=3,function(e,t){var n=Zm(e),r=Zm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):My.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(TC(a,n,i||null),IC(a,n),function(e,t){Zm(Zm(e).mutationQueue).Cn(t)}(a.localStore,n)):Xm();case 11:return e.next=13,OC(a,o);case 13:e.next=16;break;case 15:Gm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function HC(e,t){return KC.apply(this,arguments)}function KC(){return(KC=ii(ni().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tI(r=Zm(t)),nI(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,GC(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,RS(r.remoteStore,!0);case 9:o=Qn(a);try{for(o.s();!(s=o.n()).done;)u=s.value,eS(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return PC(r,t),hE(r.localStore,t,!0)})),tS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,GC(r,c);case 21:return function(e){var t=Zm(e);t.yc.forEach((function(e,n){tS(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Ng(_y.comparator)}(r),r.vc=!1,e.next=25,RS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GC(e,t,n){return QC.apply(this,arguments)}function QC(){return QC=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Zm(t),a=[],o=[],s=Qn(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,fE(i.localStore,ik(f[0]));case 11:l=e.sent,h=Qn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,VC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,vE(i.localStore,c);case 36:return y=e.sent,e.next=39,fE(i.localStore,y);case 39:return l=e.sent,e.next=42,lC(i,YC(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),QC.apply(this,arguments)}function YC(e){return Xw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $C(e){var t=Zm(e);return Zm(Zm(t.localStore).persistence).$i()}function XC(e,t,n,r){return JC.apply(this,arguments)}function JC(){return JC=ii(ni().mark((function e(t,n,r,i){var a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zm(t)).vc){e.next=3;break}return e.abrupt("return",void Gm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,mE(a.localStore,fk(o[0]));case 10:return s=e.sent,u=_b.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,jg.EMPTY_BYTE_STRING),e.next=14,OC(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,hE(a.localStore,n,!0);case 17:return PC(a,n,i),e.abrupt("break",20);case 19:Xm();case 20:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t,n){return eI.apply(this,arguments)}function eI(){return(eI=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tI(t)).vc){e.next=45;break}a=Qn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return Gm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,vE(i.localStore,s);case 12:return u=e.sent,e.next=15,fE(i.localStore,u);case 15:return c=e.sent,e.next=18,lC(i,YC(u),c.targetId,!1,c.resumeToken);case 18:eS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Qn(r),e.prev=30,h=ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,hE(i.localStore,t,!1).then((function(){tS(i.remoteStore,t),PC(i,t)})).catch(Oy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function tI(e){var t=Zm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wC.bind(null,t),t.dc.nu=QS.bind(null,t.eventManager),t.dc.Pc=YS.bind(null,t.eventManager),t}function nI(e){var t=Zm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xC.bind(null,t),t}function rI(e,t,n){var r=Zm(e);(function(){var e=ii(ni().mark((function e(t,n,r){var i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Zm(e),r=Vb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tC(i)),a=new eC(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,OC(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=Zm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ym("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var iI=function(){function e(){Rt(this,e),this.synchronizeTabs=!1}return Lt(e,[{key:"initialize",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=qE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return rE(this.persistence,new tE,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Wx(Kx.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new AE}},{key:"terminate",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aI=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Lt(n,[{key:"initialize",value:function(){var e=ii(ni().mark((function e(t){var r=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(En(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,nI(this.Vc.syncEngine);case 6:return e.next=8,yS(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return rE(this.persistence,new tE,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new kx(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Gy(t,this.persistence);return new Ky(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Zx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ax.withCacheSize(this.cacheSizeBytes):ax.DEFAULT;return new $x(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,BE(),UE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new AE}}]),n}(iI),oI=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Lt(n,[{key:"initialize",value:function(){var e=ii(ni().mark((function e(t){var r,i=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(En(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof NE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:zC.bind(null,r),zr:XC.bind(null,r),Wr:ZC.bind(null,r),$i:$C.bind(null,r),Qr:UC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HC(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=BE();if(!NE.D(t))throw new ty(ey.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aI),sI=function(){function e(){Rt(this,e)}return Lt(e,[{key:"initialize",value:function(){var e=ii(ni().mark((function e(t,n){var r=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),e.next=12,RS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zS}},{key:"createDatastore",value:function(e){var t,n=qE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new VE(t));return function(e,t,n,r){return new GE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gC(o.syncEngine,e,0)},a=RE.D()?new RE:new DE,new YE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new sC(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zm(t),Gm("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,JE(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ii(ni().mark((function r(){var i;return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var cI=function(){function e(t){Rt(this,e),this.observer=t,this.muted=!1}return Lt(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Qm("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lI=function(){function e(t,n){var r=this;Rt(this,e),this.Cc=t,this.serializer=n,this.metadata=new ny,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return Lt(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new JS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=ii(ni().mark((function e(){var t,n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=ii(ni().mark((function e(){var t,n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fI=function(){function e(t){Rt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Lt(e,[{key:"lookup",value:function(){var e=ii(ni().mark((function e(t){var n,r=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ty(ey.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ii(ni().mark((function e(t,n){var r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),i=Kb(r.serializer)+"/documents",a={documents:n.map((function(e){return qb(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=$b(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Jm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ob(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ii(ni().mark((function e(){var t,n=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_y.fromPath(t);n.mutations.push(new sb(r,n.precondition(r)))})),e.next=7,function(){var e=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zm(t),i=Kb(r.serializer)+"/documents",a={writes:n.map((function(e){return Xb(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xm();t=yy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ty(ey.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yy.min())?Hk.exists(!1):Hk.updateTime(t):Hk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yy.min()))throw new ty(ey.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hk.updateTime(t)}return Hk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hI=function(){function e(t,n,r,i,a){Rt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new zE(this.asyncQueue,"transaction_retry")}return Lt(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(ii(ni().mark((function t(){var n,r;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fI(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Yy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hb(t)}return!1}}]),e}(),dI=function(){function e(t,n,r,i){var a=this;Rt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zm.UNAUTHENTICATED,this.clientId=hy.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Gm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lt(e,[{key:"getConfiguration",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ty(ey.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ny;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ii(ni().mark((function n(){var r;return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,iE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return(yI=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,wI(t);case 3:return r=e.sent,Gm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return AS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return AS(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gI(e){return"FirebaseError"===e.name?e.code===ey.FAILED_PRECONDITION||e.code===ey.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function wI(e){return kI.apply(this,arguments)}function kI(){return(kI=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Gm("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,pI(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),gI(n=e.t0)){e.next=13;break}throw n;case 13:return Ym("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,pI(t,new iI);case 16:e.next=21;break;case 18:return Gm("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,pI(t,new iI);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function bI(e){return _I.apply(this,arguments)}function _I(){return(_I=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Gm("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,mI(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Gm("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,mI(t,new sI);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xI(e){return wI(e).then((function(e){return e.persistence}))}function EI(e){return wI(e).then((function(e){return e.localStore}))}function SI(e){return bI(e).then((function(e){return e.remoteStore}))}function CI(e){return bI(e).then((function(e){return e.syncEngine}))}function II(e){return bI(e).then((function(e){return e.datastore}))}function TI(e){return PI.apply(this,arguments)}function PI(){return(PI=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=uC.bind(null,n.syncEngine),r.onUnlisten=hC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function i(){return ni().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cI({next:function(a){t.enqueueAndForget((function(){return KS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ty(ey.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ty(ey.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new XS(Jw(n.path),a,{includeMetadataChanges:!0,Ku:!0});return WS(e,o)},i.next=3,TI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function i(){return ni().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cI({next:function(n){t.enqueueAndForget((function(){return KS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ty(ey.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new XS(n,a,{includeMetadataChanges:!0,Ku:!0});return WS(e,o)},i.next=3,TI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function DI(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var RI=new Map;function OI(e,t,n){if(!n)throw new ty(ey.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LI(e,t,n,r){if(!0===t&&!0===r)throw new ty(ey.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MI(e){if(!_y.isDocumentKey(e))throw new ty(ey.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function FI(e){if(_y.isDocumentKey(e))throw new ty(ey.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xm()}function VI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ty(ey.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jI(e);throw new ty(ey.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function BI(e,t){if(t<=0)throw new ty(ey.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var UI=function(){function e(t){var n,r;if(Rt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ty(ey.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ty(ey.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ty(ey.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ty(ey.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ty(ey.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Lt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),qI=function(){function e(t,n,r,i){Rt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UI({}),this._settingsFrozen=!1}return Lt(e,[{key:"app",get:function(){if(!this._app)throw new ty(ey.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ty(ey.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new iy;switch(e.type){case"firstParty":return new uy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ty(ey.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=RI.get(e);t&&(Gm("ComponentProvider","Removing Datastore"),RI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=VI(e,qI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ym("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=zm.MOCK_USER;else{o=mr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ty(ey.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new zm(u)}e._authCredentials=new ay(new ry(o,s))}}var WI=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new KI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),HI=function(){function e(t,n,r){Rt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),KI=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,e,r,Jw(i)))._path=i,a.type="collection",a}return Lt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new WI(this.firestore,null,new _y(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(HI);function GI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ti(e),OI("collection","path",t),e instanceof qI){var a=wy.fromString.apply(wy,[t].concat(r));return FI(a),new KI(e,null,a)}if(!(e instanceof WI||e instanceof KI))throw new ty(ey.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wy.fromString.apply(wy,[t].concat(r)));return FI(o),new KI(e.firestore,null,o)}function QI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ti(e),1===arguments.length&&(t=hy.A()),OI("doc","path",t),e instanceof qI){var a=wy.fromString.apply(wy,[t].concat(r));return MI(a),new WI(e,null,new _y(a))}if(!(e instanceof WI||e instanceof KI))throw new ty(ey.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(wy.fromString.apply(wy,[t].concat(r)));return MI(o),new WI(e.firestore,e instanceof KI?e.converter:null,new _y(o))}function YI(e,t){return e=ti(e),t=ti(t),(e instanceof WI||e instanceof KI)&&(t instanceof WI||t instanceof KI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $I(e,t){return e=ti(e),t=ti(t),e instanceof HI&&t instanceof HI&&e.firestore===t.firestore&&sk(e._query,t._query)&&e.converter===t.converter}var XI=function(){function e(){var t=this;Rt(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zE(this,"async_queue_retry"),this.Xc=function(){var e=UE();e&&Gm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=UE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return Lt(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=UE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new ny;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ii(ni().mark((function e(){var t=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uy(e.t0)){e.next=12;break}throw e.t0;case 12:Gm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=FS.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Xm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=Qn(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Qn(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function JI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Qn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ZI=function(){function e(){Rt(this,e),this._progressObserver={},this._taskCompletionResolver=new ny,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Lt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),eT=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return Rt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new XI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Lt(n,[{key:"_terminate",value:function(){return this._firestoreClient||nT(this),this._firestoreClient.terminate()}}]),n}(qI);function tT(e){return e._firestoreClient||nT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Kg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,DI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new dI(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function rT(e,t,n){var r=new ny;return e.asyncQueue.enqueue(ii(ni().mark((function i(){var a;return ni().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pI(e,n);case 3:return i.next=5,mI(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),gI(a=i.t0)){i.next=13;break}throw a;case 13:Ym("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function iT(e){return function(e){return e.asyncQueue.enqueue(ii(ni().mark((function t(){var n,r;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xI(e);case 2:return n=t.sent,t.next=5,SI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Zm(e);return t.vu.delete(0),$E(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(tT(e=VI(e,eT)))}function aT(e){return function(e){return e.asyncQueue.enqueue(ii(ni().mark((function t(){var n,r;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xI(e);case 2:return n=t.sent,t.next=5,SI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Zm(t)).vu.add(0),e.next=4,JE(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(tT(e=VI(e,eT)))}function oT(e,t){var n=tT(e=VI(e,eT)),r=new ZI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lI(e,t)}(function(e,t){if(e instanceof Uint8Array)return uI(e,t);if(e instanceof ArrayBuffer)return uI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?mb().encode(e):e),t)}(n,qE(t));e.asyncQueue.enqueueAndForget(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rI,t.next=3,CI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sT(e,t){return function(e,t){return e.asyncQueue.enqueue(ii(ni().mark((function n(){return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Zm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,EI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(tT(e=VI(e,eT)),t).then((function(t){return t?new HI(e,null,t.query):null}))}function uT(e){if(e._initialized||e._terminated)throw new ty(ey.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cT=function(){function e(t){Rt(this,e),this._byteString=t}return Lt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(jg.fromBase64String(t))}catch(t){throw new ty(ey.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(jg.fromUint8Array(t))}}]),e}(),lT=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ty(ey.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new by(n)}return Lt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fT=Lt((function e(t){Rt(this,e),this._methodName=t})),hT=function(){function e(t,n){if(Rt(this,e),!isFinite(t)||t<-90||t>90)throw new ty(ey.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ty(ey.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return dy(this._lat,e._lat)||dy(this._long,e._long)}}]),e}(),dT=/^__.*__$/,pT=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new eb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zk(e,this.data,t,this.fieldTransforms)}}]),e}(),vT=function(){function e(t,n,r){Rt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return new eb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xm()}}var yT=function(){function e(t,n,r,i,a,o){Rt(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return FT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mT(this.ca)&&dT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),gT=function(){function e(t,n,r){Rt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qE(t)}return Lt(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yT({ca:e,methodName:t,ga:n,path:by.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function wT(e){var t=e._freezeSettings(),n=qE(e._databaseId);return new gT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);RT("Data must be an object, but it was:",o,r);var s,u,c=AT(r,o);if(a.merge)s=new Mg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Qn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=OT(t,l.value,n);if(!o.contains(d))throw new ty(ey.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));jT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Mg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new pT(new vw(c),s,u)}var bT=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fT);function _T(e,t,n){return new yT({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var xT=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_toFieldTransform",value:function(e){return new zk(e.path,new Lk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(fT),ET=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).pa=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=_T(this,e,!0),n=this.pa.map((function(e){return NT(e,t)})),r=new Mk(n);return new zk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fT),ST=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).pa=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=_T(this,e,!0),n=this.pa.map((function(e){return NT(e,t)})),r=new jk(n);return new zk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fT),CT=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e)).Ia=r,i}return Lt(n,[{key:"_toFieldTransform",value:function(e){var t=new Bk(e.serializer,Nk(e.serializer,this.Ia));return new zk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(fT);function IT(e,t,n,r){var i=e.ya(1,t,n);RT("Data must be an object, but it was:",i,r);var a=[],o=vw.empty();Tg(r,(function(e,r){var s=MT(t,e,n);r=ti(r);var u=i.da(s);if(r instanceof bT)a.push(s);else{var c=NT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Mg(a);return new vT(o,s,i.fieldTransforms)}function TT(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[OT(t,r,n)],u=[i];if(a.length%2!=0)throw new ty(ey.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(OT(t,a[c])),u.push(a[c+1]);for(var l=[],f=vw.empty(),h=s.length-1;h>=0;--h)if(!jT(l,s[h])){var d=s[h],p=u[h];p=ti(p);var v=o.da(d);if(p instanceof bT)l.push(d);else{var m=NT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Mg(l);return new vT(f,y,o.fieldTransforms)}function PT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return NT(n,e.ya(r?4:3,t))}function NT(e,t){if(DT(e=ti(e)))return RT("Unsupported field value:",t,e),AT(e,t);if(e instanceof fT)return function(e,t){if(!mT(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Qn(e);try{for(a.s();!(n=a.n()).done;){var o=NT(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ti(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Nk(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=my.fromDate(e);return{timestampValue:Mb(t.serializer,n)}}if(e instanceof my){var r=new my(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mb(t.serializer,r)}}if(e instanceof hT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cT)return{bytesValue:Fb(t.serializer,e._byteString)};if(e instanceof WI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Bb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(jI(e)))}(e,t)}function AT(e,t){var n={};return Pg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tg(e,(function(e,r){var i=NT(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function DT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof my||e instanceof hT||e instanceof cT||e instanceof WI||e instanceof fT)}function RT(e,t,n){if(!DT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jI(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function OT(e,t,n){if((t=ti(t))instanceof lT)return t._internalPath;if("string"==typeof t)return MT(e,t);throw FT("Field path arguments must be of type string or ",e,!1,void 0,n)}var LT=new RegExp("[~\\*/\\[\\]]");function MT(e,t,n){if(t.search(LT)>=0)throw FT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Yn(lT,Dt(t.split(".")))._internalPath}catch(r){throw FT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function FT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ty(ey.INVALID_ARGUMENT,s+e+u)}function jT(e,t){return e.some((function(e){return e.isEqual(t)}))}var VT=function(){function e(t,n,r,i,a){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new WI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new BT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(UT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),BT=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){return Sn(En(n.prototype),"data",this).call(this)}}]),n}(VT);function UT(e,t){return"string"==typeof t?MT(e,t):t instanceof lT?t._internalPath:t._delegate._internalPath}function qT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ty(ey.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zT=Lt((function e(){Rt(this,e)})),WT=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}(zT);function HT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof zT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof GT})).length,n=e.filter((function(e){return e instanceof KT})).length;if(t>1||t>0&&n>0)throw new ty(ey.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Qn(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var KT=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Lt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return aP(e._query,t),new HI(e.firestore,e.converter,ak(e._query,t))}},{key:"_parse",value:function(e){var t=wT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ty(ey.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){iP(o,a);var u,c=[],l=Qn(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(rP(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=rP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||iP(o,a),s=PT(n,"where",o,"in"===a||"not-in"===a);return Ew.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WT);var GT=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Lt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Sw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Qn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;aP(r,a),r=ak(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new HI(e.firestore,e.converter,ak(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zT);var QT=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Lt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ty(ey.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ty(ey.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bw(t,n);return function(e,t){if(null===ek(e)){var n=tk(e);null!==n&&oP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new HI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new $w(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(WT);var YT=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Lt(n,[{key:"_apply",value:function(e){return new HI(e.firestore,e.converter,ok(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WT);var $T=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=nP(e,this.type,this._docOrFields,this._inclusive);return new HI(e.firestore,e.converter,function(e,t){return new $w(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WT);function XT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("startAt",t,!0)}function JT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("startAfter",t,!1)}var ZT=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Lt(n,[{key:"_apply",value:function(e){var t=nP(e,this.type,this._docOrFields,this._inclusive);return new HI(e.firestore,e.converter,function(e,t){return new $w(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(WT);function eP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZT._create("endBefore",t,!1)}function tP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ZT._create("endAt",t,!0)}function nP(e,t,n,r){if(n[0]=ti(n[0]),n[0]instanceof VT)return function(e,t,n,r,i){if(!r)throw new ty(ey.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Qn(rk(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(rw(t,r.key));else{var c=r.data.field(u.field);if(zg(c))throw new ty(ey.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ty(ey.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new gw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ty(ey.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ty(ey.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!nk(e)&&-1!==c.indexOf("/"))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(wy.fromString(c));if(!_y.isDocumentKey(l))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _y(l);s.push(rw(t,f))}else{var h=PT(n,r,c);s.push(h)}}return new gw(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function rP(e,t,n){if("string"==typeof(n=ti(n))){if(""===n)throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nk(t)&&-1!==n.indexOf("/"))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(wy.fromString(n));if(!_y.isDocumentKey(r))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return rw(e,new _y(r))}if(n instanceof WI)return rw(e,n._key);throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jI(n),"."))}function iP(e,t){if(!Array.isArray(e)||0===e.length)throw new ty(ey.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function aP(e,t){if(t.isInequality()){var n=tk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ek(e);null!==i&&oP(e,r,i)}var a=function(e,t){var n,r=Qn(e);try{for(r.s();!(n=r.n()).done;){var i,a=Qn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ty(ey.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ty(ey.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function oP(e,t,n){if(!n.isEqual(t))throw new ty(ey.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var sP=function(){function e(){Rt(this,e)}return Lt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($g(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ug(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xm()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Tg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new hT(Ug(e.latitude),Ug(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Wg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Bg(e);return new my(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=wy.fromString(e);Jm(l_(n));var r=new Gg(n.get(1),n.get(3)),i=new _y(n.popFirst(5));return r.isEqual(t)||Qm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function uP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cP=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new cT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new WI(this.firestore,null,t)}}]),n}(sP);var lP=function(){function e(t,n){Rt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),fP=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a,o,s){var u;return Rt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Lt(n,[{key:"exists",value:function(){return Sn(En(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new hP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(UT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(VT),hP=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Sn(En(n.prototype),"data",this).call(this,e)}}]),n}(fP),dP=function(){function e(t,n,r,i){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lP(i.hasPendingWrites,i.fromCache),this.query=r}return Lt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new hP(n._firestore,n._userDataWriter,r.key,r,new lP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ty(ey.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new hP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new hP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:pP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function pP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xm()}}function vP(e,t){return e instanceof fP&&t instanceof fP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof dP&&t instanceof dP&&e._firestore===t._firestore&&$I(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var mP=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new cT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new WI(this.firestore,null,t)}}]),n}(sP);function yP(e){e=VI(e,WI);var t=VI(e.firestore,eT),n=tT(t),r=new mP(t);return function(e,t){var n=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function r(){return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ii(ni().mark((function e(t,n,r){var i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Zm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ty(ey.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,EI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new fP(t,r,e._key,n,new lP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function gP(e){e=VI(e,HI);var t=VI(e.firestore,eT),n=tT(t),r=new mP(t);return function(e,t){var n=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function r(){return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ii(ni().mark((function e(t,n,r){var i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pE(t,n,!0);case 3:i=e.sent,a=new iC(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=jS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,EI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new dP(t,r,e,n)}))}function wP(e,t,n){e=VI(e,WI);var r=VI(e.firestore,eT),i=uP(e.converter,t,n);return xP(r,[kT(wT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Hk.none())])}function kP(e,t,n){e=VI(e,WI);for(var r=VI(e.firestore,eT),i=wT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return xP(r,[("string"==typeof(t=ti(t))||t instanceof lT?TT(i,"updateDoc",e._key,t,n,o):IT(i,"updateDoc",e._key,t)).toMutation(e._key,Hk.exists(!0))])}function bP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ti(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||JI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(JI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof WI)l=VI(e.firestore,eT),f=Jw(e._key.path),c={next:function(t){n[u]&&n[u](EP(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=VI(e,HI);l=VI(p.firestore,eT),f=p._query;var v=new mP(l);c={next:function(e){n[u]&&n[u](new dP(l,v,p,e))},error:n[u+1],complete:n[u+2]},qT(e._query)}return function(e,t,n,r){var i=new cI(r),a=new XS(t,i,n);return e.asyncQueue.enqueueAndForget(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WS,t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KS,t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tT(l),f,h,c)}function _P(e,t){return function(e,t){var n=new cI(t);return e.asyncQueue.enqueueAndForget(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zm(e).ku.add(t),t.next()},t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Zm(e).ku.delete(t)},t.next=3,TI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tT(e=VI(e,eT)),JI(t)?t:{next:t})}function xP(e,t){return function(e,t){var n=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function r(){return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pC,r.next=3,CI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tT(e),t)}function EP(e,t,n){var r=n.docs.get(t._key),i=new mP(e);return new fP(e,i,t._key,r,new lP(n.hasPendingWrites,n.fromCache),t.converter)}var SP={maxAttempts:5},CP=function(){function e(t,n){Rt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wT(t)}return Lt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=IP(e,this._firestore),i=uP(r.converter,t,n),a=kT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Hk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=IP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ti(t))||t instanceof lT?TT(this._dataReader,"WriteBatch.update",i._key,t,n,o):IT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Hk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=IP(e,this._firestore);return this._mutations=this._mutations.concat(new ob(t._key,Hk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ty(ey.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function IP(e,t){if((e=ti(e)).firestore!==t)throw new ty(ey.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var TP=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Lt(n,[{key:"get",value:function(e){var t=this,r=IP(e,this._firestore),i=new mP(this._firestore);return Sn(En(n.prototype),"get",this).call(this,e).then((function(e){return new fP(t._firestore,i,r._key,e._document,new lP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Rt(this,e),this._firestore=t,this._transaction=n,this._dataReader=wT(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=IP(e,this._firestore),r=new cP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xm();var i=e[0];if(i.isFoundDocument())return new VT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new VT(t._firestore,r,n._key,null,n.converter);throw Xm()}))}},{key:"set",value:function(e,t,n){var r=IP(e,this._firestore),i=uP(r.converter,t,n),a=kT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=IP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ti(t))||t instanceof lT?TT(this._dataReader,"Transaction.update",i._key,t,n,o):IT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=IP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("arrayUnion",t)}function NP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ST("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wm=e}(Zi),Ki(new ai("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new eT(new oy(e.getProvider("auth-internal")),new ly(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ty(ey.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),aa(qm,"3.12.0",e),aa(qm,"3.12.0","esm2017")}();function AP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ty("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function DP(){if("undefined"===typeof Uint8Array)throw new ty("unimplemented","Uint8Arrays are not available in this environment.")}function RP(){if("undefined"==typeof atob)throw new ty("unimplemented","Blobs are unavailable in Firestore in this environment.")}var OP=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"toBase64",value:function(){return RP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return DP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return RP(),new e(cT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return DP(),new e(cT.fromUint8Array(t))}}]),e}();function LP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Qn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var MP=function(){function e(){Rt(this,e)}return Lt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){uT(e=VI(e,eT));var n=tT(e);if(n._uninitializedComponentsProvider)throw new ty(ey.FAILED_PRECONDITION,"SDK cache is already specified.");Ym("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new sI;return rT(n,i,new aI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){uT(e=VI(e,eT));var t=tT(e);if(t._uninitializedComponentsProvider)throw new ty(ey.FAILED_PRECONDITION,"SDK cache is already specified.");Ym("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new sI;return rT(t,r,new oI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ty(ey.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ny;return e._queue.enqueueAndForgetEvenWhileRestricted(ii(ni().mark((function n(){return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jy.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,jy.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Zx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),FP=function(){function e(t,n,r){var i=this;Rt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Gg||(this._appCompat=t)}return Lt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ym("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return iT(this._delegate)}},{key:"disableNetwork",value:function(){return aT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&LI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function n(){return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=SC,n.next=3,CI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(tT(VI(this._delegate,eT)))}},{key:"onSnapshotsInSync",value:function(e){return _P(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ty("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new XP(this,GI(this._delegate,e))}catch(xG){throw zP(xG,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new qP(this,QI(this._delegate,e))}catch(xG){throw zP(xG,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new QP(this,function(e,t){if(e=VI(e,qI),OI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ty(ey.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new HI(e,null,function(e){return new $w(wy.emptyPath(),e)}(t))}(this._delegate,e))}catch(xG){throw zP(xG,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=VI(e,eT);var r=Object.assign(Object.assign({},SP),n);return function(e){if(e.maxAttempts<1)throw new ty(ey.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ny;return e.asyncQueue.enqueueAndForget(ii(ni().mark((function i(){var a;return ni().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,II(e);case 2:a=i.sent,new hI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(tT(e),(function(n){return t(new TP(e,n))}),r)}(this._delegate,(function(n){return e(new VP(t,n))}))}},{key:"batch",value:function(){var e=this;return tT(this._delegate),new BP(new CP(this._delegate,(function(t){return xP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return oT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sT(this._delegate,e).then((function(e){return e?new QP(t,e):null}))}}]),e}(),jP=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new OP(new cT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return qP.forKey(t,this.firestore,null)}}]),n}(sP);var VP=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return Lt(e,[{key:"get",value:function(e){var t=this,n=JP(e);return this._delegate.get(n).then((function(e){return new KP(t._firestore,new fP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=JP(e);return n?(AP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=JP(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JP(e);return this._delegate.delete(t),this}}]),e}(),BP=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"set",value:function(e,t,n){var r=JP(e);return n?(AP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=JP(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),UP=function(){function e(t,n,r){Rt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Lt(e,[{key:"fromFirestore",value:function(e,t){var n=new hP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new GP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new jP(t),n),i.set(n,a)),a}}]),e}();UP.INSTANCES=new WeakMap;var qP=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return Lt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new XP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new XP(this.firestore,GI(this._delegate,e))}catch(xG){throw zP(xG,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ti(e))instanceof WI&&YI(this._delegate,e)}},{key:"set",value:function(e,t){t=AP("DocumentReference.set",t);try{return t?wP(this._delegate,e,t):wP(this._delegate,e)}catch(xG){throw zP(xG,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kP(this._delegate,e):kP.apply(void 0,[this._delegate,e,t].concat(r))}catch(xG){throw zP(xG,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return xP(VI((e=this._delegate).firestore,eT),[new ob(e._key,Hk.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=WP(n),a=HP(n,(function(t){return new KP(e.firestore,new fP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return bP(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?yP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VI(e,WI);var t=VI(e.firestore,eT);return NI(tT(t),e._key,{source:"server"}).then((function(n){return EP(t,e,n)}))}(this._delegate):function(e){e=VI(e,WI);var t=VI(e.firestore,eT);return NI(tT(t),e._key).then((function(n){return EP(t,e,n)}))}(this._delegate)).then((function(e){return new KP(t.firestore,new fP(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ty("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new WI(n._delegate,r,new _y(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new WI(n._delegate,r,t))}}]),e}();function zP(e,t,n){return e.message=e.message.replace(t,n),e}function WP(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!LP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function HP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=LP(e[0])?e[0]:LP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var KP=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"ref",get:function(){return new qP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return vP(this._delegate,e._delegate)}}]),e}(),GP=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Xm(),t}}]),n}(KP),QP=function(){function e(t,n){Rt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new jP(t)}return Lt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,HT(this._delegate,function(e,t,n){var r=t,i=UT("where",e);return KT._create(i,r,n)}(t,n,r)))}catch(xG){throw zP(xG,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,HT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UT("orderBy",e);return QT._create(n,t)}(t,n)))}catch(xG){throw zP(xG,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,HT(this._delegate,(BI("limit",n=t),YT._create("limit",n,"F"))))}catch(xG){throw zP(xG,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,HT(this._delegate,(BI("limitToLast",n=t),YT._create("limitToLast",n,"L"))))}catch(xG){throw zP(xG,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,HT(this._delegate,XT.apply(void 0,arguments)))}catch(xG){throw zP(xG,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,HT(this._delegate,JT.apply(void 0,arguments)))}catch(xG){throw zP(xG,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,HT(this._delegate,eP.apply(void 0,arguments)))}catch(xG){throw zP(xG,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,HT(this._delegate,tP.apply(void 0,arguments)))}catch(xG){throw zP(xG,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $I(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?gP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=VI(e,HI);var t=VI(e.firestore,eT),n=tT(t),r=new mP(t);return AI(n,e._query,{source:"server"}).then((function(n){return new dP(t,r,e,n)}))}(this._delegate):function(e){e=VI(e,HI);var t=VI(e.firestore,eT),n=tT(t),r=new mP(t);return qT(e._query),AI(n,e._query).then((function(n){return new dP(t,r,e,n)}))}(this._delegate)).then((function(e){return new $P(t.firestore,new dP(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=WP(n),a=HP(n,(function(t){return new $P(e.firestore,new dP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return bP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(UP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),YP=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new GP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),$P=function(){function e(t,n){Rt(this,e),this._firestore=t,this._delegate=n}return Lt(e,[{key:"query",get:function(){return new QP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new GP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new YP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new GP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return vP(this._delegate,e._delegate)}}]),e}(),XP=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i;return Rt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Lt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new qP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new qP(this.firestore,void 0===e?QI(this._delegate):QI(this._delegate,e))}catch(xG){throw zP(xG,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=VI(e.firestore,eT),r=QI(e),i=uP(e.converter,t);return xP(n,[kT(wT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Hk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new qP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return YI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(UP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(QP);function JP(e){return VI(e,WI)}var ZP=function(){function e(){Rt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Yn(lT,n)}return Lt(e,[{key:"isEqual",value:function(e){return(e=ti(e))instanceof lT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(by.keyField().canonicalString())}}]),e}(),eN=function(){function e(t){Rt(this,e),this._delegate=t}return Lt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=PP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=NP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new CT("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),tN={Firestore:FP,GeoPoint:hT,Timestamp:my,Blob:OP,Transaction:VP,WriteBatch:BP,DocumentReference:qP,DocumentSnapshot:KP,Query:QP,QueryDocumentSnapshot:GP,QuerySnapshot:$P,CollectionReference:XP,FieldPath:ZP,FieldValue:eN,setLogLevel:function(e){var t;t=e,Hm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ai("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tN)))}(e,(function(e,t){return new FP(e,t,new MP)})),e.registerVersion("@firebase/firestore-compat","0.3.9")}(Aa);var nN,rN,iN=function(e,t){return t.some((function(t){return e instanceof t}))};var aN=new WeakMap,oN=new WeakMap,sN=new WeakMap,uN=new WeakMap,cN=new WeakMap;var lN={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return oN.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dN(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fN(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rN||(rN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pN(this),n),dN(aN.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dN(e.apply(pN(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pN(this),t].concat(r));return sN.set(a,t.sort?t.sort():[t]),dN(a)}}function hN(e){return"function"===typeof e?fN(e):(e instanceof IDBTransaction&&function(e){if(!oN.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));oN.set(e,t)}}(e),iN(e,nN||(nN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,lN):e)}function dN(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dN(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&aN.set(t,e)})).catch((function(){})),cN.set(t,e),t}(e);if(uN.has(e))return uN.get(e);var t=hN(e);return t!==e&&(uN.set(e,t),cN.set(t,e)),t}var pN=function(e){return cN.get(e)};var vN,mN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],gN=new Map;function wN(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gN.get(t))return gN.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=yN.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mN.includes(n))){var a=function(){var e=ii(ni().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gN.set(t,a),a}}}!function(e){lN=e(lN)}((function(e){return u(u({},e),{},{get:function(t,n,r){return wN(t,n)||e.get(t,n,r)},has:function(t,n){return!!wN(t,n)||e.has(t,n)}})}));var kN="@firebase/installations",bN="0.6.4",_N=1e4,xN="w:".concat(bN),EN="FIS_v2",SN="https://firebaseinstallations.googleapis.com/v1",CN=36e5,IN=(o(vN={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),o(vN,"not-registered","Firebase Installation is not registered."),o(vN,"installation-not-found","Firebase Installation not found."),o(vN,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),o(vN,"app-offline","Could not process request. Application offline."),o(vN,"delete-pending-registration","Can't delete installation while there is a pending registration request."),vN),TN=new Ir("installations","Installations",IN);function PN(e){return e instanceof Cr&&e.code.includes("request-failed")}function NN(e){var t=e.projectId;return"".concat(SN,"/projects/").concat(t,"/installations")}function AN(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function DN(e,t){return RN.apply(this,arguments)}function RN(){return(RN=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",TN.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ON(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LN(e,t){var n=t.refreshToken,r=ON(e);return r.append("Authorization",function(e){return"".concat(EN," ").concat(e)}(n)),r}function MN(e){return FN.apply(this,arguments)}function FN(){return FN=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function jN(e,t){return VN.apply(this,arguments)}function VN(){return(VN=ii(ni().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=NN(r),s=ON(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:EN,appId:r.appId,sdkVersion:xN},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,MN((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:AN(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,DN("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BN(e){return new Promise((function(t){setTimeout(t,e)}))}var UN=/^[cdef][\w-]{21}$/,qN="";function zN(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,Dt(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return UN.test(t)?t:qN}catch(YC){return qN}}function WN(e){return"".concat(e.appName,"!").concat(e.appId)}var HN=new Map;function KN(e,t){var n=WN(e);GN(n,t),function(e,t){var n=YN();n&&n.postMessage({key:e,fid:t});$N()}(n,t)}function GN(e,t){var n=HN.get(e);if(n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var QN=null;function YN(){return!QN&&"BroadcastChannel"in self&&((QN=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){GN(e.data.key,e.data.fid)}),QN}function $N(){0===HN.size&&QN&&(QN.close(),QN=null)}var XN="firebase-installations-database",JN=1,ZN="firebase-installations-store",eA=null;function tA(){return eA||(eA=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=dN(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(dN(s.result),e.oldVersion,e.newVersion,dN(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(XN,JN,{upgrade:function(e,t){if(0===t)e.createObjectStore(ZN)}})),eA}function nA(e,t){return rA.apply(this,arguments)}function rA(){return rA=ii(ni().mark((function e(t,n){var r,i,a,o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WN(t),e.next=3,tA();case 3:return i=e.sent,a=i.transaction(ZN,"readwrite"),o=a.objectStore(ZN),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||KN(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e){return aA.apply(this,arguments)}function aA(){return aA=ii(ni().mark((function e(t){var n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=WN(t),e.next=3,tA();case 3:return r=e.sent,i=r.transaction(ZN,"readwrite"),e.next=7,i.objectStore(ZN).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t){return sA.apply(this,arguments)}function sA(){return sA=ii(ni().mark((function e(t,n){var r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WN(t),e.next=3,tA();case 3:return i=e.sent,a=i.transaction(ZN,"readwrite"),o=a.objectStore(ZN),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||KN(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function uA(e){return cA.apply(this,arguments)}function cA(){return(cA=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oA(t.appConfig,(function(e){var r=lA(e),i=fA(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==qN){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lA(e){return mA(e||{fid:zN(),registrationStatus:0})}function fA(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(TN.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return hA.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:dA(e)}:{installationEntry:t}}function hA(){return(hA=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jN(t,n);case 3:return r=e.sent,e.abrupt("return",nA(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!PN(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,iA(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,nA(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dA(e){return pA.apply(this,arguments)}function pA(){return(pA=ii(ni().mark((function e(t){var n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,BN(100);case 6:return e.next=8,vA(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,uA(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vA(e){return oA(e,(function(e){if(!e)throw TN.create("installation-not-found");return mA(e)}))}function mA(e){return 1===(t=e).registrationStatus&&t.registrationTime+_N<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function yA(e,t){return gA.apply(this,arguments)}function gA(){return(gA=ii(ni().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=wA(r,n),o=LN(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:xN,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,MN((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=AN(h),e.abrupt("return",d);case 22:return e.next=24,DN("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wA(e,t){var n=t.fid;return"".concat(NN(e),"/").concat(n,"/authTokens:generate")}function kA(e){return bA.apply(this,arguments)}function bA(){return bA=ii(ni().mark((function e(t){var n,r,i,a,o=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,oA(t.appConfig,(function(e){if(!IA(e))throw TN.create("not-registered");var i=e.authToken;if(!n&&TA(i))return e;if(1===i.requestStatus)return r=_A(t,n),e;if(!navigator.onLine)throw TN.create("app-offline");var a=PA(e);return r=SA(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function _A(e,t){return xA.apply(this,arguments)}function xA(){return(xA=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EA(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,BN(100);case 6:return e.next=8,EA(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",kA(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EA(e){return oA(e,(function(e){if(!IA(e))throw TN.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+_N<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function SA(e,t){return CA.apply(this,arguments)}function CA(){return(CA=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yA(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,nA(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!PN(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,iA(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,nA(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function IA(e){return void 0!==e&&2===e.registrationStatus}function TA(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+CN}(e)}function PA(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function NA(){return(NA=ii(ni().mark((function e(t){var n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,uA(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):kA(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AA(){return AA=ii(ni().mark((function e(t){var n,r,i,a=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,DA(r);case 4:return e.next=6,kA(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function DA(e){return RA.apply(this,arguments)}function RA(){return(RA=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uA(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OA(e){return TN.create("missing-app-config-values",{valueName:e})}var LA,MA="installations",FA=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw OA("App Configuration");if(!e.name)throw OA("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw OA(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Gi(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},jA=function(e){var t=Gi(e.getProvider("app").getImmediate(),MA).getImmediate(),n={getId:function(){return function(e){return NA.apply(this,arguments)}(t)},getToken:function(e){return function(e){return AA.apply(this,arguments)}(t,e)}};return n};Ki(new ai(MA,FA,"PUBLIC")),Ki(new ai("installations-internal",jA,"PRIVATE")),aa(kN,bN),aa(kN,bN,"esm2017");var VA="analytics",BA="firebase_id",UA="origin",qA=6e4,zA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",WA="https://www.googletagmanager.com/gtag/js",HA=new mi("@firebase/analytics"),KA=(o(LA={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),o(LA,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),o(LA,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),o(LA,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),o(LA,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),o(LA,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),o(LA,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),o(LA,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),o(LA,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),o(LA,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),o(LA,"no-client-id",'The "client_id" field is empty.'),o(LA,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),LA),GA=new Ir("analytics","Analytics",KA);function QA(e){if(!e.startsWith(WA)){var t=GA.create("invalid-gtag-resource",{gtagURL:e});return HA.warn(t.message),""}return e}function YA(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function $A(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:QA}),r=document.createElement("script"),i="".concat(WA,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function XA(e,t,n,r,i,a){return JA.apply(this,arguments)}function JA(){return JA=ii(ni().mark((function e(t,n,r,i,a,o){var s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,YA(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),HA.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),JA.apply(this,arguments)}function ZA(e,t,n,r,i){return eD.apply(this,arguments)}function eD(){return eD=ii(ni().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,YA(r);case 7:u=e.sent,c=Qn(s),e.prev=9,f=ni().mark((function e(){var t,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),HA.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),eD.apply(this,arguments)}function tD(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=ii(ni().mark((function i(a){var o,s,u,c,l,f,h,d,p,v,m,y,g=arguments;return ni().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=g.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=g[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,ZA(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],h=s[1],i.next=12,XA(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],m=s[2],e("get",p,v,m)):"set"===a?(y=s[0],e("set",y)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),HA.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function nD(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(WA)&&i.src.includes(e))return i}return null}var rD=30,iD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Rt(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Lt(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),aD=new iD;function oD(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function sD(e){return uD.apply(this,arguments)}function uD(){return uD=ii(ni().mark((function e(t){var n,r,i,a,o,s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:oD(i)},o=zA.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw GA.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),uD.apply(this,arguments)}function cD(e){return lD.apply(this,arguments)}function lD(){return lD=ii(ni().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:aD,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw GA.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw GA.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new yD,setTimeout(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:qA),e.abrupt("return",fD({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),lD.apply(this,arguments)}function fD(e,t,n){return hD.apply(this,arguments)}function hD(){return hD=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:aD,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,dD(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return HA.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,sD(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),pD(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return HA.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?ei(a,o.intervalMillis,rD):ei(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),HA.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",fD(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),hD.apply(this,arguments)}function dD(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(GA.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function pD(e){if(!(e instanceof Cr)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var vD,mD,yD=function(){function e(){Rt(this,e),this.listeners=[]}return Lt(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function gD(){return gD=ii(ni().mark((function e(t,n,r,i,a){var o,s;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function wD(){return wD=ii(ni().mark((function e(t,n,r,i){var a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)}))),wD.apply(this,arguments)}function kD(){return kD=ii(ni().mark((function e(t,n,r,i){var a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),kD.apply(this,arguments)}function bD(){return bD=ii(ni().mark((function e(t,n,r,i){var a,o,s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),bD.apply(this,arguments)}function _D(){return(_D=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xD(e){mD=e}function ED(e){vD=e}function SD(){return CD.apply(this,arguments)}function CD(){return(CD=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xr()){e.next=5;break}return HA.warn(GA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Er();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),HA.warn(GA.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function ID(){return ID=ii(ni().mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,d,p,v;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=cD(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&HA.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return HA.error(e)})),n.push(c),l=SD().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=W(f,2),d=h[0],p=h[1],nD(o)||$A(o,d.measurementId),mD&&(a("consent","default",mD),xD(void 0)),a("js",new Date),(v=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[UA]="firebase",v.update=!0,null!=p&&(v[BA]=p),a("config",d.measurementId,v),vD&&(a("set",vD),ED(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),ID.apply(this,arguments)}var TD,PD,ND=function(){function e(t){Rt(this,e),this.app=t}return Lt(e,[{key:"_delete",value:function(){return delete AD[this.app.options.appId],Promise.resolve()}}]),e}(),AD={},DD=[],RD={},OD="dataLayer",LD="gtag",MD=!1;function FD(e){if(MD)throw GA.create("already-initialized");e.dataLayerName&&(OD=e.dataLayerName),e.gtagName&&(LD=e.gtagName)}function jD(e,t,n){!function(){var e=[];if(wr()&&e.push("This is a browser extension environment."),Sr()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=GA.create("invalid-analytics-context",{errorInfo:t});HA.warn(n.message)}}();var r=e.options.appId;if(!r)throw GA.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw GA.create("no-api-key");HA.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=AD[r])throw GA.create("already-exists",{id:r});if(!MD){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(OD);var i=tD(AD,DD,RD,OD,LD),a=i.wrappedGtag,o=i.gtagCore;PD=a,TD=o,MD=!0}return AD[r]=function(e,t,n,r,i,a,o){return ID.apply(this,arguments)}(e,DD,RD,t,TD,OD,n),new ND(e)}function VD(){return BD.apply(this,arguments)}function BD(){return(BD=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wr()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Sr()){e.next=4;break}return e.abrupt("return",!1);case 4:if(xr()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Er();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function UD(e,t,n){e=ti(e),function(e,t,n,r){return wD.apply(this,arguments)}(PD,AD[e.app.options.appId],t,n).catch((function(e){return HA.error(e)}))}function qD(e,t,n){e=ti(e),function(e,t,n,r){return kD.apply(this,arguments)}(PD,AD[e.app.options.appId],t,n).catch((function(e){return HA.error(e)}))}function zD(e,t,n){e=ti(e),function(e,t,n,r){return bD.apply(this,arguments)}(PD,AD[e.app.options.appId],t,n).catch((function(e){return HA.error(e)}))}function WD(e,t){e=ti(e),function(e,t){return _D.apply(this,arguments)}(AD[e.app.options.appId],t).catch((function(e){return HA.error(e)}))}function HD(e,t,n,r){e=ti(e),function(e,t,n,r,i){return gD.apply(this,arguments)}(PD,AD[e.app.options.appId],t,n,r).catch((function(e){return HA.error(e)}))}var KD="@firebase/analytics",GD="0.10.0";Ki(new ai(VA,(function(e,t){var n=t.options;return jD(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Ki(new ai("analytics-internal",(function(e){try{var t=e.getProvider(VA).getImmediate();return{logEvent:function(e,n,r){return HD(t,e,n,r)}}}catch(xG){throw GA.create("interop-component-reg-failed",{reason:xG})}}),"PRIVATE")),aa(KD,GD),aa(KD,GD,"esm2017");var QD,YD=function(){function e(t,n){Rt(this,e),this.app=t,this._delegate=n}return Lt(e,[{key:"logEvent",value:function(e,t,n){HD(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){UD(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){qD(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){zD(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){WD(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(QD||(QD={}));var $D=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new YD(t,n)};!function(){var e={Analytics:YD,settings:FD,isSupported:VD,EventName:QD};Aa.INTERNAL.registerComponent(new ai("analytics-compat",$D,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),Aa.registerVersion("@firebase/analytics-compat","0.2.6");function XD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var JD;Object.create;function ZD(){return o({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var eR=ZD,tR=new Ir("auth","Firebase",ZD()),nR=new mi("@firebase/auth");function rR(e){if(nR.logLevel<=ci.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nR.warn.apply(nR,["Auth (".concat(Zi,"): ").concat(e)].concat(n))}}function iR(e){if(nR.logLevel<=ci.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nR.error.apply(nR,["Auth (".concat(Zi,"): ").concat(e)].concat(n))}}function aR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw uR.apply(void 0,[e].concat(n))}function oR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uR.apply(void 0,[e].concat(n))}function sR(e,t,n){var r=Object.assign(Object.assign({},eR()),o({},t,n));return new Ir("auth","Firebase",r).create(t,{appName:e.name})}function uR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Dt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Dt(o)))}return tR.create.apply(tR,[e].concat(n))}function cR(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw uR.apply(void 0,[t].concat(r))}}function lR(e){var t="INTERNAL ASSERTION FAILED: "+e;throw iR(t),new Error(t)}function fR(e,t){e||lR(t)}function hR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function dR(){return"http:"===pR()||"https:"===pR()}function pR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var vR=function(){function e(t,n){Rt(this,e),this.shortDelay=t,this.longDelay=n,fR(n>t,"Short delay should be less than long delay!"),this.isMobile=gr()||kr()}return Lt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(dR()||wr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function mR(e,t){fR(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yR=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void lR("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void lR("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void lR("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),gR=(o(JD={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),o(JD,"MISSING_CUSTOM_TOKEN","internal-error"),o(JD,"INVALID_IDENTIFIER","invalid-email"),o(JD,"MISSING_CONTINUE_URI","internal-error"),o(JD,"INVALID_PASSWORD","wrong-password"),o(JD,"MISSING_PASSWORD","missing-password"),o(JD,"EMAIL_EXISTS","email-already-in-use"),o(JD,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),o(JD,"INVALID_IDP_RESPONSE","invalid-credential"),o(JD,"INVALID_PENDING_TOKEN","invalid-credential"),o(JD,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),o(JD,"MISSING_REQ_TYPE","internal-error"),o(JD,"EMAIL_NOT_FOUND","user-not-found"),o(JD,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),o(JD,"EXPIRED_OOB_CODE","expired-action-code"),o(JD,"INVALID_OOB_CODE","invalid-action-code"),o(JD,"MISSING_OOB_CODE","internal-error"),o(JD,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),o(JD,"INVALID_ID_TOKEN","invalid-user-token"),o(JD,"TOKEN_EXPIRED","user-token-expired"),o(JD,"USER_NOT_FOUND","user-token-expired"),o(JD,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),o(JD,"INVALID_CODE","invalid-verification-code"),o(JD,"INVALID_SESSION_INFO","invalid-verification-id"),o(JD,"INVALID_TEMPORARY_PROOF","invalid-credential"),o(JD,"MISSING_SESSION_INFO","missing-verification-id"),o(JD,"SESSION_EXPIRED","code-expired"),o(JD,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),o(JD,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),o(JD,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),o(JD,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),o(JD,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),o(JD,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),o(JD,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),o(JD,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),o(JD,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),o(JD,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),o(JD,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),o(JD,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),o(JD,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),o(JD,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),o(JD,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),o(JD,"MISSING_CLIENT_TYPE","missing-client-type"),o(JD,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),o(JD,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),o(JD,"INVALID_REQ_TYPE","invalid-req-type"),JD),wR=new vR(3e4,6e4);function kR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bR(e,t,n,r){return _R.apply(this,arguments)}function _R(){return _R=ii(ni().mark((function e(t,n,r,i){var a,o=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",xR(t,a,ii(ni().mark((function e(){var a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=jr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yR.fetch()(IR(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_R.apply(this,arguments)}function xR(e,t,n){return ER.apply(this,arguments)}function ER(){return ER=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},gR),n),e.prev=2,a=new TR(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw PR(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=W(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw PR(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw PR(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw PR(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw sR(t,d,h);case 34:aR(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Cr)){e.next=41;break}throw e.t0;case 41:aR(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ER.apply(this,arguments)}function SR(e,t,n,r){return CR.apply(this,arguments)}function CR(){return CR=ii(ni().mark((function e(t,n,r,i){var a,o,s=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,bR(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&aR(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),CR.apply(this,arguments)}function IR(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mR(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var TR=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(oR(n.auth,"network-request-failed"))}),wR.get())}))}return Lt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function PR(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=oR(e,t,r);return i.customData._tokenResponse=n,i}function NR(e,t){return AR.apply(this,arguments)}function AR(){return AR=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),AR.apply(this,arguments)}function DR(e,t){return RR.apply(this,arguments)}function RR(){return RR=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function OR(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xG){}}function LR(){return LR=ii(ni().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ti(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,cR((a=FR(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:OR(MR(a.auth_time)),issuedAtTime:OR(MR(a.iat)),expirationTime:OR(MR(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),LR.apply(this,arguments)}function MR(e){return 1e3*Number(e)}function FR(e){var t=W(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return iR("JWT malformed, contained fewer than 3 sections"),null;try{var a=sr(r);return a?JSON.parse(a):(iR("Failed to decode base64 JWT payload"),null)}catch(xG){return iR("Caught error parsing JWT payload as JSON",null===xG||void 0===xG?void 0:xG.toString()),null}}function jR(e,t){return VR.apply(this,arguments)}function VR(){return VR=ii(ni().mark((function e(t,n){var r=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Cr&&BR(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),VR.apply(this,arguments)}function BR(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var UR=function(){function e(t){Rt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qR=function(){function e(t,n){Rt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=OR(this.lastLoginAt),this.creationTime=OR(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function zR(e){return WR.apply(this,arguments)}function WR(){return WR=ii(ni().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,jR(t,DR(r,{idToken:i}));case 6:cR(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=XD(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=KR(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qR(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),WR.apply(this,arguments)}function HR(){return(HR=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ti(t),e.next=3,zR(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KR(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Dt(n),Dt(t))}function GR(e,t){return QR.apply(this,arguments)}function QR(){return QR=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xR(t,{},ii(ni().mark((function e(){var r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=IR(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yR.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),QR.apply(this,arguments)}var YR=function(){function e(){Rt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){cR(e.idToken,"internal-error"),cR("undefined"!==typeof e.idToken,"internal-error"),cR("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=FR(e);return cR(t,"internal-error"),cR("undefined"!==typeof t.exp,"internal-error"),cR("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ii(ni().mark((function e(t){var n,r=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],cR(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ii(ni().mark((function e(t,n){var r,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GR(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return lR("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(cR("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(cR("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(cR("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $R(e,t){cR("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var XR=function(){function e(t){Rt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=XD(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Dt(a.providerData):[],this.metadata=new qR(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lt(e,[{key:"getIdToken",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jR(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(cR(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return LR.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return HR.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(cR(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){cR(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ii(ni().mark((function e(t){var n,r,i=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,zR(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,jR(this,NR(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,k=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;cR(w&&x,t,"internal-error");var E=YR.fromJSON(this.name,x);cR("string"===typeof w,t,"internal-error"),$R(f,t.name),$R(h,t.name),cR("boolean"===typeof k,t,"internal-error"),cR("boolean"===typeof b,t,"internal-error"),$R(d,t.name),$R(p,t.name),$R(v,t.name),$R(m,t.name),$R(y,t.name),$R(g,t.name);var S=new e({uid:w,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ii(ni().mark((function t(n,r){var i,a,o,s=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new YR).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,zR(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),JR=new Map;function ZR(e){fR(e instanceof Function,"Expected a class definition");var t=JR.get(e);return t?(fR(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,JR.set(e,t),t)}var eO=function(){function e(){Rt(this,e),this.type="NONE",this.storage={}}return Lt(e,[{key:"_isAvailable",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();eO.type="NONE";var tO=eO;function nO(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rO=function(){function e(t,n,r){Rt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nO(this.userKey,a.apiKey,o),this.fullPersistenceKey=nO("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?XR._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ii(ni().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ZR(tO),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ZR(tO),s=nO(i,n.config.apiKey,n.name),u=null,c=Qn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=XR._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function iO(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uO(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aO(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lO(t))return"Blackberry";if(fO(t))return"Webos";if(oO(t))return"Safari";if((t.includes("chrome/")||sO(t))&&!t.includes("edge/"))return"Chrome";if(cO(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function aO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/firefox\//i.test(e)}function oO(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/crios\//i.test(e)}function uO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/iemobile/i.test(e)}function cO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/android/i.test(e)}function lO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/blackberry/i.test(e)}function fO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/webos/i.test(e)}function hO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dO(){return function(){var e=yr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function pO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return hO(e)||cO(e)||fO(e)||lO(e)||/windows phone/i.test(e)||uO(e)}function vO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=iO(yr());break;case"Worker":t="".concat(iO(yr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zi,"/").concat(r)}function mO(e,t){return yO.apply(this,arguments)}function yO(){return yO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(t,"GET","/v2/recaptchaConfig",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),yO.apply(this,arguments)}function gO(e){return void 0!==e&&void 0!==e.enterprise}var wO=Lt((function e(t){if(Rt(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function kO(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=oR("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bO(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _O=function(){function e(t){Rt(this,e),this.type="recaptcha-enterprise",this.auth=IO(t)}return Lt(e,[{key:"verify",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;gO(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ii(ni().mark((function e(n,r){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mO(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new wO(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&gO(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));kO("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xO(e,t,n){return EO.apply(this,arguments)}function EO(){return EO=ii(ni().mark((function e(t,n,r){var i,a,o,s,u=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new _O(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),EO.apply(this,arguments)}var SO=function(){function e(t){Rt(this,e),this.auth=t,this.queue=[]}return Lt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(xG){r(xG)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ii(ni().mark((function e(t){var n,r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Qn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Qn(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),CO=function(){function e(t,n,r,i){Rt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TO(this),this.idTokenSubscription=new TO(this),this.beforeStateQueue=new SO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Lt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ZR(t)),this._initializationPromise=this.queue(ii(ni().mark((function r(){var i,a;return ni().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rO.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ii(ni().mark((function e(t){var n,r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return cR(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zR(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ti(t):null)&&cR(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ii(ni().mark((function e(t){var n,r=this,i=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&cR(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ii(ni().mark((function n(){return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ZR(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ii(ni().mark((function e(){var t,n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mO(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new wO(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new _O(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ir("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return cR(n=t&&ZR(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rO.create(this,[ZR(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ii(ni().mark((function e(t){var n=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return cR(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return cR(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vO(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ii(ni().mark((function e(){var t,n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&rR("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function IO(e){return ti(e)}var TO=function(){function e(t){var n=this;Rt(this,e),this.auth=t,this.observer=null,this.addObserver=qr((function(e){return n.observer=e}))}return Lt(e,[{key:"next",get:function(){return cR(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function PO(e,t,n){var r=IO(e);cR(r._canInitEmulator,r,"emulator-config-failed"),cR(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=NO(t),o=function(e){var t=NO(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:AO(r.substr(a.length+1))}}var o=W(r.split(":"),2);return{host:o[0],port:AO(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function NO(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function AO(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var DO=function(){function e(t,n){Rt(this,e),this.providerId=t,this.signInMethod=n}return Lt(e,[{key:"toJSON",value:function(){return lR("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return lR("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return lR("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return lR("not implemented")}}]),e}();function RO(e,t){return OO.apply(this,arguments)}function OO(){return OO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),OO.apply(this,arguments)}function LO(e,t){return MO.apply(this,arguments)}function MO(){return MO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithPassword",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function FO(e,t){return jO.apply(this,arguments)}function jO(){return jO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithEmailLink",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),jO.apply(this,arguments)}function VO(e,t){return BO.apply(this,arguments)}function BO(){return BO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithEmailLink",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}var UO=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Rt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ii(ni().mark((function e(t){var n,r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,xO(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",LO(t,i));case 11:return e.abrupt("return",LO(t,r).catch(function(){var e=ii(ni().mark((function e(n){var i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,xO(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",LO(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",FO(t,{email:this._email,oobCode:this._password}));case 13:aR(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",RO(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",VO(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:aR(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(DO);function qO(e,t){return zO.apply(this,arguments)}function zO(){return zO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithIdp",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),zO.apply(this,arguments)}var WO=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return qO(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qO(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qO(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):aR("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=XD(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(DO);function HO(e,t){return KO.apply(this,arguments)}function KO(){return KO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(t,"POST","/v1/accounts:sendVerificationCode",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}function GO(){return GO=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithPhoneNumber",kR(t,n)));case 1:case"end":return e.stop()}}),e)}))),GO.apply(this,arguments)}function QO(){return QO=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SR(t,"POST","/v1/accounts:signInWithPhoneNumber",kR(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw PR(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),QO.apply(this,arguments)}var YO=o({},"USER_NOT_FOUND","user-not-found");function $O(){return $O=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",SR(t,"POST","/v1/accounts:signInWithPhoneNumber",kR(t,r),YO));case 2:case"end":return e.stop()}}),e)}))),$O.apply(this,arguments)}var XO=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return GO.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return QO.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $O.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(DO);var JO=function(){function e(t){var n,r,i,a,o,s;Rt(this,e);var u=Vr(Br(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);cR(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Lt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Vr(Br(e)).link,n=t?Vr(Br(t)).deep_link_id:null,r=Vr(Br(e)).deep_link_id;return(r?Vr(Br(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(YC){return null}}}]),e}();var ZO=function(){function e(){Rt(this,e),this.providerId=e.PROVIDER_ID}return Lt(e,null,[{key:"credential",value:function(e,t){return UO._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=JO.parseLink(t);return cR(n,"argument-error"),UO._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ZO.PROVIDER_ID="password",ZO.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ZO.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var eL=function(){function e(t){Rt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),tL=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Dt(this.scopes)}}]),n}(eL),nL=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.call(this,"facebook.com")}return Lt(n,null,[{key:"credential",value:function(e){return WO._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YC){return null}}}]),n}(tL);nL.FACEBOOK_SIGN_IN_METHOD="facebook.com",nL.PROVIDER_ID="facebook.com";var rL=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lt(n,null,[{key:"credential",value:function(e,t){return WO._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(YC){return null}}}]),n}(tL);rL.GOOGLE_SIGN_IN_METHOD="google.com",rL.PROVIDER_ID="google.com";var iL=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.call(this,"github.com")}return Lt(n,null,[{key:"credential",value:function(e){return WO._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YC){return null}}}]),n}(tL);iL.GITHUB_SIGN_IN_METHOD="github.com",iL.PROVIDER_ID="github.com";var aL=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.call(this,"twitter.com")}return Lt(n,null,[{key:"credential",value:function(e,t){return WO._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(YC){return null}}}]),n}(tL);aL.TWITTER_SIGN_IN_METHOD="twitter.com",aL.PROVIDER_ID="twitter.com";var oL=function(){function e(t){Rt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ii(ni().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,XR._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=sL(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ii(ni().mark((function t(n,r,i){var a;return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sL(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var uL=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a){var o,s;return Rt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Tn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Cr);function cL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uL._fromErrorAndOperation(e,n,t,r);throw n}))}function lL(e,t){return fL.apply(this,arguments)}function fL(){return fL=ii(ni().mark((function e(t,n){var r,i,a=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=jR,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",oL._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),fL.apply(this,arguments)}function hL(e,t){return dL.apply(this,arguments)}function dL(){return dL=ii(ni().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,jR(t,cL(i,a,n,t),r);case 6:return cR((o=e.sent).idToken,i,"internal-error"),cR(s=FR(o.idToken),i,"internal-error"),u=s.sub,cR(t.uid===u,i,"user-mismatch"),e.abrupt("return",oL._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&aR(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),dL.apply(this,arguments)}function pL(e,t){return vL.apply(this,arguments)}function vL(){return vL=ii(ni().mark((function e(t,n){var r,i,a,o,s=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,cL(t,i,n);case 4:return a=e.sent,e.next=7,oL._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vL.apply(this,arguments)}function mL(e,t){return yL.apply(this,arguments)}function yL(){return yL=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pL(IO(t),n));case 1:case"end":return e.stop()}}),e)}))),yL.apply(this,arguments)}function gL(e,t){return bR(e,"POST","/v2/accounts/mfaEnrollment:start",kR(e,t))}function wL(e,t){return bR(e,"POST","/v2/accounts/mfaEnrollment:start",kR(e,t))}function kL(e,t){return bR(e,"POST","/v2/accounts/mfaEnrollment:finalize",kR(e,t))}new WeakMap;var bL="__sak",_L=function(){function e(t,n){Rt(this,e),this.storageRetriever=t,this.type=n}return Lt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bL,"1"),this.storage.removeItem(bL),Promise.resolve(!0)):Promise.resolve(!1)}catch(YC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var xL=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=yr();return oO(e)||hO(e)}()&&function(){try{return!(!window||window===window.top)}catch(xG){return!1}}(),e.fallbackToPolling=pO(),e._shouldAllowMigration=!0,e}return Lt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ii(ni().mark((function e(t,r){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(En(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ii(ni().mark((function e(t){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(En(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(En(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(_L);xL.type="LOCAL";var EL=xL,SL=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(_L);SL.type="SESSION";var CL=SL;function IL(e){return Promise.all(e.map(function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var TL=function(){function e(t){Rt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ii(ni().mark((function e(t){var n,r,i,a,o,s,u,c;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,IL(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function PL(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}TL.receivers=[];var NL=function(){function e(t){Rt(this,e),this.target=t,this.handlers=new Set}return Lt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ii(ni().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=PL("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function AL(){return window}function DL(e){AL().location.href=e}function RL(){return"undefined"!==typeof AL().WorkerGlobalScope&&"function"===typeof AL().importScripts}function OL(){return LL.apply(this,arguments)}function LL(){return(LL=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ML(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var FL="firebaseLocalStorageDb",jL="firebaseLocalStorage",VL="fbase_key",BL=function(){function e(t){Rt(this,e),this.request=t}return Lt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function UL(e,t){return e.transaction([jL],t?"readwrite":"readonly").objectStore(jL)}function qL(){var e=indexedDB.deleteDatabase(FL);return new BL(e).toPromise()}function zL(){var e=indexedDB.open(FL,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(jL,{keyPath:VL})}catch(xG){n(xG)}})),e.addEventListener("success",ii(ni().mark((function n(){var r;return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(jL)){n.next=12;break}return r.close(),n.next=5,qL();case 5:return n.t0=t,n.next=8,zL();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function WL(e,t,n){return HL.apply(this,arguments)}function HL(){return HL=ii(ni().mark((function e(t,n,r){var i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=UL(t,!0).put((o(i={},VL,n),o(i,"value",r),i)),e.abrupt("return",new BL(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),HL.apply(this,arguments)}function KL(e,t){return GL.apply(this,arguments)}function GL(){return GL=ii(ni().mark((function e(t,n){var r,i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UL(t,!1).get(n),e.next=3,new BL(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),GL.apply(this,arguments)}function QL(e,t){var n=UL(e,!0).delete(t);return new BL(n).toPromise()}var YL=function(){function e(){Rt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lt(e,[{key:"_openDb",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,zL();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RL()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ii(ni().mark((function e(){var t=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=TL._getInstance(RL()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ii(ni().mark((function e(n,r){var i;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ii(ni().mark((function e(t,n){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ii(ni().mark((function e(){var t,n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OL();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new NL(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ML()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,zL();case 5:return t=e.sent,e.next=8,WL(t,bL,"1");case 8:return e.next=10,QL(t,bL);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ii(ni().mark((function e(t){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ii(ni().mark((function e(t,n){var r=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return WL(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return KL(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ii(ni().mark((function e(t){var n=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return QL(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ii(ni().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=UL(e,!1).getAll();return new BL(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Qn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ii(ni().mark((function t(){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();YL.type="LOCAL";var $L=YL;function XL(e,t){return bR(e,"POST","/v2/accounts/mfaSignIn:start",kR(e,t))}function JL(e,t){return bR(e,"POST","/v2/accounts/mfaSignIn:finalize",kR(e,t))}bO("rcb"),new vR(3e4,6e4);var ZL="recaptcha";function eM(e,t,n){return tM.apply(this,arguments)}function tM(){return tM=ii(ni().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,cR("string"===typeof a,t,"argument-error"),cR(r.type===ZL,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return cR("enroll"===s.type,t,"internal-error"),e.next=13,gL(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return cR("signin"===s.type,t,"internal-error"),cR(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,XL(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,HO(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),tM.apply(this,arguments)}var nM=function(){function e(t){Rt(this,e),this.providerId=e.PROVIDER_ID,this.auth=IO(t)}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return eM(this.auth,e,ti(t))}}],[{key:"credential",value:function(e,t){return XO._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?XO._fromTokenResponse(n,r):null}}]),e}();function rM(e,t){return t?ZR(t):(cR(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}nM.PROVIDER_ID="phone",nM.PHONE_SIGN_IN_METHOD="phone";var iM=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return qO(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return qO(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return qO(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(DO);function aM(e){return pL(e.auth,new iM(e),e.bypassAuthState)}function oM(e){var t=e.auth,n=e.user;return cR(n,t,"internal-error"),hL(n,new iM(e),e.bypassAuthState)}function sM(e){return uM.apply(this,arguments)}function uM(){return uM=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,cR(r=t.user,n,"internal-error"),e.abrupt("return",lL(r,new iM(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),uM.apply(this,arguments)}var cM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Rt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ii(ni().mark((function t(n,r){return ni().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ii(ni().mark((function e(t){var n,r,i,a,o,s,u;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return sM;case"reauthViaPopup":case"reauthViaRedirect":return oM;default:aR(this.auth,"internal-error")}}},{key:"resolve",value:function(e){fR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){fR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),lM=new vR(2e3,1e4);var fM=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i,a,o){var s;return Rt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Tn(s),s}return Lt(n,[{key:"executeNotNull",value:function(){var e=ii(ni().mark((function e(){var t;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return cR(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ii(ni().mark((function e(){var t,n=this;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fR(1===this.filter.length,"Popup operations only handle one event"),t=PL(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(oR(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(oR(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(oR(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,lM.get())}()}}]),n}(cM);fM.currentPopupAction=null;var hM="pendingRedirect",dM=new Map,pM=function(e){Cn(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Rt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lt(n,[{key:"execute",value:function(){var e=ii(ni().mark((function e(){var t,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=dM.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,vM(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Sn(En(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:dM.set(this.auth._key(),t);case 21:return this.bypassAuthState||dM.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ii(ni().mark((function e(t){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Sn(En(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Sn(En(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ii(ni().mark((function e(){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(cM);function vM(e,t){return mM.apply(this,arguments)}function mM(){return mM=ii(ni().mark((function e(t,n){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wM(n),i=gM(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),mM.apply(this,arguments)}function yM(e,t){dM.set(e._key(),t)}function gM(e){return ZR(e._redirectPersistence)}function wM(e){return nO(hM,e.config.apiKey,e.name)}function kM(e,t){return bM.apply(this,arguments)}function bM(){return bM=ii(ni().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=IO(t),a=rM(i,n),o=new pM(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),bM.apply(this,arguments)}var _M=function(){function e(t){Rt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!EM(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(oR(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xM(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(xM(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function xM(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function EM(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function SM(e){return CM.apply(this,arguments)}function CM(){return CM=ii(ni().mark((function e(t){var n,r=arguments;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bR(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),CM.apply(this,arguments)}var IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TM=/^https?/;function PM(){return PM=ii(ni().mark((function e(t){var n,r,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,SM(t);case 4:n=e.sent,r=n.authorizedDomains,i=Qn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!NM(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:aR(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),PM.apply(this,arguments)}function NM(e){var t=hR(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!TM.test(r))return!1;if(IM.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var AM=new vR(3e4,6e4);function DM(){var e=AL().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Dt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var RM=null;function OM(e){return RM=RM||function(e){return new Promise((function(t,n){var r,i,a;function o(){DM(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){DM(),n(oR(e,"network-request-failed"))},timeout:AM.get()})}if(null===(i=null===(r=AL().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=AL().gapi)||void 0===a?void 0:a.load)){var s=bO("iframefcb");return AL()[s]=function(){gapi.load?o():n(oR(e,"network-request-failed"))},kO("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw RM=null,e}))}(e),RM}var LM=new vR(5e3,15e3),MM="__/auth/iframe",FM="emulator/auth/iframe",jM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BM(e){var t=e.config;cR(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?mR(t,FM):"https://".concat(e.config.authDomain,"/").concat(MM),r={apiKey:t.apiKey,appName:e.name,v:Zi},i=VM.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(jr(r).slice(1))}function UM(e){return qM.apply(this,arguments)}function qM(){return qM=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OM(t);case 2:return n=e.sent,cR(r=AL().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:BM(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jM,dontclear:!0},(function(e){return new Promise(function(){var n=ii(ni().mark((function n(r,i){var a,o,s;return ni().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){AL().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=oR(t,"network-request-failed"),o=AL().setTimeout((function(){i(a)}),LM.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),qM.apply(this,arguments)}var zM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WM=function(){function e(t){Rt(this,e),this.window=t,this.associatedEvent=null}return Lt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(xG){}}}]),e}();function HM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},zM),{width:r.toString(),height:i.toString(),top:a,left:o}),c=yr().toLowerCase();n&&(s=sO(c)?"_blank":n),aO(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=W(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return hO(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new WM(null);var f=window.open(t||"",s,l);cR(f,e,"popup-blocked");try{f.focus()}catch(xG){}return new WM(f)}var KM="__/auth/handler",GM="emulator/auth/handler",QM=encodeURIComponent("fac");function YM(e,t,n,r,i,a){return $M.apply(this,arguments)}function $M(){return $M=ii(ni().mark((function e(t,n,r,i,a,o){var s,u,c,l,f,h,d,p,v,m,y,g,w;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cR(t.config.authDomain,t,"auth-domain-config-required"),cR(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Zi,eventId:a},n instanceof eL)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Or(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=W(c[u],2),f=l[0],h=l[1],s[f]=h;for(n instanceof tL&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,w=g?"#".concat(QM,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(XM(t),"?").concat(jr(p).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),$M.apply(this,arguments)}function XM(e){var t=e.config;return t.emulator?mR(t,GM):"https://".concat(t.authDomain,"/").concat(KM)}var JM="webStorageSupport",ZM=function(){function e(){Rt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CL,this._completeRedirectFn=kM,this._overrideRedirectResult=yM}return Lt(e,[{key:"_openPopup",value:function(){var e=ii(ni().mark((function e(t,n,r,i){var a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fR(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,YM(t,n,r,hR(),i);case 3:return o=e.sent,e.abrupt("return",HM(t,o,PL()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ii(ni().mark((function e(t,n,r,i){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,YM(t,n,r,hR(),i);case 4:return DL(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(fR(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UM(t);case 2:return n=e.sent,r=new _M(t),n.register("authEvent",(function(e){return cR(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(JM,{type:JM},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[JM];void 0!==i&&t(!!i),aR(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return PM.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return pO()||oO()||hO()}}]),e}(),eF=ZM,tF=function(){function e(t){Rt(this,e),this.factorId=t}return Lt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return lR("unexpected MultiFactorSessionType")}}}]),e}(),nF=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this,"phone")).credential=e,r}return Lt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bR(e,"POST","/v2/accounts/mfaEnrollment:finalize",kR(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bR(e,"POST","/v2/accounts/mfaSignIn:finalize",kR(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(tF);(function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"assertion",value:function(e){return nF._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var rF=function(){function e(){Rt(this,e)}return Lt(e,null,[{key:"assertionForEnrollment",value:function(e,t){return iF._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return iF._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ii(ni().mark((function e(t){var n,r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cR("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,wL(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",aF._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();rF.FACTOR_ID="totp";var iF=function(e){Cn(n,e);var t=Pn(n);function n(e,r,i){var a;return Rt(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Lt(n,[{key:"_finalizeEnroll",value:function(){var e=ii(ni().mark((function e(t,n,r){return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cR("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",kL(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ii(ni().mark((function e(t,n){var r;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cR(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",JL(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(tF),aF=function(){function e(t,n,r,i,a,o,s){Rt(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Lt(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(oF(e)||oF(t))&&(r=!0),r&&(oF(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),oF(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function oF(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var sF="@firebase/auth",uF="0.23.2",cF=function(){function e(t){Rt(this,e),this.auth=t,this.internalListeners=new Map}return Lt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ii(ni().mark((function e(t){var n;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){cR(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var lF,fF=pr("authIdTokenMaxAge")||300,hF=null;lF="Browser",Ki(new ai("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;cR(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:lF,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vO(lF)},l=new CO(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ZR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ki(new ai("auth-internal",(function(e){return function(e){return new cF(e)}(IO(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),aa(sF,uF,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lF)),aa(sF,uF,"esm2017");var dF={apiKey:"AIzaSyAufHNdn_PJWfE6ijKqnfhGLtw5knY7VCM",authDomain:"food-list-bdb10.firebaseapp.com",databaseURL:"https://food-list-bdb10-default-rtdb.firebaseio.com",projectId:"food-list-bdb10",storageBucket:"food-list-bdb10.appspot.com",messagingSenderId:"205891303435",appId:"1:205891303435:web:95d72cd9a8faf0ca81af0e"};Aa.initializeApp(dF);var pF,vF=Aa.initializeApp(dF),mF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta(),t=arguments.length>1?arguments[1]:void 0,n=Gi(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=function(e){var t=hr(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("database");r&&eh.apply(void 0,[n].concat(Dt(r)))}return n}(vF),yF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta(),t=Gi(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=Gi(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Mr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;aR(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eF,persistence:[$L,EL,CL]}),i=pr("authTokenSyncURL");if(i){var a=(n=i,function(){var e=ii(ni().mark((function e(t){var r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>fF)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,hF!==a){e.next=12;break}return e.abrupt("return");case 12:return hF=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){ti(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){ti(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=hr("auth");return o&&PO(r,"http://".concat(o)),r}(vF);function gF(){return gF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gF.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(pF||(pF={}));var wF,kF="popstate";function bF(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _F(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(xG){}}}function xF(e,t){return{usr:e.state,key:e.key,idx:t}}function EF(e,t,n,r){return void 0===n&&(n=null),gF({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?CF(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function SF(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function CF(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IF(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=pF.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=pF.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:SF(e);return bF(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(gF({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(kF,p),f=e,function(){o.removeEventListener(kF,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=pF.Push;var r=EF(m.location,e,t);n&&n(r,e);var i=xF(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch($a){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=pF.Replace;var r=EF(m.location,e,t);n&&n(r,e);var i=xF(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(wF||(wF={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function TF(e,t,n){void 0===n&&(n="/");var r=qF(("string"===typeof t?CF(t):t).pathname||"/",n);if(null==r)return null;var i=PF(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=VF(i[o],UF(r));return a}function PF(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(bF(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=KF([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(bF(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),PF(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:jF(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Qn(NF(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function NF(e){var t=e.split("/");if(0===t.length)return[];var n,r=B(n=t)||At(n)||q(n)||z(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=NF(a.join("/")),c=[];return c.push.apply(c,Dt(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&c.push.apply(c,Dt(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var AF=/^:\w+$/,DF=3,RF=2,OF=1,LF=10,MF=-2,FF=function(e){return"*"===e};function jF(e,t){var n=e.split("/"),r=n.length;return n.some(FF)&&(r+=MF),t&&(r+=RF),n.filter((function(e){return!FF(e)})).reduce((function(e,t){return e+(AF.test(t)?DF:""===t?OF:LF)}),r)}function VF(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=BF({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:KF([i,l.pathname]),pathnameBase:GF(KF([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=KF([i,l.pathnameBase]))}return a}function BF(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);_F("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=W(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch($a){return _F(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+$a+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function UF(e){try{return decodeURI(e)}catch($a){return _F(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+$a+")."),e}}function qF(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function zF(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function WF(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function HF(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=CF(e):(bF(!(i=gF({},e)).pathname||!i.pathname.includes("?"),zF("?","pathname","search",i)),bF(!i.pathname||!i.pathname.includes("#"),zF("#","pathname","hash",i)),bF(!i.search||!i.search.includes("#"),zF("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?CF(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:QF(a),hash:YF(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var KF=function(e){return e.join("/").replace(/\/\/+/g,"/")},GF=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},QF=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},YF=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},$F=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n)}($n(Error));function XF(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var JF=["post","put","patch","delete"],ZF=(new Set(JF),["get"].concat(JF));new Set(ZF),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ej.apply(this,arguments)}var tj=t.createContext(null);var nj=t.createContext(null);var rj=t.createContext(null);var ij=t.createContext(null);var aj=t.createContext(null);var oj=t.createContext({outlet:null,matches:[],isDataRoute:!1});var sj=t.createContext(null);function uj(){return null!=t.useContext(aj)}function cj(){return uj()||bF(!1),t.useContext(aj).location}function lj(e){t.useContext(ij).static||t.useLayoutEffect(e)}function fj(){return t.useContext(oj).isDataRoute?function(){var e=bj(vj.UseNavigateStable).router,n=xj(mj.UseNavigateStable),r=t.useRef(!1);lj((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,ej({fromRouteId:n},i)))}),[e,n]);return i}():function(){uj()||bF(!1);var e=t.useContext(tj),n=t.useContext(ij),r=n.basename,i=n.navigator,a=t.useContext(oj).matches,o=cj().pathname,s=JSON.stringify(WF(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);lj((function(){u.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=HF(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:KF([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return c}()}function hj(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(oj).matches,a=cj().pathname,o=JSON.stringify(WF(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return HF(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function dj(e,n,r){uj()||bF(!1);var i,a=t.useContext(ij).navigator,o=t.useContext(oj).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,cj());if(n){var f,h="string"===typeof n?CF(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||bF(!1),i=h}else i=l;var d=i.pathname||"/",p=TF(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=kj(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:KF([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:KF([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(aj.Provider,{value:{location:ej({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:pF.Pop}},v):v}function pj(){var e=function(){var e,n=t.useContext(sj),r=_j(mj.UseRouteError),i=xj(mj.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=XF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var vj,mj,yj=t.createElement(pj,null),gj=function(e){Cn(r,e);var n=Pn(r);function r(e){var t;return Rt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return Lt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(oj.Provider,{value:this.props.routeContext},t.createElement(sj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function wj(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(tj);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(oj.Provider,{value:n},i)}function kj(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||bF(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||yj);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(wj,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(gj,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function bj(e){var n=t.useContext(tj);return n||bF(!1),n}function _j(e){var n=t.useContext(nj);return n||bF(!1),n}function xj(e){var n=function(e){var n=t.useContext(oj);return n||bF(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||bF(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(vj||(vj={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(mj||(mj={}));var Ej;function Sj(e){bF(!1)}function Cj(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?pF.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;uj()&&bF(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=CF(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,w=p.hash,k=void 0===w?"":w,b=p.state,_=void 0===b?null:b,x=p.key,E=void 0===x?"default":x,S=t.useMemo((function(){var e=qF(m,h);return null==e?null:{location:{pathname:e,search:g,hash:k,state:_,key:E},navigationType:u}}),[h,m,g,k,_,E,u]);return null==S?null:t.createElement(ij.Provider,{value:d},t.createElement(aj.Provider,{children:a,value:S}))}function Ij(e){var t=e.children,n=e.location;return dj(Pj(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ej||(Ej={}));var Tj=new Promise((function(){}));t.Component;function Pj(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(Dt(n),[i]);if(e.type!==t.Fragment){e.type!==Sj&&bF(!1),e.props.index&&e.props.children&&bF(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Pj(e.props.children,a)),r.push(o)}else r.push.apply(r,Pj(e.props.children,a))}})),r}var Nj=n(830),Aj=n.n(Nj);var Dj=function(){var e=fj(),t=function(){(function(e){return ti(e).signOut()})(yF).then((function(){Aj().fire({title:"Are you sure?",text:"You want to leave!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.isConfirmed&&(localStorage.clear(""),window.history.forward(),e("/"))}))})).catch((function(e){console.log(e)}))};return(0,d.jsx)(Gn,{className:"navbar text-center m-0",bg:"dark",expand:"lg",children:(0,d.jsxs)(b,{children:[(0,d.jsx)("div",{className:"iconName",children:(0,d.jsx)("img",{alt:"sorry",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAFVBMVEVMaXHXewPXewLXegLXewLXegHXegKFlCImAAAAB3RSTlMA/k2j1h5/GL6i0gAAAAlwSFlzAAAD6AAAA+gBtXtSawAAAVBJREFUeJztmNFuwyAMADG2+f9PrpxkxF3zsKkz0ba7J4SqcLExDm0NAAAAAAAAAAAAAOANvO+88wyAX4i7f2P6hxkmOzZS7XU9pk2rK1JEtPc+NFabb6wiFsdB6FmtgomMuah8GAwR20dd5g9q0PP58drHsD8Np1exgJ9LJYEUo2qBJiL9VUBFdJGAXQqMdQJycwT87j0wLqsgaRULeFopCeQclQr0cwsmAS/eAW07fVQ1zn49Ix2nzzFbfBK3EAi2duRZ4JiV4nakMwXRC8ZLCqIdleZAn8twXJ4DtkagnX0nC4RXYRY0V9kMQRYoDoFmgVlzTwIRmNsF/G6BtkbALgXGMgGf+/3zJtQ1Apo/RS1nYEkZul5+kEQCKtvh2O8F+8VgtqMQmLO17ciPi5GYnr1o246rrkbNN742C/APcP4nBAAAAAAAAAAAAPgLPAB1BgU/BSnGMwAAAABJRU5ErkJggg=="})}),(0,d.jsx)(Gn.Toggle,{style:{backgroundColor:"#f8f8f8"},"aria-controls":"navbarScroll"}),(0,d.jsx)(Gn.Collapse,{id:"navbarScroll",children:(0,d.jsx)(Se,{className:"  me-auto my-2 my-lg-0",style:{maxHeight:"120px"},navbarScroll:!0,children:void 0==localStorage.getItem("admin")?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Se.Link,{className:"colorW ps-5",href:"/",children:"Menu"}),(0,d.jsx)(Se.Link,{className:"colorW ps-5",href:"/login",children:"log in"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Se.Link,{className:"colorW ps-5",href:"/",children:"Menu"}),(0,d.jsx)(Se.Link,{className:"colorW ps-5 ",onClick:t,children:"Logout"}),(0,d.jsx)(Se.Link,{className:"colorW ps-5",href:"/editAdmin",children:"Edit"})]})})})]})})},Rj=["as","className","type","tooltip"],Oj={type:ln().string,tooltip:ln().bool,as:ln().elementType},Lj=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,c=void 0!==s&&s,f=l(e,Rj);return(0,d.jsx)(r,u(u({},f),{},{ref:t,className:h()(i,"".concat(o,"-").concat(c?"tooltip":"feedback"))}))}));Lj.displayName="Feedback",Lj.propTypes=Oj;var Mj=Lj,Fj=t.createContext({}),jj=["id","bsPrefix","className","type","isValid","isInvalid","as"],Vj=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,c=e.isValid,f=void 0!==c&&c,p=e.isInvalid,v=void 0!==p&&p,y=e.as,g=void 0===y?"input":y,w=l(e,jj),k=(0,t.useContext)(Fj).controlId;return i=m(i,"form-check-input"),(0,d.jsx)(g,u(u({},w),{},{ref:n,type:s,id:r||k,className:h()(a,i,f&&"is-valid",v&&"is-invalid")}))}));Vj.displayName="FormCheckInput";var Bj=Vj,Uj=["bsPrefix","className","htmlFor"],qj=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=l(e,Uj),s=(0,t.useContext)(Fj).controlId;return r=m(r,"form-check-label"),(0,d.jsx)("label",u(u({},o),{},{ref:n,htmlFor:a||s,className:h()(i,r)}))}));qj.displayName="FormCheckLabel";var zj=qj;var Wj=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Hj=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,c=e.reverse,f=void 0!==c&&c,p=e.disabled,v=void 0!==p&&p,y=e.isValid,g=void 0!==y&&y,w=e.isInvalid,k=void 0!==w&&w,b=e.feedbackTooltip,_=void 0!==b&&b,x=e.feedback,E=e.feedbackType,S=e.className,C=e.style,I=e.title,T=void 0===I?"":I,P=e.type,N=void 0===P?"checkbox":P,A=e.label,D=e.children,R=e.as,O=void 0===R?"input":R,L=l(e,Wj);i=m(i,"form-check"),a=m(a,"form-switch");var M=(0,t.useContext)(Fj).controlId,F=(0,t.useMemo)((function(){return{controlId:r||M}}),[M,r]),j=!D&&null!=A&&!1!==A||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(D,zj),V=(0,d.jsx)(Bj,u(u({},L),{},{type:"switch"===N?"checkbox":N,ref:n,isValid:g,isInvalid:k,disabled:v,as:O}));return(0,d.jsx)(Fj.Provider,{value:F,children:(0,d.jsx)("div",{style:C,className:h()(S,j&&i,s&&"".concat(i,"-inline"),f&&"".concat(i,"-reverse"),"switch"===N&&a),children:D||(0,d.jsxs)(d.Fragment,{children:[V,j&&(0,d.jsx)(zj,{title:T,children:A}),x&&(0,d.jsx)(Mj,{type:E,tooltip:_,children:x})]})})})}));Hj.displayName="FormCheck";var Kj=Object.assign(Hj,{Input:Bj,Label:zj}),Gj=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Qj=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,s=e.type,c=e.size,f=e.htmlSize,p=e.id,v=e.className,y=e.isValid,g=void 0!==y&&y,w=e.isInvalid,k=void 0!==w&&w,b=e.plaintext,_=e.readOnly,x=e.as,E=void 0===x?"input":x,S=l(e,Gj),C=(0,t.useContext)(Fj).controlId;(a=m(a,"form-control"),b)?r=o({},"".concat(a,"-plaintext"),!0):(o(i={},a,!0),o(i,"".concat(a,"-").concat(c),c),r=i);return(0,d.jsx)(E,u(u({},S),{},{type:s,size:f,ref:n,readOnly:_,id:p||C,className:h()(v,r,g&&"is-valid",k&&"is-invalid","color"===s&&"".concat(a,"-color"))}))}));Qj.displayName="FormControl";var Yj=Object.assign(Qj,{Feedback:Mj}),$j=de("form-floating"),Xj=["controlId","as"],Jj=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=l(e,Xj),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,d.jsx)(Fj.Provider,{value:s,children:(0,d.jsx)(a,u(u({},o),{},{ref:n}))})}));Jj.displayName="FormGroup";var Zj=Jj,eV=["as","bsPrefix","className"],tV=["className"];var nV=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=l(e,eV);n=m(n,"col");var a=y(),o=g(),s=[],c=[];return a.forEach((function(e){var t,r,a,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,a=u.order):t=u;var l=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&c.push("order".concat(l,"-").concat(a)),null!=r&&c.push("offset".concat(l,"-").concat(r))})),[u(u({},i),{},{className:h().apply(void 0,[r].concat(s,c))}),{as:t,bsPrefix:n,spans:s}]}(e),r=W(n,2),i=r[0],a=i.className,o=l(i,tV),s=r[1],c=s.as,f=void 0===c?"div":c,p=s.bsPrefix,v=s.spans;return(0,d.jsx)(f,u(u({},o),{},{ref:t,className:h()(a,!v.length&&p)}))}));nV.displayName="Col";var rV=nV,iV=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],aV=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,c=e.visuallyHidden,f=void 0!==c&&c,p=e.className,v=e.htmlFor,y=l(e,iV),g=(0,t.useContext)(Fj).controlId;a=m(a,"form-label");var w="col-form-label";"string"===typeof s&&(w="".concat(w," ").concat(w,"-").concat(s));var k=h()(p,a,f&&"visually-hidden",s&&w);return v=v||g,s?(0,d.jsx)(rV,u({ref:n,as:"label",className:k,htmlFor:v},y)):(0,d.jsx)(i,u({ref:n,className:k,htmlFor:v},y))}));aV.displayName="FormLabel";var oV=aV,sV=["bsPrefix","className","id"],uV=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=l(e,sV),s=(0,t.useContext)(Fj).controlId;return r=m(r,"form-range"),(0,d.jsx)("input",u(u({},o),{},{type:"range",ref:n,className:h()(i,r),id:a||s}))}));uV.displayName="FormRange";var cV=uV,lV=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],fV=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,c=void 0!==s&&s,f=e.isInvalid,p=void 0!==f&&f,v=e.id,y=l(e,lV),g=(0,t.useContext)(Fj).controlId;return r=m(r,"form-select"),(0,d.jsx)("select",u(u({},y),{},{size:a,ref:n,className:h()(o,r,i&&"".concat(r,"-").concat(i),c&&"is-valid",p&&"is-invalid"),id:v||g}))}));fV.displayName="FormSelect";var hV=fV,dV=["bsPrefix","className","as","muted"],pV=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=l(e,dV);return n=m(n,"form-text"),(0,d.jsx)(a,u(u({},s),{},{ref:t,className:h()(r,n,o&&"text-muted")}))}));pV.displayName="FormText";var vV=pV,mV=t.forwardRef((function(e,t){return(0,d.jsx)(Kj,u(u({},e),{},{ref:t,type:"switch"}))}));mV.displayName="Switch";var yV=Object.assign(mV,{Input:Kj.Input,Label:Kj.Label}),gV=["bsPrefix","className","children","controlId","label"],wV=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=l(e,gV);return n=m(n,"form-floating"),(0,d.jsxs)(Zj,u(u({ref:t,className:h()(r,n),controlId:a},s),{},{children:[i,(0,d.jsx)("label",{htmlFor:a,children:o})]}))}));wV.displayName="FloatingLabel";var kV=wV,bV=["className","validated","as"],_V={_ref:ln().any,validated:ln().bool,as:ln().elementType},xV=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=l(e,bV);return(0,d.jsx)(a,u(u({},o),{},{ref:t,className:h()(n,r&&"was-validated")}))}));xV.displayName="Form",xV.propTypes=_V;var EV=Object.assign(xV,{Group:Zj,Control:Yj,Floating:$j,Check:Kj,Switch:yV,Label:oV,Text:vV,Range:cV,Select:hV,FloatingLabel:kV}),SV=["as","bsPrefix","variant","size","active","disabled","className"],CV=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,c=void 0!==s&&s,f=e.disabled,p=void 0!==f&&f,v=e.className,y=l(e,SV),g=m(r,"btn"),w=W(Q(u({tagName:n,disabled:p},y)),2),k=w[0],b=w[1].tagName;return(0,d.jsx)(b,u(u(u({},k),y),{},{ref:t,disabled:p,className:h()(v,g,c&&"active",a&&"".concat(g,"-").concat(a),o&&"".concat(g,"-").concat(o),y.href&&p&&"disabled")}))}));CV.displayName="Button";var IV=CV,TV=["bsPrefix","className","as"],PV=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=l(e,TV),s=m(n,"row"),c=y(),f=g(),p="".concat(s,"-cols"),v=[];return c.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==f?"-".concat(e):"";null!=t&&v.push("".concat(p).concat(r,"-").concat(t))})),(0,d.jsx)(a,u(u({ref:t},o),{},{className:h().apply(void 0,[r,s].concat(v))}))}));PV.displayName="Row";var NV=PV,AV=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),DV=(0,t.createContext)({}),RV=(0,t.createContext)(null),OV="undefined"!==typeof document,LV=OV?t.useLayoutEffect:t.useEffect,MV=(0,t.createContext)({strict:!1});function FV(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function jV(e){return"string"===typeof e||Array.isArray(e)}function VV(e){return"object"===typeof e&&"function"===typeof e.start}var BV=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UV=["initial"].concat(BV);function qV(e){return VV(e.animate)||UV.some((function(t){return jV(e[t])}))}function zV(e){return Boolean(qV(e)||e.variants)}function WV(e){var n=function(e,t){if(qV(e)){var n=e.initial,r=e.animate;return{initial:!1===n||jV(n)?n:void 0,animate:jV(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(DV)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[HV(r),HV(i)])}function HV(e){return Array.isArray(e)?e.join(" "):e}var KV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},GV={},QV=function(e){GV[e]={isEnabled:function(t){return KV[e].some((function(e){return!!t[e]}))}}};for(var YV in KV)QV(YV);var $V=(0,t.createContext)({}),XV=(0,t.createContext)({}),JV=Symbol.for("motionComponentSymbol");function ZV(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;n&&function(e){for(var t in e)GV[t]=u(u({},GV[t]),e[t])}(n);var s=(0,t.forwardRef)((function(e,s){var c,l=u(u(u({},(0,t.useContext)(AV)),e),{},{layoutId:eB(e)}),f=l.isStatic,h=WV(e),d=a(e,f);if(!f&&OV){h.visualElement=function(e,n,r,i){var a=(0,t.useContext)(DV).visualElement,o=(0,t.useContext)(MV),s=(0,t.useContext)(RV),u=(0,t.useContext)(AV).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:n,parent:a,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;return(0,t.useInsertionEffect)((function(){l&&l.update(r,s)})),LV((function(){l&&l.render()})),(0,t.useEffect)((function(){l&&l.updateFeatures()})),(window.HandoffAppearAnimations?LV:t.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),l}(o,d,l,r);var p=(0,t.useContext)(XV),v=(0,t.useContext)(MV).strict;h.visualElement&&(c=h.visualElement.loadFeatures(l,v,n,p))}return t.createElement(DV.Provider,{value:h},c&&h.visualElement?t.createElement(c,u({visualElement:h.visualElement},l)):null,i(o,e,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):FV(r)&&(r.current=t))}),[n])}(d,h.visualElement,s),d,f,h.visualElement))}));return s[JV]=o,s}function eB(e){var n=e.layoutId,r=(0,t.useContext)($V).id;return r&&void 0!==n?r+"-"+n:n}function tB(e){function t(t){return ZV(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var nB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rB(e){return"string"===typeof e&&!e.includes("-")&&!!(nB.indexOf(e)>-1||/[A-Z]/.test(e))}var iB={};var aB=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oB=new Set(aB);function sB(e,t){var n=t.layout,r=t.layoutId;return oB.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!iB[e]||"opacity"===e)}var uB=function(e){return Boolean(e&&e.getVelocity)},cB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lB=aB.length;var fB=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},hB=fB("--"),dB=fB("var(--"),pB=function(e,t){return t&&"number"===typeof e?t.transform(e):e},vB=function(e,t,n){return Math.min(Math.max(n,e),t)},mB={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},yB=u(u({},mB),{},{transform:function(e){return vB(0,1,e)}}),gB=u(u({},mB),{},{default:1}),wB=function(e){return Math.round(1e5*e)/1e5},kB=/(-)?([\d]*\.?[\d])+/g,bB=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_B=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xB(e){return"string"===typeof e}var EB=function(e){return{test:function(t){return xB(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},SB=EB("deg"),CB=EB("%"),IB=EB("px"),TB=EB("vh"),PB=EB("vw"),NB=u(u({},CB),{},{parse:function(e){return CB.parse(e)/100},transform:function(e){return CB.transform(100*e)}}),AB=u(u({},mB),{},{transform:Math.round}),DB={borderWidth:IB,borderTopWidth:IB,borderRightWidth:IB,borderBottomWidth:IB,borderLeftWidth:IB,borderRadius:IB,radius:IB,borderTopLeftRadius:IB,borderTopRightRadius:IB,borderBottomRightRadius:IB,borderBottomLeftRadius:IB,width:IB,maxWidth:IB,height:IB,maxHeight:IB,size:IB,top:IB,right:IB,bottom:IB,left:IB,padding:IB,paddingTop:IB,paddingRight:IB,paddingBottom:IB,paddingLeft:IB,margin:IB,marginTop:IB,marginRight:IB,marginBottom:IB,marginLeft:IB,rotate:SB,rotateX:SB,rotateY:SB,rotateZ:SB,scale:gB,scaleX:gB,scaleY:gB,scaleZ:gB,skew:SB,skewX:SB,skewY:SB,distance:IB,translateX:IB,translateY:IB,translateZ:IB,x:IB,y:IB,z:IB,perspective:IB,transformPerspective:IB,opacity:yB,originX:NB,originY:NB,originZ:IB,zIndex:AB,fillOpacity:yB,strokeOpacity:yB,numOctaves:AB};function RB(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(hB(f))a[f]=h;else{var d=DB[f],p=pB(h,d);if(oB.has(f)){if(u=!0,o[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<lB;c++){var l=aB[c];if(void 0!==e[l]){var f=cB[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,y=s.originY,g=void 0===y?"50%":y,w=s.originZ,k=void 0===w?0:w;i.transformOrigin="".concat(m," ").concat(g," ").concat(k)}}var OB=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function LB(e,t,n){for(var r in t)uB(t[r])||sB(r,n)||(e[r]=t[r])}function MB(e,n,r){var i={};return LB(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e=OB();return RB(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function FB(e,t,n){var r={},i=MB(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var jB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function VB(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||jB.has(e)}var BB,UB=function(e){return!VB(e)};try{(BB=require("@emotion/is-prop-valid").default)&&(UB=function(e){return e.startsWith("on")?!VB(e):BB(e)})}catch(YC){}function qB(e,t,n){return"string"===typeof e?e:IB.transform(t+n*e)}var zB={offset:"stroke-dashoffset",array:"stroke-dasharray"},WB={offset:"strokeDashoffset",array:"strokeDasharray"};var HB=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function KB(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,f=t.pathLength,h=t.pathSpacing,d=void 0===h?1:h,p=t.pathOffset,v=void 0===p?0:p;if(RB(e,l(t,HB),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var m=e.attrs,y=e.style,g=e.dimensions;m.transform&&(g&&(y.transform=m.transform),delete m.transform),g&&(void 0!==u||void 0!==c||y.transform)&&(y.transformOrigin=function(e,t,n){var r=qB(t,e.x,e.width),i=qB(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(m.x=a),void 0!==o&&(m.y=o),void 0!==s&&(m.scale=s),void 0!==f&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?zB:WB;e[a.offset]=IB.transform(-r);var o=IB.transform(t),s=IB.transform(n);e[a.array]="".concat(o," ").concat(s)}(m,f,d,v,!1)}}var GB=function(){return u(u({},OB()),{},{attrs:{}})},QB=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function YB(e,n,r,i){var a=(0,t.useMemo)((function(){var t=GB();return KB(t,n,{enableHardwareAcceleration:!1},QB(i),e.transformTemplate),u(u({},t.attrs),{},{style:u({},t.style)})}),[n]);if(e.style){var o={};LB(o,e.style,e),a.style=u(u({},o),a.style)}return a}function $B(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r,i,a,o){var s=a.latestValues,c=(rB(n)?YB:FB)(r,s,o,n),l=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(UB(i)||!0===n&&VB(i)||!t&&!VB(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),f=u(u(u({},l),c),{},{ref:i}),h=r.children,d=(0,t.useMemo)((function(){return uB(h)?h.get():h}),[h]);return(0,t.createElement)(n,u(u({},f),{},{children:d}))}}var XB=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function JB(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var ZB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eU(e,t,n,r){for(var i in JB(e,t,void 0,r),t.attrs)e.setAttribute(ZB.has(i)?i:XB(i),t.attrs[i])}function tU(e,t){var n=e.style,r={};for(var i in n)(uB(n[i])||t.style&&uB(t.style[i])||sB(i,e))&&(r[i]=n[i]);return r}function nU(e,t){var n=tU(e,t);for(var r in e){if(uB(e[r])||uB(t[r]))n[-1!==aB.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function rU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var iU=function(e){return Array.isArray(e)},aU=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},oU=function(e){return iU(e)?e[e.length-1]||0:e};function sU(e){var t=uB(e)?e.get():e;return aU(t)?t.toValue():t}var uU=["transitionEnd","transition"];var cU=function(e){return function(n,r){var i=(0,t.useContext)(DV),a=(0,t.useContext)(RV),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:lU(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():function(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}(o)}};function lU(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=sU(a[o]);var s=e.initial,u=e.animate,c=qV(e),f=zV(e);t&&f&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var h=!!n&&!1===n.initial,d=(h=h||!1===s)?u:s;d&&"boolean"!==typeof d&&!VV(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=rU(e,t);if(n){var r=n.transitionEnd,a=(n.transition,l(n,uU));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var fU={useVisualState:cU({scrapeMotionValuesFromProps:nU,createRenderState:GB,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(xG){r.dimensions={x:0,y:0,width:0,height:0}}KB(r,i,{enableHardwareAcceleration:!1},QB(t.tagName),e.transformTemplate),eU(t,r)}})},hU={useVisualState:cU({scrapeMotionValuesFromProps:tU,createRenderState:OB})};function dU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var pU=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function vU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var mU=function(e){return function(t){return pU(t)&&e(t,vU(t))}};function yU(e,t,n,r){return dU(e,t,mU(n),r)}var gU=function(e,t){return function(n){return t(e(n))}},wU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(gU)};function kU(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var bU=kU("dragHorizontal"),_U=kU("dragVertical");function xU(e){var t=!1;if("y"===e)t=_U();else if("x"===e)t=bU();else{var n=bU(),r=_U();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function EU(){var e=xU(!0);return!e||(e(),!1)}var SU=function(){function e(t){Rt(this,e),this.isMounted=!1,this.node=t}return Lt(e,[{key:"update",value:function(){}}]),e}();var CU={delta:0,timestamp:0,isProcessing:!1},IU=!0,TU=!1,PU=["read","update","preRender","render","postRender"],NU=PU.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return TU=!0})),e}),{}),AU=function(e){return NU[e].process(CU)},DU=function e(t){TU=!1,CU.delta=IU?1e3/60:Math.max(Math.min(t-CU.timestamp,40),1),CU.timestamp=t,CU.isProcessing=!0,PU.forEach(AU),CU.isProcessing=!1,TU&&(IU=!1,requestAnimationFrame(e))},RU=PU.reduce((function(e,t){var n=NU[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return TU||(TU=!0,IU=!0,CU.isProcessing||requestAnimationFrame(DU)),n.schedule(e,t,r)},e}),{});function OU(e){PU.forEach((function(t){return NU[t].cancel(e)}))}function LU(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return yU(e.current,n,(function(n,i){if("touch"!==n.type&&!EU()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&RU.update((function(){return a[r](n,i)}))}}),{passive:!e.getProps()[r]})}var MU=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"mount",value:function(){this.unmount=wU(LU(this.node,!0),LU(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(SU),FU=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return Lt(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(xG){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=wU(dU(this.node.current,"focus",(function(){return e.onFocus()})),dU(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(SU),jU=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))},VU=function(e){return e};function BU(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,vU(n))}}var UU=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).removeStartListeners=VU,e.removeEndListeners=VU,e.removeAccessibleListeners=VU,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=yU(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;RU.update((function(){jU(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),a=yU(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=wU(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=dU(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=dU(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&BU("up",(function(t,n){var r=e.node.getProps().onTap;r&&RU.update((function(){return r(t,n)}))}))})),BU("down",(function(t,n){e.startPress(t,n)}))}})),n=dU(e.node.current,"blur",(function(){e.isPressing&&BU("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=wU(t,n)},e}return Lt(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&RU.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!EU()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&RU.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=yU(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=dU(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wU(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(SU),qU=["root"],zU=new WeakMap,WU=new WeakMap,HU=function(e){var t=zU.get(e.target);t&&t(e)},KU=function(e){e.forEach(HU)};function GU(e,t,n){var r=function(e){var t=e.root,n=l(e,qU),r=t||document;WU.has(r)||WU.set(r,{});var i=WU.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(KU,u({root:t},n))),i[a]}(t);return zU.set(e,n),r.observe(e),function(){zU.delete(e),r.unobserve(e)}}var QU={some:0,all:1},YU=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return Lt(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:QU[o]};return GU(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(SU);var $U={inView:{Feature:YU},tap:{Feature:UU},focus:{Feature:FU},hover:{Feature:MU}};function XU(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function JU(e,t,n){var r=e.getProps();return rU(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var ZU="data-"+XB("framerAppearId"),eq=VU,tq=VU;var nq=function(e){return 1e3*e},rq=function(e){return e/1e3},iq=!1,aq=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function oq(e){return Boolean(!e||"string"===typeof e&&uq[e]||aq(e)||Array.isArray(e)&&e.every(oq))}var sq=function(e){var t=W(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},uq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sq([0,.65,.55,1]),circOut:sq([.55,0,1,.45]),backIn:sq([.31,.01,.66,-.59]),backOut:sq([.33,1.53,.69,.99])};function cq(e){if(e)return aq(e)?sq(e):Array.isArray(e)?e.map(cq):uq[e]}var lq={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},fq={},hq={},dq=function(e){hq[e]=function(){return void 0===fq[e]&&(fq[e]=lq[e]()),fq[e]}};for(var pq in lq)dq(pq);var vq=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},mq=1e-7,yq=12;function gq(e,t,n,r){if(e===t&&n===r)return VU;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=vq(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>mq&&++s<yq);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:vq(i(e),t,r)}}var wq=gq(.42,0,1,1),kq=gq(0,0,.58,1),bq=gq(.42,0,.58,1),_q=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},xq=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Eq=function(e){return function(t){return 1-e(1-t)}},Sq=function(e){return 1-Math.sin(Math.acos(e))},Cq=Eq(Sq),Iq=xq(Cq),Tq=gq(.33,1.53,.69,.99),Pq=Eq(Tq),Nq=xq(Pq),Aq={linear:VU,easeIn:wq,easeInOut:bq,easeOut:kq,circIn:Sq,circInOut:Iq,circOut:Cq,backIn:Pq,backInOut:Nq,backOut:Tq,anticipate:function(e){return(e*=2)<1?.5*Pq(e):.5*(2-Math.pow(2,-10*(e-1)))}},Dq=function(e){if(Array.isArray(e)){tq(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=W(e,4);return gq(t[0],t[1],t[2],t[3])}return"string"===typeof e?(tq(void 0!==Aq[e],"Invalid easing type '".concat(e,"'")),Aq[e]):e},Rq=function(e,t){return function(n){return Boolean(xB(n)&&_B.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Oq=function(e,t,n){return function(r){var i;if(!xB(r))return r;var a=W(r.match(kB),4),s=a[0],u=a[1],c=a[2],l=a[3];return o(i={},e,parseFloat(s)),o(i,t,parseFloat(u)),o(i,n,parseFloat(c)),o(i,"alpha",void 0!==l?parseFloat(l):1),i}},Lq=u(u({},mB),{},{transform:function(e){return Math.round(function(e){return vB(0,255,e)}(e))}}),Mq={test:Rq("rgb","red"),parse:Oq("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+Lq.transform(t)+", "+Lq.transform(n)+", "+Lq.transform(r)+", "+wB(yB.transform(a))+")"}};var Fq={test:Rq("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Mq.transform},jq={test:Rq("hsl","hue"),parse:Oq("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+CB.transform(wB(n))+", "+CB.transform(wB(r))+", "+wB(yB.transform(a))+")"}},Vq={test:function(e){return Mq.test(e)||Fq.test(e)||jq.test(e)},parse:function(e){return Mq.test(e)?Mq.parse(e):jq.test(e)?jq.parse(e):Fq.parse(e)},transform:function(e){return xB(e)?e:e.hasOwnProperty("red")?Mq.transform(e):jq.transform(e)}},Bq=function(e,t,n){return-n*e+n*t+e};function Uq(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var qq=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zq=[Fq,Mq,jq];function Wq(e){var t=function(e){return zq.find((function(t){return t.test(e)}))}(e);tq(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===jq&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=Uq(c,u,t+1/3),o=Uq(c,u,t),s=Uq(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var Hq=function(e,t){var n=Wq(e),r=Wq(t),i=u({},n);return function(e){return i.red=qq(n.red,r.red,e),i.green=qq(n.green,r.green,e),i.blue=qq(n.blue,r.blue,e),i.alpha=Bq(n.alpha,r.alpha,e),Mq.transform(i)}};var Kq={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:VU},Gq={regex:bB,countKey:"Colors",token:"${c}",parse:Vq.parse},Qq={regex:kB,countKey:"Numbers",token:"${n}",parse:mB.parse};function Yq(e,t){var n,r=t.regex,i=t.countKey,a=t.token,o=t.parse,s=e.tokenised.match(r);s&&(e["num"+i]=s.length,e.tokenised=e.tokenised.replace(r,a),(n=e.values).push.apply(n,Dt(s.map(o))))}function $q(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yq(n,Kq),Yq(n,Gq),Yq(n,Qq),n}function Xq(e){return $q(e).values}function Jq(e){var t=$q(e),n=t.values,r=t.numColors,i=t.numVars,a=t.tokenised,o=n.length;return function(e){for(var t=a,n=0;n<o;n++)t=n<i?t.replace(Kq.token,e[n]):n<i+r?t.replace(Gq.token,Vq.transform(e[n])):t.replace(Qq.token,wB(e[n]));return t}}var Zq=function(e){return"number"===typeof e?0:e};var ez={test:function(e){var t,n;return isNaN(e)&&xB(e)&&((null===(t=e.match(kB))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(bB))||void 0===n?void 0:n.length)||0)>0},parse:Xq,createTransformer:Jq,getAnimatableNone:function(e){var t=Xq(e);return Jq(e)(t.map(Zq))}},tz=function(e,t){return function(n){return"".concat(n>0?t:e)}};function nz(e,t){return"number"===typeof e?function(n){return Bq(e,t,n)}:Vq.test(e)?Hq(e,t):e.startsWith("var(")?tz(e,t):az(e,t)}var rz=function(e,t){var n=Dt(e),r=n.length,i=e.map((function(e,n){return nz(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},iz=function(e,t){var n=u(u({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=nz(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},az=function(e,t){var n=ez.createTransformer(t),r=$q(e),i=$q(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wU(rz(r.values,i.values),n):(eq(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),tz(e,t))},oz=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},sz=function(e,t){return function(n){return Bq(e,t,n)}};function uz(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?sz:"string"===typeof e?Vq.test(e)?Hq:az:Array.isArray(e)?rz:"object"===typeof e?iz:sz}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||VU:t;s=wU(u,s)}r.push(s)}return r}function cz(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;if(tq(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=Dt(e).reverse(),t=Dt(t).reverse());var u=uz(t,a,o),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=oz(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(vB(e[0],e[s-1],t))}:l}function lz(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=oz(0,t,r);e.push(Bq(n,1,i))}}(t,e.length-1),t}function fz(e){var t,n,r=e.duration,i=void 0===r?300:r,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=_q(u)?u.map(Dq):Dq(u),l={done:!1,value:a[0]},f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:lz(a),i),h=cz(f,a,{ease:Array.isArray(c)?c:(t=a,n=c,t.map((function(){return n||bq})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=h(e),l.done=e>=i,l}}}function hz(e,t){return t?e*(1e3/t):0}var dz=5;function pz(e,t,n){var r=Math.max(t-dz,0);return hz(n-e(r),t-r)}var vz=.001,mz=.01,yz=10,gz=.05,wz=1;function kz(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;eq(i<=nq(yz),"Spring duration must be 10 seconds or less");var f=1-o;f=vB(gz,wz,f),i=vB(mz,yz,rq(i)),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=_z(e,f),o=Math.exp(-n);return vz-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=_z(Math.pow(e,2),f);return(-t(e)+vz>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-vz},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<bz;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=nq(i),isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var bz=12;function _z(e,t){return e*Math.sqrt(1-t*t)}var xz=["keyframes","restDelta","restSpeed"],Ez=["duration","bounce"],Sz=["stiffness","damping","mass"];function Cz(e,t){return t.some((function(t){return void 0!==e[t]}))}function Iz(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,a=l(e,xz),o=n[0],s=n[n.length-1],c={done:!1,value:o},f=function(e){var t=u({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Cz(e,Sz)&&Cz(e,Ez)){var n=kz(e);(t=u(u(u({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),h=f.stiffness,d=f.damping,p=f.mass,v=f.velocity,m=f.duration,y=f.isResolvedFromDuration,g=v?-rq(v):0,w=d/(2*Math.sqrt(h*p)),k=s-o,b=rq(Math.sqrt(h/p)),_=Math.abs(k)<5;if(i||(i=_?.01:2),r||(r=_?.005:.5),w<1){var x=_z(b,w);t=function(e){var t=Math.exp(-w*b*e);return s-t*((g+w*b*k)/x*Math.sin(x*e)+k*Math.cos(x*e))}}else if(1===w)t=function(e){return s-Math.exp(-b*e)*(k+(g+b*k)*e)};else{var E=b*Math.sqrt(w*w-1);t=function(e){var t=Math.exp(-w*b*e),n=Math.min(E*e,300);return s-t*((g+w*b*k)*Math.sinh(n)+E*k*Math.cosh(n))/E}}return{calculatedDuration:y&&m||null,next:function(e){var n=t(e);if(y)c.done=e>=m;else{var a=g;0!==e&&(a=w<1?pz(t,e,n):0);var o=Math.abs(a)<=i,u=Math.abs(s-n)<=r;c.done=o&&u}return c.value=c.done?s:n,c}}}function Tz(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,f=void 0===l?500:l,h=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,y=e.restSpeed,g=t[0],w={done:!1,value:g},k=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},b=a*r,_=g+b,x=void 0===h?_:h(_);x!==_&&(b=x-g);var E,S,C=function(e){return-b*Math.exp(-e/s)},I=function(e){return x+C(e)},T=function(e){var t=C(e),n=I(e);w.done=Math.abs(t)<=m,w.value=w.done?x:n},P=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(w.value)&&(E=e,S=Iz({keyframes:[w.value,k(w.value)],velocity:pz(I,e,w.value),damping:c,stiffness:f,restDelta:m,restSpeed:y}))};return P(0),{calculatedDuration:null,next:function(e){var t=!1;return S||void 0!==E||(t=!0,T(e),P(e)),void 0!==E&&e>E?S.next(e-E):(!t&&T(e),w)}}}var Pz=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return RU.update(t,!0)},stop:function(){return OU(t)},now:function(){return CU.isProcessing?CU.timestamp:performance.now()}}},Nz=2e4;function Az(e){for(var t=0,n=e.next(t);!n.done&&t<Nz;)t+=50,n=e.next(t);return t>=Nz?1/0:t}var Dz=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Rz={decay:Tz,inertia:Tz,tween:fz,keyframes:fz,spring:Iz};function Oz(e){var t,n,r,i=e.autoplay,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,c=e.driver,f=void 0===c?Pz:c,h=e.keyframes,d=e.type,p=void 0===d?"keyframes":d,v=e.repeat,m=void 0===v?0:v,y=e.repeatDelay,g=void 0===y?0:y,w=e.repeatType,k=void 0===w?"loop":w,b=e.onPlay,_=e.onStop,x=e.onComplete,E=e.onUpdate,S=l(e,Dz),C=1,I=!1,T=function(){t&&t(),n=new Promise((function(e){t=e}))};T();var P,N=Rz[p]||fz;N!==fz&&"number"!==typeof h[0]&&(P=cz([0,100],h,{clamp:!1}),h=[0,100]);var A,D=N(u(u({},S),{},{keyframes:h}));"mirror"===k&&(A=N(u(u({},S),{},{keyframes:Dt(h).reverse(),velocity:-(S.velocity||0)})));var R="idle",O=null,L=null,M=null;null===D.calculatedDuration&&m&&(D.calculatedDuration=Az(D));var F=D.calculatedDuration,j=1/0,V=1/0;null!==F&&(V=(j=F+g)*(m+1)-g);var B=0,U=function(e){if(null!==L){C>0&&(L=Math.min(L,e));var t=(B=null!==O?O:(e-L)*C)-s,n=t<0;B=Math.max(t,0),"finished"===R&&null===O&&(B=V);var r=B,i=D;if(m){var a=B/j,o=Math.floor(a),u=a%1;!u&&a>=1&&(u=1),1===u&&o--,o=Math.min(o,m+1);var c=Boolean(o%2);c&&("reverse"===k?(u=1-u,g&&(u-=g/j)):"mirror"===k&&(i=A));var l=vB(0,1,u);B>V&&(l="reverse"===k&&c?1:0),r=l*j}var f=n?{done:!1,value:h[0]}:i.next(r);P&&(f.value=P(f.value));var d=f.done;n||null===F||(d=B>=V);var p=null===O&&("finished"===R||"running"===R&&d||C<0&&B<=0);return E&&E(f.value),p&&W(),f}},q=function(){r&&r.stop(),r=void 0},z=function(){R="idle",q(),T(),L=M=null},W=function(){R="finished",x&&x(),q(),T()},H=function(){if(!I){r||(r=f(U));var e=r.now();b&&b(),null!==O?L=e-O:L&&"finished"!==R||(L=e),M=L,O=null,R="running",r.start()}};a&&H();var K={then:function(e,t){return n.then(e,t)},get time(){return rq(B)},set time(e){e=nq(e),B=e,null===O&&r&&0!==C?L=r.now()-e/C:O=e},get duration(){var e=null===D.calculatedDuration?Az(D):D.calculatedDuration;return rq(e)},get speed(){return C},set speed(e){e!==C&&r&&(C=e,K.time=rq(B))},get state(){return R},play:H,pause:function(){R="paused",O=B},stop:function(){I=!0,"idle"!==R&&(R="idle",_&&_(),z())},cancel:function(){null!==M&&U(M),z()},complete:function(){R="finished"},sample:function(e){return L=0,U(e)}};return K}var Lz=["onUpdate","onComplete"],Mz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Fz(e,t,n){n.onUpdate;var r=n.onComplete,i=l(n,Lz);if(!(hq.waapi()&&Mz.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,s,c=!1,f=function(){s=new Promise((function(e){a=e}))};f();var h=i.keyframes,d=i.duration,p=void 0===d?300:d,v=i.ease,m=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!oq(t.ease)}(t,i)){for(var y=Oz(u(u({},i),{},{repeat:0,delay:0})),g={done:!1,value:h[0]},w=[],k=0;!g.done&&k<2e4;)g=y.sample(k),w.push(g.value),k+=10;m=void 0,h=w,p=k-10,v="linear"}var b=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,a=void 0===i?0:i,s=r.duration,u=r.repeat,c=void 0===u?0:u,l=r.repeatType,f=void 0===l?"loop":l,h=r.ease,d=r.times,p=o({},t,n);d&&(p.offset=d);var v=cq(h);return Array.isArray(v)&&(p.easing=v),e.animate(p,{delay:a,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:"reverse"===f?"alternate":"normal"})}(e.owner.current,t,h,u(u({},i),{},{duration:p,ease:v,times:m})),_=function(){return b.cancel()},x=function(){RU.update(_),a(),f()};return b.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(h,i)),r&&r(),x()},{then:function(e,t){return s.then(e,t)},get time(){return rq(b.currentTime||0)},set time(e){b.currentTime=nq(e)},get speed(){return b.playbackRate},set speed(e){b.playbackRate=e},get duration(){return rq(p)},play:function(){c||(b.play(),OU(_))},pause:function(){return b.pause()},stop:function(){if(c=!0,"idle"!==b.playState){var t=b.currentTime;if(t){var n=Oz(u(u({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}x()}},complete:function(){return b.finish()},cancel:x}}var jz={type:"spring",stiffness:500,damping:25,restSpeed:10},Vz={type:"keyframes",duration:.8},Bz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uz=function(e,t){var n=t.keyframes;return n.length>2?Vz:oB.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:jz:Bz},qz=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ez.test(t)&&"0"!==t||t.startsWith("url(")))},zz=new Set(["brightness","contrast","saturate","opacity"]);function Wz(e){var t=W(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=W(r.match(kB)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=zz.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var Hz=/([a-z-]*)\(.*?\)/g,Kz=u(u({},ez),{},{getAnimatableNone:function(e){var t=e.match(Hz);return t?t.map(Wz).join(" "):e}}),Gz=u(u({},DB),{},{color:Vq,backgroundColor:Vq,outlineColor:Vq,fill:Vq,stroke:Vq,borderColor:Vq,borderTopColor:Vq,borderRightColor:Vq,borderBottomColor:Vq,borderLeftColor:Vq,filter:Kz,WebkitFilter:Kz}),Qz=function(e){return Gz[e]};function Yz(e,t){var n=Qz(e);return n!==Kz&&(n=ez),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var $z=function(e){return/^0[^.\s]+$/.test(e)};function Xz(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||$z(e):void 0}var Jz=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Zz(e,t){return e[t]||e.default||e}var eW=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=Zz(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,c=void 0===s?0:s;c-=nq(o);var f=function(e,t,n,r){var i,a=qz(t,n);i=Array.isArray(n)?Dt(n):[null,n];for(var o=void 0!==r.from?r.from:e.get(),s=void 0,u=[],c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?o:i[c-1]),Xz(i[c])&&u.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(s=i[c]);if(a&&u.length&&s)for(var l=0;l<u.length;l++)i[u[l]]=Yz(t,s);return i}(t,e,n,a),h=f[0],d=f[f.length-1],p=qz(e,h),v=qz(e,d);eq(p===v,"You are trying to animate ".concat(e,' from "').concat(h,'" to "').concat(d,'". ').concat(h," is not an animatable value - to enable this animation set ").concat(h," to a value animatable to ").concat(d," via the `style` property."));var m=u(u({keyframes:f,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-c,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=l(e,Jz);return!!Object.keys(t).length}(a)||(m=u(u({},m),Uz(e,m))),m.duration&&(m.duration=nq(m.duration)),m.repeatDelay&&(m.repeatDelay=nq(m.repeatDelay)),!p||!v||iq||!1===a.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:VU,pause:VU,stop:VU,then:function(e){return e(),Promise.resolve()},cancel:VU,complete:VU}};return n?Oz({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var y=Fz(t,e,m);if(y)return y}return Oz(m)}};function tW(e){return Boolean(uB(e)&&e.add)}var nW=function(e){return/^\-?\d*\.?\d+$/.test(e)};function rW(e,t){-1===e.indexOf(t)&&e.push(t)}function iW(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var aW=function(){function e(){Rt(this,e),this.subscriptions=[]}return Lt(e,[{key:"add",value:function(e){var t=this;return rW(this.subscriptions,e),function(){return iW(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),oW=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rt(this,e),this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=CU.delta,i=CU.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,RU.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return RU.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return Lt(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new aW);var r=this.events[e].add(t);return"change"===e?function(){r(),RU.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?hz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function sW(e,t){return new oW(e,t)}var uW=function(e){return function(t){return t.test(e)}},cW=[mB,IB,CB,SB,PB,TB,{test:function(e){return"auto"===e},parse:function(e){return e}}],lW=function(e){return cW.find(uW(e))},fW=[].concat(Dt(cW),[Vq,ez]),hW=function(e){return fW.find(uW(e))},dW=["transitionEnd","transition"];function pW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sW(n))}function vW(e,t){var n=JU(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,l(r,dW));for(var s in o=u(u({},o),a)){pW(e,s,oU(o[s]))}}function mW(e,t){if(t)return(t[e]||t.default||t).from}var yW=["transition","transitionEnd"];function gW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),c=s.transition,f=void 0===c?e.getDefaultTransition():c,h=s.transitionEnd,d=l(s,yW),p=e.getValue("willChange");a&&(f=a);var v=[],m=o&&e.animationState&&e.animationState.getState()[o],y=function(t){var n=e.getValue(t),r=d[t];if(!n||void 0===r||m&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(m,t))return"continue";var a=u({delay:i,elapsed:0},f);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[ZU];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,RU))}n.start(eW(t,n,r,e.shouldReduceMotion&&oB.has(t)?{type:!1}:a));var s=n.animation;tW(p)&&(p.add(t),s.then((function(){return p.remove(t)}))),v.push(s)};for(var g in d)y(g);return h&&Promise.all(v).then((function(){h&&vW(e,h)})),v}function wW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=JU(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return Promise.all(gW(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,c=i.staggerChildren,l=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,c=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(kW).forEach((function(e,r){e.notify("AnimationStart",t),o.push(wW(e,t,u(u({},a),{},{delay:n+c(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,c,l,n)}:function(){return Promise.resolve()},c=a.when;if(c){var l=W("beforeChildren"===c?[o,s]:[s,o],2),f=l[0],h=l[1];return f().then((function(){return h()}))}return Promise.all([o(),s(n.delay)])}function kW(e,t){return e.sortNodePosition(t)}var bW=["transition","transitionEnd"],_W=Dt(BV).reverse(),xW=BV.length;function EW(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return wW(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=wW(e,t,r);else{var a="function"===typeof t?JU(e,t,r.custom):t;n=Promise.all(gW(e,a,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function SW(e){var t=EW(e),n={animate:CW(!0),whileInView:CW(),whileHover:CW(),whileTap:CW(),whileDrag:CW(),whileFocus:CW(),exit:CW()},r=!0,i=function(t,n){var r=JU(e,n);if(r){r.transition;var i=r.transitionEnd,a=l(r,bW);t=u(u(u({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),c=e.getVariantContext(!0)||{},l=[],f=new Set,h={},d=1/0,p=function(){var t=_W[v],p=n[t],m=void 0!==s[t]?s[t]:c[t],y=jV(m),g=t===o?p.isActive:null;!1===g&&(d=v);var w=m===c[t]&&m!==s[t]&&y;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),p.protectedKeys=u({},h),!p.isActive&&null===g||!m&&!p.prevProp||VV(m)||"boolean"===typeof m)return"continue";var k=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!XU(t,e);return!1}(p.prevProp,m),b=k||t===o&&p.isActive&&!w&&y||v>d&&y,_=Array.isArray(m)?m:[m],x=_.reduce(i,{});!1===g&&(x={});var E=p.prevResolvedValues,S=void 0===E?{}:E,C=u(u({},S),x),I=function(e){b=!0,f.delete(e),p.needsAnimating[e]=!0};for(var T in C){var P=x[T],N=S[T];h.hasOwnProperty(T)||(P!==N?iU(P)&&iU(N)?!XU(P,N)||k?I(T):p.protectedKeys[T]=!0:void 0!==P?I(T):f.add(T):void 0!==P&&f.has(T)?I(T):p.protectedKeys[T]=!0)}p.prevProp=m,p.prevResolvedValues=x,p.isActive&&(h=u(u({},h),x)),r&&e.blockInitialAnimation&&(b=!1),b&&!w&&l.push.apply(l,Dt(_.map((function(e){return{animation:e,options:u({type:t},a)}}))))},v=0;v<xW;v++)p();if(f.size){var m={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(m[t]=n)})),l.push({animation:m})}var y=Boolean(l.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function CW(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var IW=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),r=t.call(this,e),e.animationState||(e.animationState=SW(e)),r}return Lt(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),VV(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(SU),TW=0,PW=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).id=TW++,e}return Lt(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(SU),NW={animation:{Feature:IW},exit:{Feature:PW}},AW=function(e,t){return Math.abs(e-t)};var DW=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(Rt(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=LW(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=AW(e.x,t.x),r=AW(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=CU.timestamp;r.history.push(u(u({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,c=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),c&&c(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=RW(t,r.transformPagePoint),RU.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=LW("pointercancel"===e.type?r.lastMoveEventInfo:RW(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},pU(t)){this.handlers=n,this.transformPagePoint=i;var a=RW(vU(t),this.transformPagePoint),o=a.point,s=CU.timestamp;this.history=[u(u({},o),{},{timestamp:s})];var c=n.onSessionStart;c&&c(t,LW(a,this.history)),this.removeListeners=wU(yU(window,"pointermove",this.handlePointerMove),yU(window,"pointerup",this.handlePointerUp),yU(window,"pointercancel",this.handlePointerUp))}}return Lt(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),OU(this.updatePoint)}}]),e}();function RW(e,t){return t?{point:t(e.point)}:e}function OW(e,t){return{x:e.x-t.x,y:e.y-t.y}}function LW(e,t){var n=e.point;return{point:n,delta:OW(n,FW(t)),offset:OW(n,MW(t)),velocity:jW(t,.1)}}function MW(e){return e[0]}function FW(e){return e[e.length-1]}function jW(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=FW(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>nq(t)));)n--;if(!r)return{x:0,y:0};var a=rq(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function VW(e){return e.max-e.min}function BW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function UW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Bq(t.min,t.max,e.origin),e.scale=VW(n)/VW(t),(BW(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Bq(n.min,n.max,e.origin)-e.originPoint,(BW(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qW(e,t,n,r){UW(e.x,t.x,n.x,r?r.originX:void 0),UW(e.y,t.y,n.y,r?r.originY:void 0)}function zW(e,t,n){e.min=n.min+t.min,e.max=e.min+VW(t)}function WW(e,t,n){e.min=t.min-n.min,e.max=e.min+VW(t)}function HW(e,t,n){WW(e.x,t.x,n.x),WW(e.y,t.y,n.y)}function KW(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function GW(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var QW=.35;function YW(e,t,n){return{min:$W(e,t),max:$W(e,n)}}function $W(e,t){return"number"===typeof e?e:e[t]||0}var XW=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},JW=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function ZW(e){return[e("x"),e("y")]}function eH(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function tH(e){return void 0===e||1===e}function nH(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!tH(t)||!tH(n)||!tH(r)}function rH(e){return nH(e)||iH(e)||e.z||e.rotate||e.rotateX||e.rotateY}function iH(e){return aH(e.x)||aH(e.y)}function aH(e){return e&&"0%"!==e}function oH(e,t,n){return n+t*(e-n)}function sH(e,t,n,r,i){return void 0!==i&&(e=oH(e,i,r)),oH(e,n,r)+t}function uH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=sH(e.min,t,n,r,i),e.max=sH(e.max,t,n,r,i)}function cH(e,t){var n=t.x,r=t.y;uH(e.x,n.translate,n.scale,n.originPoint),uH(e.y,r.translate,r.scale,r.originPoint)}function lH(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fH(e,t){e.min=e.min+t,e.max=e.max+t}function hH(e,t,n){var r=W(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=Bq(e.min,e.max,s);uH(e,t[i],t[a],u,t.scale)}var dH=["x","scaleX","originX"],pH=["y","scaleY","originY"];function vH(e,t){hH(e.x,t,dH),hH(e.y,t,pH)}function mH(e,t){return eH(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var yH=new WeakMap,gH=function(){function e(t){Rt(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=JW(),this.visualElement=t}return Lt(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new DW(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(vU(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=xU(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),ZW((function(e){var n=t.getAxisMotionValue(e).get()||0;if(CB.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=VW(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&RU.update((function(){return o(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&RU.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&wH(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Bq(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Bq(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&FV(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:KW(e.x,r,a),y:KW(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QW;return!1===e?e=0:!0===e&&(e=QW),{x:YW(e,"left","right"),y:YW(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ZW((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!FV(t))return!1;var r=t.current;tq(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=mH(e,n),i=t.scroll;return i&&(fH(r.x,i.offset.x),fH(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:GW(e.x,t.x),y:GW(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=eH(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,c=n.onDragTransitionEnd,l=this.constraints||{},f=ZW((function(n){if(wH(n,r,t.currentDirection)){var c=l&&l[n]||{};s&&(c={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=u(u({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(f).then(c)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(eW(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;ZW((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;ZW((function(n){if(wH(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-Bq(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(FV(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};ZW((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=VW(e),i=VW(t);return i>r?n=oz(t.min,t.max-r,e.min):r>i&&(n=oz(e.min,e.max-i,t.min)),vB(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ZW((function(t){if(wH(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(Bq(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){yH.set(this.visualElement,this);var t=yU(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){FV(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=dU(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(ZW((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,c=void 0!==s&&s,l=e.dragElastic,f=void 0===l?QW:l,h=e.dragMomentum,d=void 0===h||h;return u(u({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:f,dragMomentum:d})}}]),e}();function wH(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var kH=function(e){Cn(n,e);var t=Pn(n);function n(e){var r;return Rt(this,n),(r=t.call(this,e)).removeGroupControls=VU,r.removeListeners=VU,r.controls=new gH(e),r}return Lt(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||VU}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(SU),bH=function(e){return function(t,n){e&&RU.update((function(){return e(t,n)}))}},_H=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).removePointerDownListener=VU,e}return Lt(n,[{key:"onPointerDown",value:function(e){this.session=new DW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:bH(n),onStart:bH(r),onMove:i,onEnd:function(t,n){delete e.session,a&&RU.update((function(){return a(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=yU(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(SU);var xH={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var SH={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!IB.test(e))return e;e=parseFloat(e)}var n=EH(e,t.target.x),r=EH(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},CH={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=ez.parse(e);if(a.length>5)return i;var o=ez.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=c;var l=Bq(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},IH=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=PH,Object.assign(iB,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(u(u({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),xH.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||RU.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(t.Component);function TH(e){var n=function(){var e=(0,t.useContext)(RV);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();return(0,t.useEffect)((function(){return i(a)}),[]),!n&&r?[!1,function(){return r&&r(a)}]:[!0]}(),r=W(n,2),i=r[0],a=r[1],o=(0,t.useContext)($V);return t.createElement(IH,u(u({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(XV),isPresent:i,safeToRemove:a}))}var PH={borderRadius:u(u({},SH),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:SH,borderTopRightRadius:SH,borderBottomLeftRadius:SH,borderBottomRightRadius:SH,boxShadow:CH},NH=["TopLeft","TopRight","BottomLeft","BottomRight"],AH=NH.length,DH=function(e){return"string"===typeof e?parseFloat(e):e},RH=function(e){return"number"===typeof e||IB.test(e)};function OH(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var LH=FH(0,.5,Cq),MH=FH(.5,.95,VU);function FH(e,t,n){return function(r){return r<e?0:r>t?1:n(oz(e,t,r))}}function jH(e,t){e.min=t.min,e.max=t.max}function VH(e,t){jH(e.x,t.x),jH(e.y,t.y)}function BH(e,t,n,r,i){return e=oH(e-=t,1/n,r),void 0!==i&&(e=oH(e,1/i,r)),e}function UH(e,t,n,r,i){var a=W(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(CB.test(t)&&(t=parseFloat(t),t=Bq(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=Bq(a.min,a.max,r);e===a&&(s-=t),e.min=BH(e.min,t,n,s,i),e.max=BH(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var qH=["x","scaleX","originX"],zH=["y","scaleY","originY"];function WH(e,t,n,r){UH(e.x,t,qH,n?n.x:void 0,r?r.x:void 0),UH(e.y,t,zH,n?n.y:void 0,r?r.y:void 0)}function HH(e){return 0===e.translate&&1===e.scale}function KH(e){return HH(e.x)&&HH(e.y)}function GH(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function QH(e){return VW(e.x)/VW(e.y)}var YH=function(){function e(){Rt(this,e),this.members=[]}return Lt(e,[{key:"add",value:function(e){rW(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(iW(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function $H(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var XH=function(e,t){return e.depth-t.depth},JH=function(){function e(){Rt(this,e),this.children=[],this.isDirty=!1}return Lt(e,[{key:"add",value:function(e){rW(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){iW(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(XH),this.isDirty=!1,this.children.forEach(e)}}]),e}();var ZH=["","X","Y","Z"],eK=0,tK={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nK(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();Rt(this,e),this.id=eK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){tK.totalNodes=tK.resolvedTargetDeltas=tK.recalculatedProjection=0,t.nodes.forEach(aK),t.nodes.forEach(hK),t.nodes.forEach(dK),t.nodes.forEach(oK),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(tK)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(Dt(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new JH)}return Lt(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new aW),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,c=a.visualElement;if(c&&!c.current&&c.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||o)&&(this.isLayoutDirty=!0),t){var l,f=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,l&&l(),l=function(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(OU(r),e(a-t))};return RU.read(r,!0),function(){return OU(r)}}(f,250),xH.hasAnimatedSinceResize&&(xH.hasAnimatedSinceResize=!1,n.nodes.forEach(fK))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&c&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||c.getDefaultTransition()||wK,s=c.getProps(),l=s.onLayoutAnimationStart,f=s.onLayoutAnimationComplete,h=!n.targetLayout||!GH(n.targetLayout,a)||i,d=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||d||r&&(h||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,d);var p=u(u({},Zz(o,"layout")),{},{onPlay:l,onComplete:f});(c.shouldReduceMotion||n.options.layoutRoot)&&(p.delay=0,p.type=!1),n.startAnimation(p)}else r||fK(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,OU(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pK),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(uK);this.isUpdating||this.nodes.forEach(cK),this.isUpdating=!1,this.nodes.forEach(lK),this.nodes.forEach(rK),this.nodes.forEach(iK),this.clearAllSnapshots();var e=performance.now();CU.delta=vB(0,1e3/60,e-CU.timestamp),CU.timestamp=e,CU.isProcessing=!0,NU.update.process(CU),NU.preRender.process(CU),NU.render.process(CU),CU.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(sK),this.sharedNodes.forEach(vK)}},{key:"scheduleUpdateProjection",value:function(){RU.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;RU.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=JW(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!KH(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||rH(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),kK((e=r).x),kK(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return JW();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(fH(t.x,n.offset.x),fH(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=JW();VH(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){VH(t,e);var o=this.root.scroll;o&&(fH(t.x,-o.offset.x),fH(t.y,-o.offset.y))}fH(t.x,i.offset.x),fH(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JW();VH(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vH(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),rH(i.latestValues)&&vH(n,i.latestValues)}return rH(this.latestValues)&&vH(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=JW();VH(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&rH(r.latestValues)){nH(r.latestValues)&&r.updateSnapshot();var i=JW();VH(i,r.measurePageBox()),WH(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return rH(this.latestValues)&&WH(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==CU.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=CU.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=JW(),this.relativeTargetOrigin=JW(),HW(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),VH(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=JW(),this.targetWithTransforms=JW()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,zW(u.x,c.x,l.x),zW(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):VH(this.target,this.layout.layoutBox),cH(this.target,this.targetDelta)):VH(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=JW(),this.relativeTargetOrigin=JW(),HW(this.relativeTargetOrigin,this.target,f.target),VH(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tK.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!nH(this.parent.latestValues)&&!iH(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===CU.timestamp&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){VH(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vH(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cH(e,o)),r&&rH(a.latestValues)&&vH(e,a.latestValues))}t.x=lH(t.x),t.y=lH(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=XW(),this.projectionDeltaWithTransform=XW());var l=this.projectionTransform;qW(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=$H(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),tK.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=XW(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=u({},this.latestValues),o=XW();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,c=JW(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),f=this.getStack(),h=!f||f.members.length<=1,d=Boolean(l&&!h&&!0===this.options.crossfade&&!this.path.some(gK));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;mK(o.x,e.x,r),mK(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(HW(c,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){yK(e.x,t.x,n.x,r),yK(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,c,r),s&&GH(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=JW()),VH(s,t.relativeTarget)),l&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=Bq(0,void 0!==n.opacity?n.opacity:1,LH(r)),e.opacityExit=Bq(void 0!==t.opacity?t.opacity:1,0,MH(r))):a&&(e.opacity=Bq(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<AH;o++){var s="border".concat(NH[o],"Radius"),u=OH(t,s),c=OH(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||RH(u)===RH(c)?(e[s]=Math.max(Bq(DH(u),DH(c),r),0),(CB.test(c)||CB.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=Bq(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,d,h)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(OU(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=RU.update((function(){xH.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=uB(e)?e:sW(e);return r.start(eW("",r,t,n)),r.animation}(0,1e3,u(u({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&bK(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||JW();var a=VW(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=VW(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}VH(t,n),vH(t,i),qW(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new YH),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<ZH.length;i++){var a="rotate"+ZH[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=sU(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=sU(n.pointerEvents)||""),this.hasProjected&&!rH(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=$H(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,iB)if(void 0!==s[f]){var h=iB[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?sU(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(uK),this.root.sharedNodes.clear()}}]),e}()}function rK(e){e.updateLayout()}function iK(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?ZW((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=VW(t);t.min=i[e].min,t.max=t.min+r})):bK(o,n.layoutBox,i)&&ZW((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],a=VW(i[t]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=XW();qW(u,i,n.layoutBox);var c=XW();s?qW(c,e.applyTransform(a,!0),n.measuredBox):qW(c,i,n.layoutBox);var l=!KH(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=JW();HW(v,n.layoutBox,d.layoutBox);var m=JW();HW(m,i,p.layoutBox),GH(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var y=e.options.onExitComplete;y&&y()}e.options.transition=void 0}function aK(e){tK.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sK(e){e.clearSnapshot()}function uK(e){e.clearMeasurements()}function cK(e){e.isLayoutDirty=!1}function lK(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fK(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hK(e){e.resolveTargetDelta()}function dK(e){e.calcProjection()}function pK(e){e.resetRotation()}function vK(e){e.removeLeadSnapshot()}function mK(e,t,n){e.translate=Bq(t.translate,0,n),e.scale=Bq(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yK(e,t,n,r){e.min=Bq(t.min,n.min,r),e.max=Bq(t.max,n.max,r)}function gK(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var wK={duration:.45,ease:[.4,0,.1,1]};function kK(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function bK(e,t,n){return"position"===e||"preserve-aspect"===e&&!BW(QH(t),QH(n),.2)}var _K=nK({attachResizeListener:function(e,t){return dU(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),xK={current:void 0},EK=nK({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!xK.current){var e=new _K({});e.mount(window),e.setOptions({layoutScroll:!0}),xK.current=e}return xK.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),SK={pan:{Feature:_H},drag:{Feature:kH,ProjectionNode:EK,MeasureLayout:TH}};var CK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var IK=4;function TK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;tq(n<=IK,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=CK.exec(e);if(!t)return[,];var n=W(t,3);return[n[1],n[2]]}(e),i=W(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():dB(o)?TK(o,t,n+1):o}}function PK(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=u({},n)),e.values.forEach((function(e){var t=e.get();if(dB(t)){var n=TK(t,i);n&&e.set(n)}})),r){var o=r[a];if(dB(o)){var s=TK(o,i);s&&(r[a]=s,n||(n={}),void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var NK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AK=function(e){return NK.has(e)},DK=function(e){return e===mB||e===IB},RK=function(e,t){return parseFloat(e.split(", ")[t])},OK=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return RK(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?RK(o[1],e):0}},LK=new Set(["x","y","z"]),MK=aB.filter((function(e){return!LK.has(e)}));var FK={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:OK(4,13),y:OK(5,14)},jK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=u({},t),r=u({},r);var i=Object.keys(t).filter(AK),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=lW(l),h=t[i];if(iU(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=lW(l);for(var v=p;v<d&&null!==h[v];v++)c?tq(lW(h[v])===c,"All keyframes must be of the same type"):(c=lW(h[v]),tq(c===f||DK(f)&&DK(c),"Keyframes must be of the same dimension as the current value"))}else c=lW(h);if(f!==c)if(DK(f)&&DK(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===IB&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return MK.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var c=s.indexOf("height")>=0?window.pageYOffset:null,l=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=FK[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=FK[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=W(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),OV&&null!==c&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}};function VK(e,t,n,r){return function(e){return Object.keys(e).some(AK)}(t)?jK(e,t,n,r):{target:t,transitionEnd:r}}var BK={current:null},UK={current:!1};var qK=new WeakMap,zK=["willChange"],WK=["children"],HK=Object.keys(GV),KK=HK.length,GK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QK=UV.length,YK=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rt(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return RU.render(n.render,!1,!0)};var f=s.latestValues,h=s.renderState;this.latestValues=f,this.baseTarget=u({},f),this.initialValues=i.initial?u({},f):{},this.renderState=h,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.isControllingVariants=qV(i),this.isVariantNode=zV(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var d=this.scrapeMotionValuesFromProps(i,{}),p=d.willChange,v=l(d,zK);for(var m in v){var y=v[m];void 0!==f[m]&&uB(y)&&(y.set(f[m],!1),tW(p)&&p.add(m))}}return Lt(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,qK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),UK.current||function(){if(UK.current=!0,OV)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return BK.current=e.matches};e.addListener(t),t()}else BK.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||BK.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in qK.delete(this.current),this.projection&&this.projection.unmount(),OU(this.notifyUpdate),OU(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=oB.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&RU.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,a,o=this,s=(e.children,l(e,WK)),u=0;u<KK;u++){var c=HK[u],f=GV[c],h=f.isEnabled,d=f.Feature,p=f.ProjectionNode,v=f.MeasureLayout;p&&(i=p),h(s)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),v&&(a=v))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var m=s.layoutId,y=s.layout,g=s.drag,w=s.dragConstraints,k=s.layoutScroll,b=s.layoutRoot;this.projection.setOptions({layoutId:m,layout:y,alwaysMeasureLayout:Boolean(g)||w&&FV(w),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof y?y:"both",initialPromotionConfig:r,layoutScroll:k,layoutRoot:b})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):JW()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<GK.length;n++){var r=GK[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(uB(a))e.addValue(i,a),tW(r)&&r.add(i);else if(uB(o))e.addValue(i,sW(a,{owner:e})),tW(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,sW(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<QK;n++){var r=UV[n],i=this.props[r];(jV(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=sW(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=rU(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||uB(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new aW),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),$K=["transition","transitionEnd"],XK=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=l(e,$K),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=mW(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(nW(l)||$z(l))?l=parseFloat(l):!hW(l)&&ez.test(c)&&(l=Yz(u,c)),e.addValue(u,sW(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var c=function(e,t,n,r){var i=PK(e,t,r);return VK(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=c.transitionEnd,a=c.target}return u({transition:r,transitionEnd:i},a)}}]),n}(YK);var JK=function(e){Cn(n,e);var t=Pn(n);function n(){return Rt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"readValueFromInstance",value:function(e,t){if(oB.has(t)){var n=Qz(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(hB(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return mH(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){RB(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return tU(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;uB(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){JB(e,t,n,r)}}]),n}(XK),ZK=function(e){Cn(n,e);var t=Pn(n);function n(){var e;return Rt(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return Lt(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(oB.has(t)){var n=Qz(t);return n&&n.default||0}return t=ZB.has(t)?t:XB(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return JW()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return nU(e,t)}},{key:"build",value:function(e,t,n,r){KB(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){eU(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=QB(e.tagName),Sn(En(n.prototype),"mount",this).call(this,e)}}]),n}(XK),eG=function(e,t){return rB(e)?new ZK(t,{enableHardwareAcceleration:!1}):new JK(t,{enableHardwareAcceleration:!0})},tG={layout:{ProjectionNode:EK,MeasureLayout:TH}},nG=u(u(u(u({},NW),$U),SK),tG),rG=tB((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return u(u({},rB(e)?fU:hU),{},{preloadedFeatures:n,useRender:$B(a),createVisualElement:r,Component:e})}(e,t,nG,eG)}));var iG=function(){return(0,d.jsx)(NV,{className:"font",children:(0,d.jsxs)(rV,{sm:"12",className:"justify-content-center text-center",children:[(0,d.jsx)("div",{className:"colorHedar title",children:"Big Big"}),(0,d.jsx)("hr",{className:"afterLine"}),(0,d.jsx)("div",{className:"titleRols",children:(0,d.jsxs)("h2",{children:["The Real Taste of fast food",(0,d.jsx)("br",{}),"& a Unique Adventure Awaits"]})})]})})},aG=function(){return(0,d.jsxs)("div",{className:"contAbout",children:[(0,d.jsxs)("div",{className:"call",children:[(0,d.jsx)("h3",{children:"To communicate"}),(0,d.jsx)("span",{children:"Fone: 01050923293"}),(0,d.jsx)("h3",{children:"Stay Connected"})]}),(0,d.jsxs)("div",{className:"location",children:[(0,d.jsx)("h3",{children:"Location"}),(0,d.jsx)("span",{children:"Egybt , Zayed , th16"}),(0,d.jsx)("span",{children:"Privacy Policy"}),(0,d.jsx)("p",{children:"Let's eat"})]})]})};for(var oG,sG=function(){var e=W((0,t.useState)([]),2),n=e[0],r=e[1];(0,t.useEffect)((function(){!function(){var e=function(){var e=ii(ni().mark((function e(){var t,n,i,a,o;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://food-list-bdb10-default-rtdb.firebaseio.com/.json");case 2:return t=e.sent,e.next=5,t.json();case 5:for(o in n=e.sent,i=u({},n),a=[],i)a.push({key:o,name:i[o].name,price:i[o].price,titel:i[o].titel,catagory:i[o].catagory,img:i[o].img});r(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()}),[]);var i=W((0,t.useState)("All"),2),a=i[0],o=i[1],s=n.filter((function(e){return"mycosis"===a?"mycosis"===e.catagory:"lunch"===a?"lunch"===e.catagory:"desalination"===a?"desalination"===e.catagory:"drinks"===a?"drinks"===e.catagory:e})),c=function(e){o(e.target.value)},l=n.reduce((function(e,t){return e.find((function(e){return e.catagory===t.catagory}))?e:e.concat([t])}),[]),f=W((0,t.useState)(""),2),h=f[0],p=f[1];return(0,d.jsxs)("div",{className:"containarHome",children:[(0,d.jsxs)(EV,{className:"formSearch",onSubmit:function(e){return e.preventDefault()},children:[(0,d.jsx)(EV.Control,{type:"text",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){p(e.target.value)}}),(0,d.jsx)(IV,{variant:"warning",children:"Search"})]}),(0,d.jsxs)(rG.div,{className:"contData",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5,ease:[0,.71,.2,1.01]},children:[(0,d.jsx)(iG,{}),(0,d.jsx)(NV,{className:"font",children:(0,d.jsx)(rV,{sm:"12",className:" justify-content-center",children:(0,d.jsxs)("div",{className:"catBtn",children:[(0,d.jsx)(IV,{className:"font",onClick:c,value:"All",variant:"warning",children:"All"}),l.map((function(e){return(0,d.jsx)(IV,{className:"font",onClick:c,value:e.catagory,variant:"warning",children:e.catagory})}))]})})}),(0,d.jsx)(NV,{className:"contCard",children:s.filter((function(e){return e.name.includes(h)})).map((function(e){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(rG.div,{sm:12,initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"contCol mb-3",children:[(0,d.jsx)("div",{className:"contImg",children:(0,d.jsx)("img",{className:"img",src:e.img,alt:"fdh"})}),(0,d.jsxs)("div",{className:"contTitle",children:[(0,d.jsx)("h3",{className:"text-end",children:e.name}),(0,d.jsxs)("span",{children:[" ",e.titel]}),(0,d.jsxs)("p",{className:"price",children:["\u0627\u0644\u0633\u0639\u0631 : ",e.price]})]})]},e.id)})}))})]}),(0,d.jsx)(aG,{})]})},uG=256,cG=[],lG=256;uG--;)cG[uG]=(uG+256).toString(16).substring(1);var fG=function(){var e=W((0,t.useState)(""),2),n=e[0],r=e[1],i=W((0,t.useState)(""),2),a=i[0],o=i[1],s=W((0,t.useState)(""),2),c=s[0],l=s[1],f=W((0,t.useState)(""),2),h=f[0],p=f[1],v=W((0,t.useState)(""),2),m=v[0],y=v[1],g=W((0,t.useState)([]),2),w=g[0],k=g[1];function _(){var e=function(){var e=ii(ni().mark((function e(){var t,n,r,i,a;return ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://food-list-bdb10-default-rtdb.firebaseio.com/.json");case 2:return t=e.sent,e.next=5,t.json();case 5:for(a in n=e.sent,r=u({},n),i=[],r)i.push({key:a,name:r[a].name,price:r[a].price,titel:r[a].titel,catagory:r[a].catagory,img:r[a].img});k(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}return(0,t.useEffect)((function(){_()}),[]),(0,d.jsxs)(b,{className:"contEdit",children:[(0,d.jsxs)("form",{className:"formData mt-4 p-2",children:[(0,d.jsx)("label",{htmlFor:"name",className:"labData",children:"Item name"}),(0,d.jsx)("input",{type:"text",id:"name",className:"inpData",placeholder:"Item Name ...",onChange:function(e){return r(e.target.value)}}),(0,d.jsx)("label",{htmlFor:"price",className:"labData",children:"Item price"}),(0,d.jsx)("input",{type:"number",id:"price",className:"inpData",placeholder:"Item Price ...",onChange:function(e){return l(e.target.value)}}),(0,d.jsx)("label",{htmlFor:"titel",className:"labData",children:"Item Titel"}),(0,d.jsx)("input",{type:"text",id:"titel",className:"inpData",placeholder:"Item Title ...",onChange:function(e){return o(e.target.value)}}),(0,d.jsx)("label",{htmlFor:"catagory",className:"labData",children:"Item Catagory"}),(0,d.jsxs)("select",{id:"catagory",className:"w-75 ",onChange:function(e){return p(e.target.value)},placeholder:"Add Catagory ...",children:[(0,d.jsx)("option",{value:"Lunch",children:"Lunch"}),(0,d.jsx)("option",{value:"Mycosis",children:"Mycosis"}),(0,d.jsx)("option",{value:"Drinks",children:"Drinks"}),(0,d.jsx)("option",{value:"Sweet",children:"Sweet"})]}),(0,d.jsx)("label",{htmlFor:"img",className:"labData",children:"item image"}),(0,d.jsx)("input",{type:"url",id:"img",className:"inpData",placeholder:"Item Img Url ...",onChange:function(e){return y(e.target.value)}}),(0,d.jsx)(IV,{onClick:function(){Aj().fire({title:"Are you sure?",text:"You won't Add Items",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){if(e.isConfirmed){var t=function(e){var t=0,n=e||11;if(!oG||uG+n>2*lG)for(oG="",uG=0;t<lG;t++)oG+=cG[256*Math.random()|0];return oG.substring(uG,uG+++n)}();bf(yf(mF,"".concat(t)),{name:n,titel:a,price:c,catagory:h,img:m})}return _()}))},variant:"primary",children:"save"})]}),(0,d.jsx)("div",{children:w.map((function(e){return(0,d.jsx)(NV,{children:(0,d.jsxs)(rG.div,{sm:12,className:"Col mb-3",initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.6},children:[(0,d.jsx)("div",{className:"contenarImg",children:(0,d.jsx)("img",{className:"imgCard",src:e.img,alt:"fdh"})}),(0,d.jsxs)("div",{className:"contenartitel",children:[(0,d.jsx)("h3",{children:e.name}),(0,d.jsxs)("soan",{children:[" ",e.titel]}),(0,d.jsxs)("p",{className:"price-S ",children:["\u0627\u0644\u0633\u0639\u0631 : ",e.price]}),(0,d.jsx)(IV,{onClick:function(){return function(e){return Aj().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&kf(yf(mF,"".concat(e)))})),_()}(e.key)},variant:"danger",children:"Delet"})]})]},e.id)})}))})]})};function hG(){return hG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hG.apply(this,arguments)}function dG(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var pG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function vG(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),IF((function(e,t){var n=e.location;return EF("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:SF(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=W(t.useState({action:o.action,location:o.location}),2),u=s[0],c=s[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(Cj,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var mG="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gG=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=dG(e,pG),d=t.useContext(ij).basename,p=!1;if("string"===typeof l&&yG.test(l)&&(r=l,mG))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=qF(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(xG){}var g=function(e,n){var r=(void 0===n?{}:n).relative;uj()||bF(!1);var i=t.useContext(ij),a=i.basename,o=i.navigator,s=hj(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:KF([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),w=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=fj(),l=cj(),f=hj(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:SF(l)===SF(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",hG({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:c}))}));var wG,kG;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(wG||(wG={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(kG||(kG={}));var bG=function(){var e=fj(),n=W((0,t.useState)(""),2),r=n[0],i=n[1],a=W((0,t.useState)(""),2),o=a[0],s=a[1];return(0,d.jsxs)("div",{className:"logBody",children:[(0,d.jsx)("img",{src:"https://i.postimg.cc/brKZX01n/1306497.jpg",alt:""}),(0,d.jsxs)("div",{className:" loginBox",children:[(0,d.jsx)("h2",{children:"Login"}),(0,d.jsxs)("form",{children:[(0,d.jsxs)("div",{className:"userBox",children:[(0,d.jsx)("input",{type:"email",name:"",value:r,onChange:function(e){return i(e.target.value)},required:!0}),(0,d.jsx)("label",{htmlFor:"",children:"Email"})]}),(0,d.jsxs)("div",{className:"userBox",children:[(0,d.jsx)("input",{type:"password",name:"",value:o,onChange:function(e){return s(e.target.value)},required:!0}),(0,d.jsx)("label",{htmlFor:"",children:"Password"})]}),(0,d.jsx)(gG,{className:"btn",id:"aSubmit",onClick:function(t){(function(e,t,n){return mL(ti(e),ZO.credential(t,n))})(yF,r,o).then((function(t){localStorage.setItem("admin",t),window.history.forward(),e("/")})).catch((function(e){return console.log(e)}))},children:"Submit"})]})]})]})};var _G=function(){return(0,d.jsx)("div",{children:(0,d.jsxs)(vG,{children:[(0,d.jsx)(Dj,{}),(0,d.jsx)(Ij,{children:void 0==localStorage.getItem("admin")?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Sj,{exect:!0,path:"/",Component:sG}),(0,d.jsx)(Sj,{path:"/login",Component:bG})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Sj,{exect:!0,path:"/",Component:sG}),(0,d.jsx)(Sj,{path:"/editAdmin",Component:fG})]})})]})})};r.createRoot(document.getElementById("root")).render((0,d.jsx)(t.StrictMode,{children:(0,d.jsx)(_G,{})}))}()}();
//# sourceMappingURL=main.b0fd4320.js.map