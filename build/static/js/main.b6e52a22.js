/*! For license information please see main.b6e52a22.js.LICENSE.txt */
!function(){var e={761:function(e,t,n){"use strict";n.d(t,{fi:function(){return _},kZ:function(){return k}});var r=n(5652),i=n(4801),a=n(3265),o=n(9265);var s=n(3120),u=n(7902),c=n(881),l=n(543),f=n(3676);function h(e,t,n){void 0===n&&(n=!1);var h=(0,o.Re)(t),d=(0,o.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,f.NM)(t.width)/e.offsetWidth||1,r=(0,f.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),p=(0,c.Z)(t),v=(0,r.Z)(e,d,n),m={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(h||!h&&!n)&&(("body"!==(0,s.Z)(t)||(0,l.Z)(p))&&(m=function(e){return e!==(0,a.Z)(e)&&(0,o.Re)(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:(0,i.Z)(e);var t}(t)),(0,o.Re)(t)?((g=(0,r.Z)(t,!0)).x+=t.clientLeft,g.y+=t.clientTop):p&&(g.x=(0,u.Z)(p))),{x:v.left+m.scrollLeft-g.x,y:v.top+m.scrollTop-g.y,width:v.width,height:v.height}}var d=n(9818),p=n(7467),v=n(5411),m=n(2570);function g(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function y(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var w={placement:"bottom",modifiers:[],strategy:"absolute"};function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function k(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?w:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},w,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],u=!1,c={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:(0,o.kK)(e)?(0,p.Z)(e):e.contextElement?(0,p.Z)(e.contextElement):[],popper:(0,p.Z)(t)};var f=function(e){var t=g(e);return m.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=f.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var o=a({state:i,name:t,instance:c,options:r}),u=function(){};s.push(o||u)}})),c.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(b(t,n)){i.rects={reference:h(t,(0,v.Z)(n),"fixed"===i.options.strategy),popper:(0,d.Z)(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,s=a.options,l=void 0===s?{}:s,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:c})||i)}else i.reset=!1,r=-1}}},update:y((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){l(),u=!0}};if(!b(e,t))return c;function l(){s.forEach((function(e){return e()})),s=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var _=k()},1942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9265);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},5652:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9265),i=n(3676),a=n(3265),o=n(8044);function s(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),u=1,c=1;t&&(0,r.Re)(e)&&(u=e.offsetWidth>0&&(0,i.NM)(s.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,i.NM)(s.height)/e.offsetHeight||1);var l=((0,r.kK)(e)?(0,a.Z)(e):window).visualViewport,f=!(0,o.Z)()&&n,h=(s.left+(f&&l?l.offsetLeft:0))/u,d=(s.top+(f&&l?l.offsetTop:0))/c,p=s.width/u,v=s.height/c;return{width:p,height:v,top:d,right:h+p,bottom:d+v,left:h,x:h,y:d}}},7427:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3265);function i(e){return(0,r.Z)(e).getComputedStyle(e)}},881:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9265);function i(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},9818:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5652);function i(e){var t=(0,r.Z)(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}},3120:function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:function(){return r}})},5411:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(3265),i=n(3120),a=n(7427),o=n(9265);function s(e){return["table","td","th"].indexOf((0,i.Z)(e))>=0}var u=n(8779),c=n(3118);function l(e){return(0,o.Re)(e)&&"fixed"!==(0,a.Z)(e).position?e.offsetParent:null}function f(e){for(var t=(0,r.Z)(e),n=l(e);n&&s(n)&&"static"===(0,a.Z)(n).position;)n=l(n);return n&&("html"===(0,i.Z)(n)||"body"===(0,i.Z)(n)&&"static"===(0,a.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,o.Re)(e)&&"fixed"===(0,a.Z)(e).position)return null;var n=(0,u.Z)(e);for((0,o.Zq)(n)&&(n=n.host);(0,o.Re)(n)&&["html","body"].indexOf((0,i.Z)(n))<0;){var r=(0,a.Z)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},8779:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3120),i=n(881),a=n(9265);function o(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,a.Zq)(e)?e.host:null)||(0,i.Z)(e)}},3265:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:function(){return r}})},4801:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3265);function i(e){var t=(0,r.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},7902:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5652),i=n(881),a=n(4801);function o(e){return(0,r.Z)((0,i.Z)(e)).left+(0,a.Z)(e).scrollLeft}},9265:function(e,t,n){"use strict";n.d(t,{Re:function(){return a},Zq:function(){return o},kK:function(){return i}});var r=n(3265);function i(e){return e instanceof(0,r.Z)(e).Element||e instanceof Element}function a(e){return e instanceof(0,r.Z)(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!==typeof ShadowRoot&&(e instanceof(0,r.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8044:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3118);function i(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},543:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7427);function i(e){var t=(0,r.Z)(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}},7467:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(8779),i=n(543),a=n(3120),o=n(9265);function s(e){return["html","body","#document"].indexOf((0,a.Z)(e))>=0?e.ownerDocument.body:(0,o.Re)(e)&&(0,i.Z)(e)?e:s((0,r.Z)(e))}var u=n(3265);function c(e,t){var n;void 0===t&&(t=[]);var a=s(e),o=a===(null==(n=e.ownerDocument)?void 0:n.body),l=(0,u.Z)(a),f=o?[l].concat(l.visualViewport||[],(0,i.Z)(a)?a:[]):a,h=t.concat(f);return o?h:h.concat(c((0,r.Z)(f)))}},2570:function(e,t,n){"use strict";n.d(t,{BL:function(){return c},Ct:function(){return m},DH:function(){return k},F2:function(){return a},I:function(){return i},MS:function(){return C},N7:function(){return g},Pj:function(){return h},XM:function(){return b},YP:function(){return p},bw:function(){return v},cW:function(){return E},d7:function(){return s},ij:function(){return y},iv:function(){return x},k5:function(){return d},mv:function(){return u},r5:function(){return w},t$:function(){return o},ut:function(){return l},wX:function(){return _},we:function(){return r},xs:function(){return S},zV:function(){return f}});var r="top",i="bottom",a="right",o="left",s="auto",u=[r,i,a,o],c="start",l="end",f="clippingParents",h="viewport",d="popper",p="reference",v=u.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),m=[].concat(u,[s]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),g="beforeRead",y="read",w="afterRead",b="beforeMain",k="main",_="afterMain",x="beforeWrite",E="write",C="afterWrite",S=[g,y,w,b,k,_,x,E,C]},2451:function(e,t,n){"use strict";n.r(t),n.d(t,{afterMain:function(){return r.wX},afterRead:function(){return r.r5},afterWrite:function(){return r.MS},applyStyles:function(){return o},arrow:function(){return s.Z},auto:function(){return r.d7},basePlacements:function(){return r.mv},beforeMain:function(){return r.XM},beforeRead:function(){return r.N7},beforeWrite:function(){return r.iv},bottom:function(){return r.I},clippingParents:function(){return r.zV},computeStyles:function(){return u.Z},createPopper:function(){return y},createPopperBase:function(){return v.fi},createPopperLite:function(){return b},detectOverflow:function(){return m.Z},end:function(){return r.ut},eventListeners:function(){return c.Z},flip:function(){return l.Z},hide:function(){return f.Z},left:function(){return r.t$},main:function(){return r.DH},modifierPhases:function(){return r.xs},offset:function(){return h.Z},placements:function(){return r.Ct},popper:function(){return r.k5},popperGenerator:function(){return v.kZ},popperOffsets:function(){return d.Z},preventOverflow:function(){return p.Z},read:function(){return r.ij},reference:function(){return r.YP},right:function(){return r.F2},start:function(){return r.BL},top:function(){return r.we},variationPlacements:function(){return r.bw},viewport:function(){return r.Pj},write:function(){return r.cW}});var r=n(2570),i=n(3120),a=n(9265);var o={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];(0,a.Re)(o)&&(0,i.Z)(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,a.Re)(r)&&(0,i.Z)(r)&&(Object.assign(r.style,s),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},s=n(8702),u=n(9224),c=n(1217),l=n(5468),f=n(1668),h=n(5934),d=n(545),p=n(9790),v=n(761),m=n(9913),g=[c.Z,d.Z,u.Z,o,h.Z,l.Z,p.Z,s.Z,f.Z],y=(0,v.kZ)({defaultModifiers:g}),w=[c.Z,d.Z,u.Z,o],b=(0,v.kZ)({defaultModifiers:w})},8702:function(e,t,n){"use strict";var r=n(5532),i=n(9818),a=n(1942),o=n(5411),s=n(5376),u=n(4666),c=n(1340),l=n(2031),f=n(2570);t.Z={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,h=e.options,d=n.elements.arrow,p=n.modifiersData.popperOffsets,v=(0,r.Z)(n.placement),m=(0,s.Z)(v),g=[f.t$,f.F2].indexOf(v)>=0?"height":"width";if(d&&p){var y=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,c.Z)("number"!==typeof e?e:(0,l.Z)(e,f.mv))}(h.padding,n),w=(0,i.Z)(d),b="y"===m?f.we:f.t$,k="y"===m?f.I:f.F2,_=n.rects.reference[g]+n.rects.reference[m]-p[m]-n.rects.popper[g],x=p[m]-n.rects.reference[m],E=(0,o.Z)(d),C=E?"y"===m?E.clientHeight||0:E.clientWidth||0:0,S=_/2-x/2,T=y[b],I=C-w[g]-y[k],A=C/2-w[g]/2+S,N=(0,u.u)(T,A,I),P=m;n.modifiersData[a]=((t={})[P]=N,t.centerOffset=N-A,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&(0,a.Z)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},9224:function(e,t,n){"use strict";var r=n(2570),i=n(5411),a=n(3265),o=n(881),s=n(7427),u=n(5532),c=n(5227),l=n(3676),f={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h(e){var t,n=e.popper,u=e.popperRect,c=e.placement,h=e.variation,d=e.offsets,p=e.position,v=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,y=e.isFixed,w=d.x,b=void 0===w?0:w,k=d.y,_=void 0===k?0:k,x="function"===typeof g?g({x:b,y:_}):{x:b,y:_};b=x.x,_=x.y;var E=d.hasOwnProperty("x"),C=d.hasOwnProperty("y"),S=r.t$,T=r.we,I=window;if(m){var A=(0,i.Z)(n),N="clientHeight",P="clientWidth";if(A===(0,a.Z)(n)&&(A=(0,o.Z)(n),"static"!==(0,s.Z)(A).position&&"absolute"===p&&(N="scrollHeight",P="scrollWidth")),c===r.we||(c===r.t$||c===r.F2)&&h===r.ut)T=r.I,_-=(y&&A===I&&I.visualViewport?I.visualViewport.height:A[N])-u.height,_*=v?1:-1;if(c===r.t$||(c===r.we||c===r.I)&&h===r.ut)S=r.F2,b-=(y&&A===I&&I.visualViewport?I.visualViewport.width:A[P])-u.width,b*=v?1:-1}var D,O=Object.assign({position:p},m&&f),R=!0===g?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:(0,l.NM)(n*i)/i||0,y:(0,l.NM)(r*i)/i||0}}({x:b,y:_},(0,a.Z)(n)):{x:b,y:_};return b=R.x,_=R.y,v?Object.assign({},O,((D={})[T]=C?"0":"",D[S]=E?"0":"",D.transform=(I.devicePixelRatio||1)<=1?"translate("+b+"px, "+_+"px)":"translate3d("+b+"px, "+_+"px, 0)",D)):Object.assign({},O,((t={})[T]=C?_+"px":"",t[S]=E?b+"px":"",t.transform="",t))}t.Z={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,f={placement:(0,u.Z)(t.placement),variation:(0,c.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,h(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,h(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},1217:function(e,t,n){"use strict";var r=n(3265),i={passive:!0};t.Z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,o=a.scroll,s=void 0===o||o,u=a.resize,c=void 0===u||u,l=(0,r.Z)(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&f.forEach((function(e){e.addEventListener("scroll",n.update,i)})),c&&l.addEventListener("resize",n.update,i),function(){s&&f.forEach((function(e){e.removeEventListener("scroll",n.update,i)})),c&&l.removeEventListener("resize",n.update,i)}},data:{}}},5468:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var a=n(5532),o={start:"end",end:"start"};function s(e){return e.replace(/start|end/g,(function(e){return o[e]}))}var u=n(9913),c=n(5227),l=n(2570);var f={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,f=void 0===o||o,h=n.altAxis,d=void 0===h||h,p=n.fallbackPlacements,v=n.padding,m=n.boundary,g=n.rootBoundary,y=n.altBoundary,w=n.flipVariations,b=void 0===w||w,k=n.allowedAutoPlacements,_=t.options.placement,x=(0,a.Z)(_),E=p||(x===_||!b?[i(_)]:function(e){if((0,a.Z)(e)===l.d7)return[];var t=i(e);return[s(e),t,s(t)]}(_)),C=[_].concat(E).reduce((function(e,n){return e.concat((0,a.Z)(n)===l.d7?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,f=n.flipVariations,h=n.allowedAutoPlacements,d=void 0===h?l.Ct:h,p=(0,c.Z)(r),v=p?f?l.bw:l.bw.filter((function(e){return(0,c.Z)(e)===p})):l.mv,m=v.filter((function(e){return d.indexOf(e)>=0}));0===m.length&&(m=v);var g=m.reduce((function(t,n){return t[n]=(0,u.Z)(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[(0,a.Z)(n)],t}),{});return Object.keys(g).sort((function(e,t){return g[e]-g[t]}))}(t,{placement:n,boundary:m,rootBoundary:g,padding:v,flipVariations:b,allowedAutoPlacements:k}):n)}),[]),S=t.rects.reference,T=t.rects.popper,I=new Map,A=!0,N=C[0],P=0;P<C.length;P++){var D=C[P],O=(0,a.Z)(D),R=(0,c.Z)(D)===l.BL,L=[l.we,l.I].indexOf(O)>=0,M=L?"width":"height",F=(0,u.Z)(t,{placement:D,boundary:m,rootBoundary:g,altBoundary:y,padding:v}),j=L?R?l.F2:l.t$:R?l.I:l.we;S[M]>T[M]&&(j=i(j));var V=i(j),B=[];if(f&&B.push(F[O]<=0),d&&B.push(F[j]<=0,F[V]<=0),B.every((function(e){return e}))){N=D,A=!1;break}I.set(D,B)}if(A)for(var U=function(e){var t=C.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},q=b?3:1;q>0;q--){if("break"===U(q))break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},1668:function(e,t,n){"use strict";var r=n(2570),i=n(9913);function a(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function o(e){return[r.we,r.F2,r.I,r.t$].some((function(t){return e[t]>=0}))}t.Z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,u=t.modifiersData.preventOverflow,c=(0,i.Z)(t,{elementContext:"reference"}),l=(0,i.Z)(t,{altBoundary:!0}),f=a(c,r),h=a(l,s,u),d=o(f),p=o(h);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}}},5934:function(e,t,n){"use strict";var r=n(5532),i=n(2570);t.Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,o=n.offset,s=void 0===o?[0,0]:o,u=i.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var a=(0,r.Z)(e),o=[i.t$,i.we].indexOf(a)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,u=s[0],c=s[1];return u=u||0,c=(c||0)*o,[i.t$,i.F2].indexOf(a)>=0?{x:c,y:u}:{x:u,y:c}}(n,t.rects,s),e}),{}),c=u[t.placement],l=c.x,f=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[a]=u}}},545:function(e,t,n){"use strict";var r=n(6425);t.Z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,r.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},9790:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(2570),i=n(5532),a=n(5376);var o=n(4666),s=n(9818),u=n(5411),c=n(9913),l=n(5227),f=n(9139),h=n(3676);var d={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,d=e.name,p=n.mainAxis,v=void 0===p||p,m=n.altAxis,g=void 0!==m&&m,y=n.boundary,w=n.rootBoundary,b=n.altBoundary,k=n.padding,_=n.tether,x=void 0===_||_,E=n.tetherOffset,C=void 0===E?0:E,S=(0,c.Z)(t,{boundary:y,rootBoundary:w,padding:k,altBoundary:b}),T=(0,i.Z)(t.placement),I=(0,l.Z)(t.placement),A=!I,N=(0,a.Z)(T),P="x"===N?"y":"x",D=t.modifiersData.popperOffsets,O=t.rects.reference,R=t.rects.popper,L="function"===typeof C?C(Object.assign({},t.rects,{placement:t.placement})):C,M="number"===typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(D){if(v){var V,B="y"===N?r.we:r.t$,U="y"===N?r.I:r.F2,q="y"===N?"height":"width",z=D[N],W=z+S[B],H=z-S[U],K=x?-R[q]/2:0,G=I===r.BL?O[q]:R[q],Q=I===r.BL?-R[q]:-O[q],Y=t.elements.arrow,Z=x&&Y?(0,s.Z)(Y):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,f.Z)(),$=X[B],J=X[U],ee=(0,o.u)(0,O[q],Z[q]),te=A?O[q]/2-K-ee-$-M.mainAxis:G-ee-$-M.mainAxis,ne=A?-O[q]/2+K+ee+J+M.mainAxis:Q+ee+J+M.mainAxis,re=t.elements.arrow&&(0,u.Z)(t.elements.arrow),ie=re?"y"===N?re.clientTop||0:re.clientLeft||0:0,ae=null!=(V=null==F?void 0:F[N])?V:0,oe=z+te-ae-ie,se=z+ne-ae,ue=(0,o.u)(x?(0,h.VV)(W,oe):W,z,x?(0,h.Fp)(H,se):H);D[N]=ue,j[N]=ue-z}if(g){var ce,le="x"===N?r.we:r.t$,fe="x"===N?r.I:r.F2,he=D[P],de="y"===P?"height":"width",pe=he+S[le],ve=he-S[fe],me=-1!==[r.we,r.t$].indexOf(T),ge=null!=(ce=null==F?void 0:F[P])?ce:0,ye=me?pe:he-O[de]-R[de]-ge+M.altAxis,we=me?he+O[de]+R[de]-ge-M.altAxis:ve,be=x&&me?(0,o.q)(ye,he,we):(0,o.u)(x?ye:pe,he,x?we:ve);D[P]=be,j[P]=be-he}t.modifiersData[d]=j}},requiresIfExists:["offset"]}},6425:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5532),i=n(5227),a=n(5376),o=n(2570);function s(e){var t,n=e.reference,s=e.element,u=e.placement,c=u?(0,r.Z)(u):null,l=u?(0,i.Z)(u):null,f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2;switch(c){case o.we:t={x:f,y:n.y-s.height};break;case o.I:t={x:f,y:n.y+n.height};break;case o.F2:t={x:n.x+n.width,y:h};break;case o.t$:t={x:n.x-s.width,y:h};break;default:t={x:n.x,y:n.y}}var d=c?(0,a.Z)(c):null;if(null!=d){var p="y"===d?"height":"width";switch(l){case o.BL:t[d]=t[d]-(n[p]/2-s[p]/2);break;case o.ut:t[d]=t[d]+(n[p]/2-s[p]/2)}}return t}},9913:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(2570),i=n(3265),a=n(881),o=n(7902),s=n(8044);var u=n(7427),c=n(4801),l=n(3676);var f=n(7467),h=n(5411),d=n(9265),p=n(5652),v=n(8779),m=n(1942),g=n(3120);function y(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function w(e,t,n){return t===r.Pj?y(function(e,t){var n=(0,i.Z)(e),r=(0,a.Z)(e),u=n.visualViewport,c=r.clientWidth,l=r.clientHeight,f=0,h=0;if(u){c=u.width,l=u.height;var d=(0,s.Z)();(d||!d&&"fixed"===t)&&(f=u.offsetLeft,h=u.offsetTop)}return{width:c,height:l,x:f+(0,o.Z)(e),y:h}}(e,n)):(0,d.kK)(t)?function(e,t){var n=(0,p.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):y(function(e){var t,n=(0,a.Z)(e),r=(0,c.Z)(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=(0,l.Fp)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),f=(0,l.Fp)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+(0,o.Z)(e),d=-r.scrollTop;return"rtl"===(0,u.Z)(i||n).direction&&(h+=(0,l.Fp)(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:f,x:h,y:d}}((0,a.Z)(e)))}function b(e,t,n,r){var i="clippingParents"===t?function(e){var t=(0,f.Z)((0,v.Z)(e)),n=["absolute","fixed"].indexOf((0,u.Z)(e).position)>=0&&(0,d.Re)(e)?(0,h.Z)(e):e;return(0,d.kK)(n)?t.filter((function(e){return(0,d.kK)(e)&&(0,m.Z)(e,n)&&"body"!==(0,g.Z)(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=w(e,n,r);return t.top=(0,l.Fp)(i.top,t.top),t.right=(0,l.VV)(i.right,t.right),t.bottom=(0,l.VV)(i.bottom,t.bottom),t.left=(0,l.Fp)(i.left,t.left),t}),w(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var k=n(6425),_=n(1340),x=n(2031);function E(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,s=n.strategy,u=void 0===s?e.strategy:s,c=n.boundary,l=void 0===c?r.zV:c,f=n.rootBoundary,h=void 0===f?r.Pj:f,v=n.elementContext,m=void 0===v?r.k5:v,g=n.altBoundary,w=void 0!==g&&g,E=n.padding,C=void 0===E?0:E,S=(0,_.Z)("number"!==typeof C?C:(0,x.Z)(C,r.mv)),T=m===r.k5?r.YP:r.k5,I=e.rects.popper,A=e.elements[w?T:m],N=b((0,d.kK)(A)?A:A.contextElement||(0,a.Z)(e.elements.popper),l,h,u),P=(0,p.Z)(e.elements.reference),D=(0,k.Z)({reference:P,element:I,strategy:"absolute",placement:o}),O=y(Object.assign({},I,D)),R=m===r.k5?O:P,L={top:N.top-R.top+S.top,bottom:R.bottom-N.bottom+S.bottom,left:N.left-R.left+S.left,right:R.right-N.right+S.right},M=e.modifiersData.offset;if(m===r.k5&&M){var F=M[o];Object.keys(L).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";L[e]+=F[n]*t}))}return L}},2031:function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:function(){return r}})},5532:function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:function(){return r}})},5376:function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:function(){return r}})},5227:function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,{Z:function(){return r}})},3676:function(e,t,n){"use strict";n.d(t,{Fp:function(){return r},NM:function(){return a},VV:function(){return i}});var r=Math.max,i=Math.min,a=Math.round},1340:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9139);function i(e){return Object.assign({},(0,r.Z)(),e)}},3118:function(e,t,n){"use strict";function r(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:function(){return r}})},4666:function(e,t,n){"use strict";n.d(t,{q:function(){return a},u:function(){return i}});var r=n(3676);function i(e,t,n){return(0,r.Fp)(e,(0,r.VV)(t,n))}function a(e,t,n){var r=i(e,t,n);return r>n?n:r}},613:function(e,t,n){var r=n(1588).default,i=n(3808).default,a=n(6115).default,o=n(1655).default,s=n(6389).default,u=n(2122).default,c=n(6690).default,l=n(9728).default,f=n(4704).default,h=n(7424).default,d=n(861).default,p=n(8416).default;e.exports=function(e){"use strict";function t(e){var t=Object.create(null,p({},Symbol.toStringTag,{value:"Module"}));if(e){var n=function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}};for(var r in e)n(r)}return t.default=e,Object.freeze(t)}var n=t(e),v=new Map,m={set:function(e,t,n){v.has(e)||v.set(e,new Map);var r=v.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:function(e,t){return v.has(e)&&v.get(e).get(t)||null},remove:function(e,t){if(v.has(e)){var n=v.get(e);n.delete(t),0===n.size&&v.delete(e)}}},g="transitionend",y=function(e){return e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(function(e,t){return"#".concat(CSS.escape(t))}))),e},w=function(e){e.dispatchEvent(new Event(g))},b=function(e){return!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType)},k=function(e){return b(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(y(e)):null},_=function(e){if(!b(e)||0===e.getClientRects().length)return!1;var t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){var r=e.closest("summary");if(r&&r.parentNode!==n)return!1;if(null===r)return!1}return t},x=function(e){return!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))},E=function e(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}return t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null},C=function(){},S=function(e){e.offsetHeight},T=function(){return window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null},I=[],A=function(){return"rtl"===document.documentElement.dir},N=function(e){var t;t=function(){var t=T();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(I.length||document.addEventListener("DOMContentLoaded",(function(){for(var e=0,t=I;e<t.length;e++)(0,t[e])()})),I.push(t)):t()},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"==typeof e?e.apply(void 0,d(t)):n},D=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])P(e);else{var n=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0}(t)+5,r=!1,i=function n(i){i.target===t&&(r=!0,t.removeEventListener(g,n),P(e))};t.addEventListener(g,i),setTimeout((function(){r||w(t)}),n)}},O=function(e,t,n,r){var i=e.length,a=e.indexOf(t);return-1===a?!n&&r?e[i-1]:e[0]:(a+=n?1:-1,r&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},R=/[^.]*(?=\..*)\.|.*/,L=/\..*/,M=/::\d+$/,F={},j=1,V={mouseenter:"mouseover",mouseleave:"mouseout"},B=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function U(e,t){return t&&"".concat(t,"::").concat(j++)||e.uidEvent||j++}function q(e){var t=U(e);return e.uidEvent=t,F[t]=F[t]||{},F[t]}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((function(e){return e.callable===t&&e.delegationSelector===n}))}function W(e,t,n){var r="string"==typeof t,i=r?n:t||n,a=Q(e);return B.has(a)||(a=e),[r,i,a]}function H(e,t,n,r,i){if("string"==typeof t&&e){var a=W(t,n,r),o=h(a,3),s=o[0],u=o[1],c=o[2];if(t in V){var l=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}};u=l(u)}var d=q(e),p=d[c]||(d[c]={}),v=z(p,u,s?n:null);if(v)v.oneOff=v.oneOff&&i;else{var m=U(u,t.replace(R,"")),g=s?function(e,t,n){return function r(i){for(var a=e.querySelectorAll(t),o=i.target;o&&o!==this;o=o.parentNode){var s,u=f(a);try{for(u.s();!(s=u.n()).done;)if(s.value===o)return Z(i,{delegateTarget:o}),r.oneOff&&Y.off(e,i.type,t,n),n.apply(o,[i])}catch(c){u.e(c)}finally{u.f()}}}}(e,n,u):function(e,t){return function n(r){return Z(r,{delegateTarget:e}),n.oneOff&&Y.off(e,r.type,t),t.apply(e,[r])}}(e,u);g.delegationSelector=s?n:null,g.callable=u,g.oneOff=i,g.uidEvent=m,p[m]=g,e.addEventListener(c,g,s)}}}function K(e,t,n,r,i){var a=z(t[n],r,i);a&&(e.removeEventListener(n,a,Boolean(i)),delete t[n][a.uidEvent])}function G(e,t,n,r){for(var i=t[n]||{},a=0,o=Object.entries(i);a<o.length;a++){var s=h(o[a],2),u=s[0],c=s[1];u.includes(r)&&K(e,t,n,c.callable,c.delegationSelector)}}function Q(e){return e=e.replace(L,""),V[e]||e}var Y={on:function(e,t,n,r){H(e,t,n,r,!1)},one:function(e,t,n,r){H(e,t,n,r,!0)},off:function(e,t,n,r){if("string"==typeof t&&e){var i=W(t,n,r),a=h(i,3),o=a[0],s=a[1],u=a[2],c=u!==t,l=q(e),f=l[u]||{},d=t.startsWith(".");if(void 0===s){if(d)for(var p=0,v=Object.keys(l);p<v.length;p++)G(e,l,v[p],t.slice(1));for(var m=0,g=Object.entries(f);m<g.length;m++){var y=h(g[m],2),w=y[0],b=y[1],k=w.replace(M,"");c&&!t.includes(k)||K(e,l,u,b.callable,b.delegationSelector)}}else{if(!Object.keys(f).length)return;K(e,l,u,s,o?n:null)}}},trigger:function(e,t,n){if("string"!=typeof t||!e)return null;var r=T(),i=null,a=!0,o=!0,s=!1;t!==Q(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),a=!i.isPropagationStopped(),o=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());var u=Z(new Event(t,{bubbles:a,cancelable:!0}),n);return s&&u.preventDefault(),o&&e.dispatchEvent(u),u.defaultPrevented&&i&&i.preventDefault(),u}};function Z(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var n=h(i[r],2),a=n[0],o=n[1];try{e[a]=o}catch(t){Object.defineProperty(e,a,{configurable:!0,get:function(){return o}})}},r=0,i=Object.entries(t);r<i.length;r++)n();return e}function X(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function $(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var J={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat($(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat($(t)))},getDataAttributes:function(e){if(!e)return{};var t,n={},r=Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")&&!e.startsWith("bsConfig")})),i=f(r);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.replace(/^bs/,"");n[o=o.charAt(0).toLowerCase()+o.slice(1,o.length)]=X(e.dataset[a])}}catch(s){i.e(s)}finally{i.f()}return n},getDataAttribute:function(e,t){return X(e.getAttribute("data-bs-".concat($(t))))}},ee=function(){function e(){c(this,e)}return l(e,[{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e}},{key:"_mergeConfigObj",value:function(e,t){var n=b(t)?J.getDataAttribute(t,"config"):{};return u(u(u(u({},this.constructor.Default),"object"==typeof n?n:{}),b(t)?J.getDataAttributes(t):{}),"object"==typeof e?e:{})}},{key:"_typeCheckConfig",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType,r=0,i=Object.entries(n);r<i.length;r++){var a=h(i[r],2),o=a[0],s=a[1],u=e[o],c=b(u)?"element":null==(t=u)?"".concat(t):Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(c))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(o,'" provided type "').concat(c,'" but expected type "').concat(s,'".'))}}}],[{key:"Default",get:function(){return{}}},{key:"DefaultType",get:function(){return{}}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}}]),e}(),te=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),i=t.call(this),(e=k(e))&&(i._element=e,i._config=i._getConfig(r),m.set(i._element,i.constructor.DATA_KEY,a(i))),i}return l(n,[{key:"dispose",value:function(){m.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);var e,t=f(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;)this[e.value]=null}catch(n){t.e(n)}finally{t.f()}}},{key:"_queueCallback",value:function(e,t){D(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}},{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}}],[{key:"getInstance",value:function(e){return m.get(k(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}},{key:"VERSION",get:function(){return"5.3.0"}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}},{key:"eventName",value:function(e){return"".concat(e).concat(this.EVENT_KEY)}}]),n}(ee),ne=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){var n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return y(t)},re={find:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(t=[]).concat.apply(t,d(Element.prototype.querySelectorAll.call(n,e)))},findOne:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:function(e,t){var n;return(n=[]).concat.apply(n,d(e.children)).filter((function(e){return e.matches(t)}))},parents:function(e,t){for(var n=[],r=e.parentNode.closest(t);r;)n.push(r),r=r.parentNode.closest(t);return n},prev:function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next:function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(e){var t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(e){return"".concat(e,':not([tabindex^="-"])')})).join(",");return this.find(t,e).filter((function(e){return!x(e)&&_(e)}))},getSelectorFromElement:function(e){var t=ne(e);return t&&re.findOne(t)?t:null},getElementFromSelector:function(e){var t=ne(e);return t?re.findOne(t):null},getMultipleElementsFromSelector:function(e){var t=ne(e);return t?re.find(t):[]}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(e.EVENT_KEY),r=e.NAME;Y.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!x(this)){var i=re.getElementFromSelector(this)||this.closest(".".concat(r));e.getOrCreateInstance(i)[t]()}}))},ae=function(e){o(n,e);var t=s(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"close",value:function(){var e=this;if(!Y.trigger(this._element,"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback((function(){return e._destroyElement()}),this._element,t)}}},{key:"_destroyElement",value:function(){this._element.remove(),Y.trigger(this._element,"closed.bs.alert"),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(te);ie(ae,"close"),N(ae);var oe='[data-bs-toggle="button"]',se=function(e){o(n,e);var t=s(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(te);Y.on(document,"click.bs.button.data-api",oe,(function(e){e.preventDefault();var t=e.target.closest(oe);se.getOrCreateInstance(t).toggle()})),N(se);var ue={endCallback:null,leftCallback:null,rightCallback:null},ce={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},le=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this))._element=e,e&&n.isSupported()&&(i._config=i._getConfig(r),i._deltaX=0,i._supportPointerEvents=Boolean(window.PointerEvent),i._initEvents()),i}return l(n,[{key:"dispose",value:function(){Y.off(this._element,".bs.swipe")}},{key:"_start",value:function(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}},{key:"_end",value:function(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),P(this._config.endCallback)}},{key:"_move",value:function(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}},{key:"_handleSwipe",value:function(){var e=Math.abs(this._deltaX);if(!(e<=40)){var t=e/this._deltaX;this._deltaX=0,t&&P(t>0?this._config.rightCallback:this._config.leftCallback)}}},{key:"_initEvents",value:function(){var e=this;this._supportPointerEvents?(Y.on(this._element,"pointerdown.bs.swipe",(function(t){return e._start(t)})),Y.on(this._element,"pointerup.bs.swipe",(function(t){return e._end(t)})),this._element.classList.add("pointer-event")):(Y.on(this._element,"touchstart.bs.swipe",(function(t){return e._start(t)})),Y.on(this._element,"touchmove.bs.swipe",(function(t){return e._move(t)})),Y.on(this._element,"touchend.bs.swipe",(function(t){return e._end(t)})))}},{key:"_eventIsPointerPenTouch",value:function(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}}],[{key:"Default",get:function(){return ue}},{key:"DefaultType",get:function(){return ce}},{key:"NAME",get:function(){return"swipe"}},{key:"isSupported",value:function(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}]),n}(ee),fe="next",he="prev",de="left",pe="right",ve="slid.bs.carousel",me="carousel",ge="active",ye={ArrowLeft:pe,ArrowRight:de},we={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},be={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},ke=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._interval=null,i._activeElement=null,i._isSliding=!1,i.touchTimeout=null,i._swipeHelper=null,i._indicatorsElement=re.findOne(".carousel-indicators",i._element),i._addEventListeners(),i._config.ride===me&&i.cycle(),i}return l(n,[{key:"next",value:function(){this._slide(fe)}},{key:"nextWhenVisible",value:function(){!document.hidden&&_(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(he)}},{key:"pause",value:function(){this._isSliding&&w(this._element),this._clearInterval()}},{key:"cycle",value:function(){var e=this;this._clearInterval(),this._updateInterval(),this._interval=setInterval((function(){return e.nextWhenVisible()}),this._config.interval)}},{key:"_maybeEnableCycle",value:function(){var e=this;this._config.ride&&(this._isSliding?Y.one(this._element,ve,(function(){return e.cycle()})):this.cycle())}},{key:"to",value:function(e){var t=this,n=this._getItems();if(!(e>n.length-1||e<0))if(this._isSliding)Y.one(this._element,ve,(function(){return t.to(e)}));else{var r=this._getItemIndex(this._getActive());if(r!==e){var i=e>r?fe:he;this._slide(i,n[e])}}}},{key:"dispose",value:function(){this._swipeHelper&&this._swipeHelper.dispose(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.defaultInterval=e.interval,e}},{key:"_addEventListeners",value:function(){var e=this;this._config.keyboard&&Y.on(this._element,"keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(Y.on(this._element,"mouseenter.bs.carousel",(function(){return e.pause()})),Y.on(this._element,"mouseleave.bs.carousel",(function(){return e._maybeEnableCycle()}))),this._config.touch&&le.isSupported()&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var e,t=this,n=f(re.find(".carousel-item img",this._element));try{for(n.s();!(e=n.n()).done;){var r=e.value;Y.on(r,"dragstart.bs.carousel",(function(e){return e.preventDefault()}))}}catch(a){n.e(a)}finally{n.f()}var i={leftCallback:function(){return t._slide(t._directionToOrder(de))},rightCallback:function(){return t._slide(t._directionToOrder(pe))},endCallback:function(){"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(){return t._maybeEnableCycle()}),500+t._config.interval))}};this._swipeHelper=new le(this._element,i)}},{key:"_keydown",value:function(e){if(!/input|textarea/i.test(e.target.tagName)){var t=ye[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}}},{key:"_getItemIndex",value:function(e){return this._getItems().indexOf(e)}},{key:"_setActiveIndicatorElement",value:function(e){if(this._indicatorsElement){var t=re.findOne(".active",this._indicatorsElement);t.classList.remove(ge),t.removeAttribute("aria-current");var n=re.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);n&&(n.classList.add(ge),n.setAttribute("aria-current","true"))}}},{key:"_updateInterval",value:function(){var e=this._activeElement||this._getActive();if(e){var t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}}},{key:"_slide",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this._isSliding){var r=this._getActive(),i=e===fe,a=n||O(this._getItems(),r,i,this._config.wrap);if(a!==r){var o=this._getItemIndex(a),s=function(n){return Y.trigger(t._element,n,{relatedTarget:a,direction:t._orderToDirection(e),from:t._getItemIndex(r),to:o})};if(!s("slide.bs.carousel").defaultPrevented&&r&&a){var u=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=a;var c=i?"carousel-item-start":"carousel-item-end",l=i?"carousel-item-next":"carousel-item-prev";a.classList.add(l),S(a),r.classList.add(c),a.classList.add(c),this._queueCallback((function(){a.classList.remove(c,l),a.classList.add(ge),r.classList.remove(ge,l,c),t._isSliding=!1,s(ve)}),r,this._isAnimated()),u&&this.cycle()}}}}},{key:"_isAnimated",value:function(){return this._element.classList.contains("slide")}},{key:"_getActive",value:function(){return re.findOne(".active.carousel-item",this._element)}},{key:"_getItems",value:function(){return re.find(".carousel-item",this._element)}},{key:"_clearInterval",value:function(){this._interval&&(clearInterval(this._interval),this._interval=null)}},{key:"_directionToOrder",value:function(e){return A()?e===de?he:fe:e===de?fe:he}},{key:"_orderToDirection",value:function(e){return A()?e===he?de:pe:e===he?pe:de}}],[{key:"Default",get:function(){return we}},{key:"DefaultType",get:function(){return be}},{key:"NAME",get:function(){return"carousel"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}else t.to(e)}))}}]),n}(te);Y.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(e){var t=re.getElementFromSelector(this);if(t&&t.classList.contains(me)){e.preventDefault();var n=ke.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===J.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}})),Y.on(window,"load.bs.carousel.data-api",(function(){var e,t=re.find('[data-bs-ride="carousel"]'),n=f(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;ke.getOrCreateInstance(r)}}catch(i){n.e(i)}finally{n.f()}})),N(ke);var _e="show",xe="collapse",Ee="collapsing",Ce='[data-bs-toggle="collapse"]',Se={parent:null,toggle:!0},Te={parent:"(null|element)",toggle:"boolean"},Ie=function(e){o(n,e);var t=s(n);function n(e,r){var i;c(this,n),(i=t.call(this,e,r))._isTransitioning=!1,i._triggerArray=[];var a,o=re.find(Ce),s=f(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=re.getSelectorFromElement(u),h=re.find(l).filter((function(e){return e===i._element}));null!==l&&h.length&&i._triggerArray.push(u)}}catch(d){s.e(d)}finally{s.f()}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return l(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this._isTransitioning&&!this._isShown()){var t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((function(t){return t!==e._element})).map((function(e){return n.getOrCreateInstance(e,{toggle:!1})}))),(!t.length||!t[0]._isTransitioning)&&!Y.trigger(this._element,"show.bs.collapse").defaultPrevented){var r,i=f(t);try{for(i.s();!(r=i.n()).done;)r.value.hide()}catch(s){i.e(s)}finally{i.f()}var a=this._getDimension();this._element.classList.remove(xe),this._element.classList.add(Ee),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var o="scroll".concat(a[0].toUpperCase()+a.slice(1));this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(Ee),e._element.classList.add(xe,_e),e._element.style[a]="",Y.trigger(e._element,"shown.bs.collapse")}),this._element,!0),this._element.style[a]="".concat(this._element[o],"px")}}}},{key:"hide",value:function(){var e=this;if(!this._isTransitioning&&this._isShown()&&!Y.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=this._getDimension();this._element.style[t]="".concat(this._element.getBoundingClientRect()[t],"px"),S(this._element),this._element.classList.add(Ee),this._element.classList.remove(xe,_e);var n,r=f(this._triggerArray);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=re.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}}catch(o){r.e(o)}finally{r.f()}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((function(){e._isTransitioning=!1,e._element.classList.remove(Ee),e._element.classList.add(xe),Y.trigger(e._element,"hidden.bs.collapse")}),this._element,!0)}}},{key:"_isShown",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(_e)}},{key:"_configAfterMerge",value:function(e){return e.toggle=Boolean(e.toggle),e.parent=k(e.parent),e}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){if(this._config.parent){var e,t=this._getFirstLevelChildren(Ce),n=f(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=re.getElementFromSelector(r);i&&this._addAriaAndCollapsedClass([r],this._isShown(i))}}catch(a){n.e(a)}finally{n.f()}}}},{key:"_getFirstLevelChildren",value:function(e){var t=re.find(":scope .collapse .collapse",this._config.parent);return re.find(e,this._config.parent).filter((function(e){return!t.includes(e)}))}},{key:"_addAriaAndCollapsedClass",value:function(e,t){if(e.length){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}}catch(a){r.e(a)}finally{r.f()}}}}],[{key:"Default",get:function(){return Se}},{key:"DefaultType",get:function(){return Te}},{key:"NAME",get:function(){return"collapse"}},{key:"jQueryInterface",value:function(e){var t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){var r=n.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e]()}}))}}]),n}(te);Y.on(document,"click.bs.collapse.data-api",Ce,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var t,n=f(re.getMultipleElementsFromSelector(this));try{for(n.s();!(t=n.n()).done;){var r=t.value;Ie.getOrCreateInstance(r,{toggle:!1}).toggle()}}catch(i){n.e(i)}finally{n.f()}})),N(Ie);var Ae="dropdown",Ne="ArrowUp",Pe="ArrowDown",De="click.bs.dropdown.data-api",Oe="keydown.bs.dropdown.data-api",Re="show",Le='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Me="".concat(Le,".show"),Fe=".dropdown-menu",je=A()?"top-end":"top-start",Ve=A()?"top-start":"top-end",Be=A()?"bottom-end":"bottom-start",Ue=A()?"bottom-start":"bottom-end",qe=A()?"left-start":"right-start",ze=A()?"right-start":"left-start",We={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},He={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Ke=function(e){o(a,e);var t=s(a);function a(e,n){var r;return c(this,a),(r=t.call(this,e,n))._popper=null,r._parent=r._element.parentNode,r._menu=re.next(r._element,Fe)[0]||re.prev(r._element,Fe)[0]||re.findOne(Fe,r._parent),r._inNavbar=r._detectNavbar(),r}return l(a,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!x(this._element)&&!this._isShown()){var e={relatedTarget:this._element};if(!Y.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav")){var t,n,r=f((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Y.on(i,"mouseover",C)}}catch(a){r.e(a)}finally{r.f()}}this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Re),this._element.classList.add(Re),Y.trigger(this._element,"shown.bs.dropdown",e)}}}},{key:"hide",value:function(){if(!x(this._element)&&this._isShown()){var e={relatedTarget:this._element};this._completeHide(e)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),r(i(a.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(e){if(!Y.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement){var t,n,r=f((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Y.off(i,"mouseover",C)}}catch(a){r.e(a)}finally{r.f()}}this._popper&&this._popper.destroy(),this._menu.classList.remove(Re),this._element.classList.remove(Re),this._element.setAttribute("aria-expanded","false"),J.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,"hidden.bs.dropdown",e)}}},{key:"_getConfig",value:function(e){if("object"==typeof(e=r(i(a.prototype),"_getConfig",this).call(this,e)).reference&&!b(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(Ae.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}},{key:"_createPopper",value:function(){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var e=this._element;"parent"===this._config.reference?e=this._parent:b(this._config.reference)?e=k(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);var t=this._getPopperConfig();this._popper=n.createPopper(e,this._menu,t)}},{key:"_isShown",value:function(){return this._menu.classList.contains(Re)}},{key:"_getPlacement",value:function(){var e=this._parent;if(e.classList.contains("dropend"))return qe;if(e.classList.contains("dropstart"))return ze;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";var t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Ve:je:t?Ue:Be}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".navbar")}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_getPopperConfig",value:function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(J.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),u(u({},e),P(this._config.popperConfig,[e]))}},{key:"_selectMenuItem",value:function(e){var t=e.key,n=e.target,r=re.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((function(e){return _(e)}));r.length&&O(r,n,t===Pe,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return We}},{key:"DefaultType",get:function(){return He}},{key:"NAME",get:function(){return Ae}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=a.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}},{key:"clearMenus",value:function(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key)){var t,n=re.find(Me),r=f(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=a.getInstance(i);if(o&&!1!==o._config.autoClose){var s=e.composedPath(),u=s.includes(o._menu);if(!(s.includes(o._element)||"inside"===o._config.autoClose&&!u||"outside"===o._config.autoClose&&u)&&(!o._menu.contains(e.target)||!("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))){var c={relatedTarget:o._element};"click"===e.type&&(c.clickEvent=e),o._completeHide(c)}}}}catch(l){r.e(l)}finally{r.f()}}}},{key:"dataApiKeydownHandler",value:function(e){var t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=[Ne,Pe].includes(e.key);if((r||n)&&(!t||n)){e.preventDefault();var i=this.matches(Le)?this:re.prev(this,Le)[0]||re.next(this,Le)[0]||re.findOne(Le,e.delegateTarget.parentNode),o=a.getOrCreateInstance(i);if(r)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}}]),a}(te);Y.on(document,Oe,Le,Ke.dataApiKeydownHandler),Y.on(document,Oe,Fe,Ke.dataApiKeydownHandler),Y.on(document,De,Ke.clearMenus),Y.on(document,"keyup.bs.dropdown.data-api",Ke.clearMenus),Y.on(document,De,Le,(function(e){e.preventDefault(),Ke.getOrCreateInstance(this).toggle()})),N(Ke);var Ge="show",Qe="mousedown.bs.backdrop",Ye={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ze={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Xe=function(e){o(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this))._config=r._getConfig(e),r._isAppended=!1,r._element=null,r}return l(n,[{key:"show",value:function(e){if(this._config.isVisible){this._append();var t=this._getElement();this._config.isAnimated&&S(t),t.classList.add(Ge),this._emulateAnimation((function(){P(e)}))}else P(e)}},{key:"hide",value:function(e){var t=this;this._config.isVisible?(this._getElement().classList.remove(Ge),this._emulateAnimation((function(){t.dispose(),P(e)}))):P(e)}},{key:"dispose",value:function(){this._isAppended&&(Y.off(this._element,Qe),this._element.remove(),this._isAppended=!1)}},{key:"_getElement",value:function(){if(!this._element){var e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}},{key:"_configAfterMerge",value:function(e){return e.rootElement=k(e.rootElement),e}},{key:"_append",value:function(){var e=this;if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t),Y.on(t,Qe,(function(){P(e._config.clickCallback)})),this._isAppended=!0}}},{key:"_emulateAnimation",value:function(e){D(e,this._getElement(),this._config.isAnimated)}}],[{key:"Default",get:function(){return Ye}},{key:"DefaultType",get:function(){return Ze}},{key:"NAME",get:function(){return"backdrop"}}]),n}(ee),$e=".bs.focustrap",Je="backward",et={autofocus:!0,trapElement:null},tt={autofocus:"boolean",trapElement:"element"},nt=function(e){o(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this))._config=r._getConfig(e),r._isActive=!1,r._lastTabNavDirection=null,r}return l(n,[{key:"activate",value:function(){var e=this;this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,$e),Y.on(document,"focusin.bs.focustrap",(function(t){return e._handleFocusin(t)})),Y.on(document,"keydown.tab.bs.focustrap",(function(t){return e._handleKeydown(t)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,Y.off(document,$e))}},{key:"_handleFocusin",value:function(e){var t=this._config.trapElement;if(e.target!==document&&e.target!==t&&!t.contains(e.target)){var n=re.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Je?n[n.length-1].focus():n[0].focus()}}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Je:"forward")}}],[{key:"Default",get:function(){return et}},{key:"DefaultType",get:function(){return tt}},{key:"NAME",get:function(){return"focustrap"}}]),n}(ee),rt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",it=".sticky-top",at="padding-right",ot="margin-right",st=function(){function e(){c(this,e),this._element=document.body}return l(e,[{key:"getWidth",value:function(){var e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}},{key:"hide",value:function(){var e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,at,(function(t){return t+e})),this._setElementAttributes(rt,at,(function(t){return t+e})),this._setElementAttributes(it,ot,(function(t){return t-e}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,at),this._resetElementAttributes(rt,at),this._resetElementAttributes(it,ot)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(e,t,n){var r=this,i=this.getWidth();this._applyManipulationCallback(e,(function(e){if(!(e!==r._element&&window.innerWidth>e.clientWidth+i)){r._saveInitialAttribute(e,t);var a=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(n(Number.parseFloat(a)),"px"))}}))}},{key:"_saveInitialAttribute",value:function(e,t){var n=e.style.getPropertyValue(t);n&&J.setDataAttribute(e,t,n)}},{key:"_resetElementAttributes",value:function(e,t){this._applyManipulationCallback(e,(function(e){var n=J.getDataAttribute(e,t);null!==n?(J.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}},{key:"_applyManipulationCallback",value:function(e,t){if(b(e))t(e);else{var n,r=f(re.find(e,this._element));try{for(r.s();!(n=r.n()).done;)t(n.value)}catch(i){r.e(i)}finally{r.f()}}}}]),e}(),ut=".bs.modal",ct="hidden.bs.modal",lt="show.bs.modal",ft="modal-open",ht="show",dt="modal-static",pt={backdrop:!0,focus:!0,keyboard:!0},vt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},mt=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._dialog=re.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._isTransitioning=!1,i._scrollBar=new st,i._addEventListeners(),i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||this._isTransitioning||Y.trigger(this._element,lt,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ft),this._adjustDialog(),this._backdrop.show((function(){return t._showElement(e)})))}},{key:"hide",value:function(){var e=this;this._isShown&&!this._isTransitioning&&(Y.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ht),this._queueCallback((function(){return e._hideModal()}),this._element,this._isAnimated())))}},{key:"dispose",value:function(){Y.off(window,ut),Y.off(this._dialog,ut),this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Xe({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new nt({trapElement:this._element})}},{key:"_showElement",value:function(e){var t=this;document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;var n=re.findOne(".modal-body",this._dialog);n&&(n.scrollTop=0),S(this._element),this._element.classList.add(ht),this._queueCallback((function(){t._config.focus&&t._focustrap.activate(),t._isTransitioning=!1,Y.trigger(t._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,this._isAnimated())}},{key:"_addEventListeners",value:function(){var e=this;Y.on(this._element,"keydown.dismiss.bs.modal",(function(t){"Escape"===t.key&&(e._config.keyboard?e.hide():e._triggerBackdropTransition())})),Y.on(window,"resize.bs.modal",(function(){e._isShown&&!e._isTransitioning&&e._adjustDialog()})),Y.on(this._element,"mousedown.dismiss.bs.modal",(function(t){Y.one(e._element,"click.dismiss.bs.modal",(function(n){e._element===t.target&&e._element===n.target&&("static"!==e._config.backdrop?e._config.backdrop&&e.hide():e._triggerBackdropTransition())}))}))}},{key:"_hideModal",value:function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(ft),e._resetAdjustments(),e._scrollBar.reset(),Y.trigger(e._element,ct)}))}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var e=this;if(!Y.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(dt)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(dt),this._queueCallback((function(){e._element.classList.remove(dt),e._queueCallback((function(){e._element.style.overflowY=n}),e._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){var r=A()?"paddingLeft":"paddingRight";this._element.style[r]="".concat(t,"px")}if(!n&&e){var i=A()?"paddingRight":"paddingLeft";this._element.style[i]="".concat(t,"px")}}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return pt}},{key:"DefaultType",get:function(){return vt}},{key:"NAME",get:function(){return"modal"}},{key:"jQueryInterface",value:function(e,t){return this.each((function(){var r=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'.concat(e,'"'));r[e](t)}}))}}]),n}(te);Y.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){var t=this,n=re.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Y.one(n,lt,(function(e){e.defaultPrevented||Y.one(n,ct,(function(){_(t)&&t.focus()}))}));var r=re.findOne(".modal.show");r&&mt.getInstance(r).hide(),mt.getOrCreateInstance(n).toggle(this)})),ie(mt),N(mt);var gt="show",yt="showing",wt="hiding",bt=".offcanvas.show",kt="hidePrevented.bs.offcanvas",_t="hidden.bs.offcanvas",xt={backdrop:!0,keyboard:!0,scroll:!1},Et={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Ct=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return l(n,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(e){var t=this;this._isShown||Y.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new st).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yt),this._queueCallback((function(){t._config.scroll&&!t._config.backdrop||t._focustrap.activate(),t._element.classList.add(gt),t._element.classList.remove(yt),Y.trigger(t._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}},{key:"hide",value:function(){var e=this;this._isShown&&(Y.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wt),this._backdrop.hide(),this._queueCallback((function(){e._element.classList.remove(gt,wt),e._element.removeAttribute("aria-modal"),e._element.removeAttribute("role"),e._config.scroll||(new st).reset(),Y.trigger(e._element,_t)}),this._element,!0)))}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_initializeBackDrop",value:function(){var e=this,t=Boolean(this._config.backdrop);return new Xe({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?function(){"static"!==e._config.backdrop?e.hide():Y.trigger(e._element,kt)}:null})}},{key:"_initializeFocusTrap",value:function(){return new nt({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var e=this;Y.on(this._element,"keydown.dismiss.bs.offcanvas",(function(t){"Escape"===t.key&&(e._config.keyboard?e.hide():Y.trigger(e._element,kt))}))}}],[{key:"Default",get:function(){return xt}},{key:"DefaultType",get:function(){return Et}},{key:"NAME",get:function(){return"offcanvas"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(te);Y.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){var t=this,n=re.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),!x(this)){Y.one(n,_t,(function(){_(t)&&t.focus()}));var r=re.findOne(bt);r&&r!==n&&Ct.getInstance(r).hide(),Ct.getOrCreateInstance(n).toggle(this)}})),Y.on(window,"load.bs.offcanvas.data-api",(function(){var e,t=f(re.find(bt));try{for(t.s();!(e=t.n()).done;){var n=e.value;Ct.getOrCreateInstance(n).show()}}catch(r){t.e(r)}finally{t.f()}})),Y.on(window,"resize.bs.offcanvas",(function(){var e,t=f(re.find("[aria-modal][class*=show][class*=offcanvas-]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;"fixed"!==getComputedStyle(n).position&&Ct.getOrCreateInstance(n).hide()}}catch(r){t.e(r)}finally{t.f()}})),ie(Ct),N(Ct);var St={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Tt=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),It=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,At=function(e,t){var n=e.nodeName.toLowerCase();return t.includes(n)?!Tt.has(n)||Boolean(It.test(e.nodeValue)):t.filter((function(e){return e instanceof RegExp})).some((function(e){return e.test(n)}))},Nt={allowList:St,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Pt={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dt={entry:"(string|element|function|null)",selector:"(string|element)"},Ot=function(e){o(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this))._config=r._getConfig(e),r}return l(n,[{key:"getContent",value:function(){var e=this;return Object.values(this._config.content).map((function(t){return e._resolvePossibleFunction(t)})).filter(Boolean)}},{key:"hasContent",value:function(){return this.getContent().length>0}},{key:"changeContent",value:function(e){return this._checkContent(e),this._config.content=u(u({},this._config.content),e),this}},{key:"toHtml",value:function(){var e,t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(var n=0,r=Object.entries(this._config.content);n<r.length;n++){var i=h(r[n],2),a=i[0],o=i[1];this._setContent(t,o,a)}var s=t.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&(e=s.classList).add.apply(e,d(u.split(" "))),s}},{key:"_typeCheckConfig",value:function(e){r(i(n.prototype),"_typeCheckConfig",this).call(this,e),this._checkContent(e.content)}},{key:"_checkContent",value:function(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var o=h(a[t],2),s=o[0],u=o[1];r(i(n.prototype),"_typeCheckConfig",this).call(this,{selector:s,entry:u},Dt)}}},{key:"_setContent",value:function(e,t,n){var r=re.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?b(t)?this._putElementInTemplate(k(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}},{key:"_maybeSanitize",value:function(e){return this._config.sanitize?function(e,t,n){var r;if(!e.length)return e;if(n&&"function"==typeof n)return n(e);var i,a=(new window.DOMParser).parseFromString(e,"text/html"),o=(r=[]).concat.apply(r,d(a.body.querySelectorAll("*"))),s=f(o);try{for(s.s();!(i=s.n()).done;){var u,c=i.value,l=c.nodeName.toLowerCase();if(Object.keys(t).includes(l)){var h,p=(u=[]).concat.apply(u,d(c.attributes)),v=[].concat(t["*"]||[],t[l]||[]),m=f(p);try{for(m.s();!(h=m.n()).done;){var g=h.value;At(g,v)||c.removeAttribute(g.nodeName)}}catch(y){m.e(y)}finally{m.f()}}else c.remove()}}catch(y){s.e(y)}finally{s.f()}return a.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}},{key:"_resolvePossibleFunction",value:function(e){return P(e,[this])}},{key:"_putElementInTemplate",value:function(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}],[{key:"Default",get:function(){return Nt}},{key:"DefaultType",get:function(){return Pt}},{key:"NAME",get:function(){return"TemplateFactory"}}]),n}(ee),Rt=new Set(["sanitize","allowList","sanitizeFn"]),Lt="fade",Mt="show",Ft=".modal",jt="hide.bs.modal",Vt="hover",Bt="focus",Ut={AUTO:"auto",TOP:"top",RIGHT:A()?"left":"right",BOTTOM:"bottom",LEFT:A()?"right":"left"},qt={allowList:St,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zt={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Wt=function(e){o(a,e);var t=s(a);function a(e,r){var i;if(c(this,a),void 0===n)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(i=t.call(this,e,r))._isEnabled=!0,i._timeout=0,i._isHovered=null,i._activeTrigger={},i._popper=null,i._templateFactory=null,i._newContent=null,i.tip=null,i._setListeners(),i._config.selector||i._fixTitle(),i}return l(a,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}},{key:"dispose",value:function(){clearTimeout(this._timeout),Y.off(this._element.closest(Ft),jt,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),r(i(a.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var e=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Y.trigger(this._element,this.constructor.eventName("show")),n=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&n){this._disposePopper();var r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));var i=this._config.container;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(Mt),"ontouchstart"in document.documentElement){var a,o,s=f((a=[]).concat.apply(a,d(document.body.children)));try{for(s.s();!(o=s.n()).done;){var u=o.value;Y.on(u,"mouseover",C)}}catch(c){s.e(c)}finally{s.f()}}this._queueCallback((function(){Y.trigger(e._element,e.constructor.eventName("shown")),!1===e._isHovered&&e._leave(),e._isHovered=!1}),this.tip,this._isAnimated())}}}},{key:"hide",value:function(){var e=this;if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Mt),"ontouchstart"in document.documentElement){var t,n,r=f((t=[]).concat.apply(t,d(document.body.children)));try{for(r.s();!(n=r.n()).done;){var i=n.value;Y.off(i,"mouseover",C)}}catch(a){r.e(a)}finally{r.f()}}this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback((function(){e._isWithActiveTrigger()||(e._isHovered||e._disposePopper(),e._element.removeAttribute("aria-describedby"),Y.trigger(e._element,e.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}},{key:"update",value:function(){this._popper&&this._popper.update()}},{key:"_isWithContent",value:function(){return Boolean(this._getTitle())}},{key:"_getTipElement",value:function(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}},{key:"_createTipElement",value:function(e){var t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Lt,Mt),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));var n=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Lt),t}},{key:"setContent",value:function(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}},{key:"_getTemplateFactory",value:function(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Ot(u(u({},this._config),{},{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}},{key:"_getContentForTemplate",value:function(){return{".tooltip-inner":this._getTitle()}}},{key:"_getTitle",value:function(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}},{key:"_initializeOnDelegatedTarget",value:function(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}},{key:"_isAnimated",value:function(){return this._config.animation||this.tip&&this.tip.classList.contains(Lt)}},{key:"_isShown",value:function(){return this.tip&&this.tip.classList.contains(Mt)}},{key:"_createPopper",value:function(e){var t=P(this._config.placement,[this,e,this._element]),r=Ut[t.toUpperCase()];return n.createPopper(this._element,e,this._getPopperConfig(r))}},{key:"_getOffset",value:function(){var e=this,t=this._config.offset;return"string"==typeof t?t.split(",").map((function(e){return Number.parseInt(e,10)})):"function"==typeof t?function(n){return t(n,e._element)}:t}},{key:"_resolvePossibleFunction",value:function(e){return P(e,[this._element])}},{key:"_getPopperConfig",value:function(e){var t=this,n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:function(e){t._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return u(u({},n),P(this._config.popperConfig,[n]))}},{key:"_setListeners",value:function(){var e,t=this,n=this._config.trigger.split(" "),r=f(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if("click"===i)Y.on(this._element,this.constructor.eventName("click"),this._config.selector,(function(e){t._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==i){var a=i===Vt?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),o=i===Vt?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Y.on(this._element,a,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusin"===e.type?Bt:Vt]=!0,n._enter()})),Y.on(this._element,o,this._config.selector,(function(e){var n=t._initializeOnDelegatedTarget(e);n._activeTrigger["focusout"===e.type?Bt:Vt]=n._element.contains(e.relatedTarget),n._leave()}))}}}catch(s){r.e(s)}finally{r.f()}this._hideModalHandler=function(){t._element&&t.hide()},Y.on(this._element.closest(Ft),jt,this._hideModalHandler)}},{key:"_fixTitle",value:function(){var e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}},{key:"_enter",value:function(){var e=this;this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((function(){e._isHovered&&e.show()}),this._config.delay.show))}},{key:"_leave",value:function(){var e=this;this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((function(){e._isHovered||e.hide()}),this._config.delay.hide))}},{key:"_setTimeout",value:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}},{key:"_isWithActiveTrigger",value:function(){return Object.values(this._activeTrigger).includes(!0)}},{key:"_getConfig",value:function(e){for(var t=J.getDataAttributes(this._element),n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Rt.has(i)&&delete t[i]}return e=u(u({},t),"object"==typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e.container=!1===e.container?document.body:k(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}},{key:"_getDelegateConfig",value:function(){for(var e={},t=0,n=Object.entries(this._config);t<n.length;t++){var r=h(n[t],2),i=r[0],a=r[1];this.constructor.Default[i]!==a&&(e[i]=a)}return e.selector=!1,e.trigger="manual",e}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}}],[{key:"Default",get:function(){return qt}},{key:"DefaultType",get:function(){return zt}},{key:"NAME",get:function(){return"tooltip"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=a.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),a}(te);N(Wt);var Ht=u(u({},Wt.Default),{},{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Kt=u(u({},Wt.DefaultType),{},{content:"(null|string|element|function)"}),Gt=function(e){o(n,e);var t=s(n);function n(){return c(this,n),t.apply(this,arguments)}return l(n,[{key:"_isWithContent",value:function(){return this._getTitle()||this._getContent()}},{key:"_getContentForTemplate",value:function(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}}],[{key:"Default",get:function(){return Ht}},{key:"DefaultType",get:function(){return Kt}},{key:"NAME",get:function(){return"popover"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(Wt);N(Gt);var Qt="click.bs.scrollspy",Yt="active",Zt="[href]",Xt={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$t={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Jt=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._targetLinks=new Map,i._observableSections=new Map,i._rootElement="visible"===getComputedStyle(i._element).overflowY?null:i._element,i._activeTarget=null,i._observer=null,i._previousScrollData={visibleEntryTop:0,parentScrollTop:0},i.refresh(),i}return l(n,[{key:"refresh",value:function(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();var e,t=f(this._observableSections.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;this._observer.observe(n)}}catch(r){t.e(r)}finally{t.f()}}},{key:"dispose",value:function(){this._observer.disconnect(),r(i(n.prototype),"dispose",this).call(this)}},{key:"_configAfterMerge",value:function(e){return e.target=k(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((function(e){return Number.parseFloat(e)}))),e}},{key:"_maybeEnableSmoothScroll",value:function(){var e=this;this._config.smoothScroll&&(Y.off(this._config.target,Qt),Y.on(this._config.target,Qt,Zt,(function(t){var n=e._observableSections.get(t.target.hash);if(n){t.preventDefault();var r=e._rootElement||window,i=n.offsetTop-e._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:i,behavior:"smooth"});r.scrollTop=i}})))}},{key:"_getNewObserver",value:function(){var e=this,t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((function(t){return e._observerCallback(t)}),t)}},{key:"_observerCallback",value:function(e){var t=this,n=function(e){return t._targetLinks.get("#".concat(e.target.id))},r=function(e){t._previousScrollData.visibleEntryTop=e.target.offsetTop,t._process(n(e))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;var o,s=f(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.isIntersecting){var c=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(u),!i)return}else a||c||r(u)}else this._activeTarget=null,this._clearActiveClass(n(u))}}catch(l){s.e(l)}finally{s.f()}}},{key:"_initializeTargetsAndObservables",value:function(){this._targetLinks=new Map,this._observableSections=new Map;var e,t=re.find(Zt,this._config.target),n=f(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.hash&&!x(r)){var i=re.findOne(decodeURI(r.hash),this._element);_(i)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,i))}}}catch(a){n.e(a)}finally{n.f()}}},{key:"_process",value:function(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Yt),this._activateParents(e),Y.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}},{key:"_activateParents",value:function(e){if(e.classList.contains("dropdown-item"))re.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Yt);else{var t,n=f(re.parents(e,".nav, .list-group"));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=f(re.prev(i,".nav-link, .nav-item > .nav-link, .list-group-item"));try{for(a.s();!(r=a.n()).done;)r.value.classList.add(Yt)}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_clearActiveClass",value:function(e){e.classList.remove(Yt);var t,n=re.find("[href].active",e),r=f(n);try{for(r.s();!(t=r.n()).done;)t.value.classList.remove(Yt)}catch(i){r.e(i)}finally{r.f()}}}],[{key:"Default",get:function(){return Xt}},{key:"DefaultType",get:function(){return $t}},{key:"NAME",get:function(){return"scrollspy"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(te);Y.on(window,"load.bs.scrollspy.data-api",(function(){var e,t=f(re.find('[data-bs-spy="scroll"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;Jt.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),N(Jt);var en="ArrowLeft",tn="ArrowRight",nn="ArrowUp",rn="ArrowDown",an="active",on="fade",sn="show",un='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cn='.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), '.concat(un),ln=function(e){o(n,e);var t=s(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._parent=r._element.closest('.list-group, .nav, [role="tablist"]'),r._parent&&(r._setInitialAttributes(r._parent,r._getChildren()),Y.on(r._element,"keydown.bs.tab",(function(e){return r._keydown(e)}))),r}return l(n,[{key:"show",value:function(){var e=this._element;if(!this._elemIsActive(e)){var t=this._getActiveElem(),n=t?Y.trigger(t,"hide.bs.tab",{relatedTarget:e}):null;Y.trigger(e,"show.bs.tab",{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}}},{key:"_activate",value:function(e,t){var n=this;e&&(e.classList.add(an),this._activate(re.getElementFromSelector(e)),this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),n._toggleDropDown(e,!0),Y.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(sn)}),e,e.classList.contains(on)))}},{key:"_deactivate",value:function(e,t){var n=this;e&&(e.classList.remove(an),e.blur(),this._deactivate(re.getElementFromSelector(e)),this._queueCallback((function(){"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),n._toggleDropDown(e,!1),Y.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(sn)}),e,e.classList.contains(on)))}},{key:"_keydown",value:function(e){if([en,tn,nn,rn].includes(e.key)){e.stopPropagation(),e.preventDefault();var t=[tn,rn].includes(e.key),r=O(this._getChildren().filter((function(e){return!x(e)})),e.target,t,!0);r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}}},{key:"_getChildren",value:function(){return re.find(cn,this._parent)}},{key:"_getActiveElem",value:function(){var e=this;return this._getChildren().find((function(t){return e._elemIsActive(t)}))||null}},{key:"_setInitialAttributes",value:function(e,t){this._setAttributeIfNotExists(e,"role","tablist");var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._setInitialAttributesOnChild(i)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_setInitialAttributesOnChild",value:function(e){e=this._getInnerElement(e);var t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}},{key:"_setInitialAttributesOnTargetPanel",value:function(e){var t=re.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","".concat(e.id)))}},{key:"_toggleDropDown",value:function(e,t){var n=this._getOuterElement(e);if(n.classList.contains("dropdown")){var r=function(e,r){var i=re.findOne(e,n);i&&i.classList.toggle(r,t)};r(".dropdown-toggle",an),r(".dropdown-menu",sn),n.setAttribute("aria-expanded",t)}}},{key:"_setAttributeIfNotExists",value:function(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}},{key:"_elemIsActive",value:function(e){return e.classList.contains(an)}},{key:"_getInnerElement",value:function(e){return e.matches(cn)?e:re.findOne(cn,e)}},{key:"_getOuterElement",value:function(e){return e.closest(".nav-item, .list-group-item")||e}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}]),n}(te);Y.on(document,"click.bs.tab",un,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),x(this)||ln.getOrCreateInstance(this).show()})),Y.on(window,"load.bs.tab",(function(){var e,t=f(re.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'));try{for(t.s();!(e=t.n()).done;){var n=e.value;ln.getOrCreateInstance(n)}}catch(r){t.e(r)}finally{t.f()}})),N(ln);var fn="hide",hn="show",dn="showing",pn={animation:"boolean",autohide:"boolean",delay:"number"},vn={animation:!0,autohide:!0,delay:5e3},mn=function(e){o(n,e);var t=s(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return l(n,[{key:"show",value:function(){var e=this;Y.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(fn),S(this._element),this._element.classList.add(hn,dn),this._queueCallback((function(){e._element.classList.remove(dn),Y.trigger(e._element,"shown.bs.toast"),e._maybeScheduleHide()}),this._element,this._config.animation))}},{key:"hide",value:function(){var e=this;this.isShown()&&(Y.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(dn),this._queueCallback((function(){e._element.classList.add(fn),e._element.classList.remove(dn,hn),Y.trigger(e._element,"hidden.bs.toast")}),this._element,this._config.animation)))}},{key:"dispose",value:function(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hn),r(i(n.prototype),"dispose",this).call(this)}},{key:"isShown",value:function(){return this._element.classList.contains(hn)}},{key:"_maybeScheduleHide",value:function(){var e=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){e.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)this._clearTimeout();else{var n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var e=this;Y.on(this._element,"mouseover.bs.toast",(function(t){return e._onInteraction(t,!0)})),Y.on(this._element,"mouseout.bs.toast",(function(t){return e._onInteraction(t,!1)})),Y.on(this._element,"focusin.bs.toast",(function(t){return e._onInteraction(t,!0)})),Y.on(this._element,"focusout.bs.toast",(function(t){return e._onInteraction(t,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"Default",get:function(){return vn}},{key:"DefaultType",get:function(){return pn}},{key:"NAME",get:function(){return"toast"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}]),n}(te);return ie(mn),N(mn),{Alert:ae,Button:se,Carousel:ke,Collapse:Ie,Dropdown:Ke,Modal:mt,Offcanvas:Ct,Popover:Gt,ScrollSpy:Jt,Tab:ln,Toast:mn,Tooltip:Wt}}(n(2451))},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(6054),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case C:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ce(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,Et,Ct,St=!1,Tt=[],It=null,At=null,Nt=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Bt(){St=!1,null!==It&&jt(It)&&(It=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Vt),Dt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==At&&Ut(At,e),null!==Nt&&Ut(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Kt(e,t,n,r){var i=wt,a=zt.transition;zt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),gn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(yn),bn=an(F({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Er={};function Cr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Ar=Cr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Rr=Pr[Or];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Zt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=ke(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Sr:case Tr:case Ir:u=gn;break;case Ar:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Wn(s))if(Xn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(g=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:g}),y?w.data=y:null!==(y=Un(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Jt=$t=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=De(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ci(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(Ai),Ci(Ii)}function Ri(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Si(Ii,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Si(Ii,e),Si(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ai),Ci(Ii),Si(Ii,e)):Ci(Ai),Si(Ai,n)}var ji=null,Vi=!1,Bi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,qi),i}finally{wt=t,Bi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Zi=1,Xi="";function $i(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Ji(e,t,n){Gi[Qi++]=Zi,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Zi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Zi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Zi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Zi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Ei(null),ya=null,wa=null,ba=null;function ka(){ba=wa=ya=null}function _a(e){var t=ga.current;Ci(ga),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ya=e,ba=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ya)throw Error(a(308));wa=e,ya.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Di(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Di(t)?Ni:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var w=d(i,v,y.value,c);if(null===w){null===v&&(v=g);break}e&&v&&null===w.alternate&&t(i,v),s=o(w,s,m),null===f?l=w:f.sibling=w,f=w,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Za=Ya(!0),Xa=Ya(!1),$a={},Ja=Ei($a),eo=Ei($a),to=Ei($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Ja,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ja),Si(Ja,t)}function io(){Ci(Ja),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Si(eo,e),Si(Ja,n))}function oo(e){eo.current===e&&(Ci(Ja),Ci(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,wo=!1,bo=0,ko=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(wo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Co(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Uo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Uo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ho(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Zo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Jo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{wt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ca,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:Zo,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ca,useCallback:Zo,useContext:Ca,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Bo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=b.ReactCurrentOwner,bs=!1;function ks(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Za(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Co(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ru,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ru,Ou),Ou|=r;return ks(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Ni:Ii.current;return a=Pi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Co(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Ws(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ca(c):c=Pi(t,c=Di(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Na?("function"===typeof l&&(Ba(t,n,l,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ca(u):u=Pi(t,u=Di(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Ds,Os,Rs,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Zi,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Zi=e.id,Xi=e.overflow,Yi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Za(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ci(Ai),Ci(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Z(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Z(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&w(e,o,l,u))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ai),Ci(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Cc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Cc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),we(u,s);var l=we(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):w(i,f,h,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Cc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Cc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Cc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Js=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Zs;var c=Xs;if(Zs=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Zs=s,Xs=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Cc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Cc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Cc(t,o,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,Cu=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Au=0,Nu=null,Pu=null,Du=0,Ou=0,Ru=Ei(0),Lu=0,Mu=null,Fu=0,ju=0,Vu=0,Bu=null,Uu=null,qu=0,zu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,Zu=0,Xu=0,$u=null,Ju=-1,ec=0;function tc(){return 0!==(6&Au)?Xe():-1!==Ju?Ju:Ju=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Du?Du&-Du:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Au)&&e===Nu||(e===Nu&&(0===(2&Au)&&(ju|=n),4===Lu&&uc(e,Du)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(zu=Xe()+500,Vi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&Au)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ju=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Nu===e&&Du===t||(Wu=null,zu=Xe()+500,dc(e,t));;)try{wc();break}catch(u){pc(e,u)}ka(),Su.current=o,Au=i,null!==Pu?t=0:(Nu=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Uu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),t);break}_c(e,Uu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Uu,Wu),r);break}_c(e,Uu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Vu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Uu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Xe()+500,Vi&&qi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Iu.transition,r=wt;try{if(Iu.transition=null,wt=1,e)return e()}finally{wt=r,Iu.transition=n,0===(6&(Au=t))&&qi()}}function hc(){Ou=Ru.current,Ci(Ru)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ci(Ai),Ci(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Rc(e.current,null),Du=Ou=t,Lu=0,Mu=null,Vu=ju=Fu=0,Uu=Bu=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(ka(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,wo=!1,bo=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gu||!Gu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Su.current;return Su.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Nu,Du)}function gc(e,t){var n=Au;Au|=2;var r=vc();for(Nu===e&&Du===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ka(),Au=n,Su.current=r,null!==Pu)throw Error(a(261));return Nu=null,Du=0,Lu}function yc(){for(;null!==Pu;)bc(Pu)}function wc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?kc(e):Pu=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=wt,i=Iu.transition;try{Iu.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Pu=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=wt;wt=1;var u=Au;Au|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){Cc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wu(n,e,i),Ze(),Au=u,wt=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Zu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Zu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===$u?Xu++:(Xu=0,$u=e):Xu=0,qi()}(e,t,n,r)}finally{Iu.transition=i,wt=r}return null}function xc(){if(null!==Yu){var e=bt(Zu),t=Iu.transition,n=wt;try{if(Iu.transition=null,wt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Zu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(ou(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var w=e.current;for(Js=w;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=w;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Cc(u,u.return,_)}if(u===s){Js=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Js=k;break e}Js=u.return}}if(Au=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Iu.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>Xe()-qu?dc(e,0):Vu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(gt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Dc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ca(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),za(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Zc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Zc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Au)&&(zu=Xe()+500,qi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));G(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[wi,bi,ki,Se,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=w.prototype=new y;b.constructor=w,v(b,g.prototype),b.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&R(k,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(k,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,C=null,S=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function N(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?x():(E=!1,C=null)}}else E=!1}if("function"===typeof w)x=function(){w(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){g(N,0)};function O(e){C=e,E||(E=!0,x())}function R(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(S),S=-1):m=!0,R(k,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1830:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default,c=n(3515).default,l=n(861).default;e.exports=function(){"use strict";var e=100,t={},n=function(){t.previousActiveElement instanceof HTMLElement?(t.previousActiveElement.focus(),t.previousActiveElement=null):document.body&&document.body.focus()},f=function(r){return new Promise((function(i){if(!r)return i();var a=window.scrollX,o=window.scrollY;t.restoreFocusTimeout=setTimeout((function(){n(),i()}),e),window.scrollTo(a,o)}))},h={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},d="swal2-",p=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((function(e,t){return e[t]=d+t,e}),{}),v=["success","warning","info","question","error"].reduce((function(e,t){return e[t]=d+t,e}),{}),m="SweetAlert2:",g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},y=function(e){console.warn("".concat(m," ").concat("object"===typeof e?e.join(" "):e))},w=function(e){console.error("".concat(m," ").concat(e))},b=[],k=function(e){b.includes(e)||(b.push(e),y(e))},_=function(e,t){k('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},x=function(e){return"function"===typeof e?e():e},E=function(e){return e&&"function"===typeof e.toPromise},C=function(e){return E(e)?e.toPromise():Promise.resolve(e)},S=function(e){return e&&Promise.resolve(e)===e},T=function(){return document.body.querySelector(".".concat(p.container))},I=function(e){var t=T();return t?t.querySelector(e):null},A=function(e){return I(".".concat(e))},N=function(){return A(p.popup)},P=function(){return A(p.icon)},D=function(){return A(p["icon-content"])},O=function(){return A(p.title)},R=function(){return A(p["html-container"])},L=function(){return A(p.image)},M=function(){return A(p["progress-steps"])},F=function(){return A(p["validation-message"])},j=function(){return I(".".concat(p.actions," .").concat(p.confirm))},V=function(){return I(".".concat(p.actions," .").concat(p.cancel))},B=function(){return I(".".concat(p.actions," .").concat(p.deny))},U=function(){return A(p["input-label"])},q=function(){return I(".".concat(p.loader))},z=function(){return A(p.actions)},W=function(){return A(p.footer)},H=function(){return A(p["timer-progress-bar"])},K=function(){return A(p.close)},G='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',Q=function(){var e=N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),n=N().querySelectorAll(G),r=Array.from(n).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return l(new Set(t.concat(r))).filter((function(e){return de(e)}))},Y=function(){return J(document.body,p.shown)&&!J(document.body,p["toast-shown"])&&!J(document.body,p["no-backdrop"])},Z=function(){return N()&&J(N(),p.toast)},X=function(){return N().hasAttribute("data-loading")},$=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},J=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},ee=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(p).includes(n)||Object.values(v).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},te=function(e,t,n){if(ee(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return void y("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));ae(e,t.customClass[n])}},ne=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(p.popup," > .").concat(p[t]));case"checkbox":return e.querySelector(".".concat(p.popup," > .").concat(p.checkbox," input"));case"radio":return e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:checked"))||e.querySelector(".".concat(p.popup," > .").concat(p.radio," input:first-child"));case"range":return e.querySelector(".".concat(p.popup," > .").concat(p.range," input"));default:return e.querySelector(".".concat(p.popup," > .").concat(p.input))}},re=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ie=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},ae=function(e,t){ie(e,t,!0)},oe=function(e,t){ie(e,t,!1)},se=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&J(i,t))return i}},ue=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},le=function(e){e&&(e.style.display="none")},fe=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},he=function(e,t){t?ce(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):le(e)},de=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},pe=function(){return!de(j())&&!de(B())&&!de(V())},ve=function(e){return!!(e.scrollHeight>e.clientHeight)},me=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H();de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ye=function(){var e=H(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},we=function(){return"undefined"===typeof window||"undefined"===typeof document},be='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'" id="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label for="').concat(p.checkbox,'" class="').concat(p.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ke=function(){var e=T();return!!e&&(e.remove(),oe([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)},_e=function(){t.currentInstance.resetValidationMessage()},xe=function(){var e=N(),t=se(e,p.input),n=se(e,p.file),r=e.querySelector(".".concat(p.range," input")),i=e.querySelector(".".concat(p.range," output")),a=se(e,p.select),o=e.querySelector(".".concat(p.checkbox," input")),s=se(e,p.textarea);t.oninput=_e,n.onchange=_e,a.onchange=_e,o.onchange=_e,s.oninput=_e,r.oninput=function(){_e(),i.value=r.value},r.onchange=function(){_e(),i.value=r.value}},Ee=function(e){return"string"===typeof e?document.querySelector(e):e},Ce=function(e){var t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Se=function(e){"rtl"===window.getComputedStyle(e).direction&&ae(T(),p.rtl)},Te=function(e){var t=ke();if(we())w("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=p.container,t&&ae(n,p["no-transition"]),$(n,be);var r=Ee(e.target);r.appendChild(n),Ce(e),Se(r),xe()}},Ie=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ae(e,t):e&&$(t,e)},Ae=function(e,t){e.jquery?Ne(t,e):$(t,e.toString())},Ne=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Pe=function(){if(we())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof e.style[n])return t[n];return!1}(),De=function(e,t){var n=z(),r=q();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ce(n):le(n),te(n,t,"actions"),Oe(n,r,t),$(r,t.loaderHtml),te(r,t,"loader")};function Oe(e,t,n){var r=j(),i=B(),a=V();Le(r,"confirm",n),Le(i,"deny",n),Le(a,"cancel",n),Re(r,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(i,r)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function Re(e,t,n,r){r.buttonsStyling?(ae([e,t,n],p.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,ae(e,p["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,ae(t,p["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,ae(n,p["default-outline"]))):oe([e,t,n],p.styled)}function Le(e,t,n){he(e,n["show".concat(g(t),"Button")],"inline-block"),$(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=p[t],te(e,n,"".concat(t,"Button")),ae(e,n["".concat(t,"ButtonClass")])}var Me=function(e,t){var n=K();$(n,t.closeButtonHtml),te(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},Fe=function(e,t){var n=T();n&&(je(n,t.backdrop),Ve(n,t.position),Be(n,t.grow),te(n,t,"container"))};function je(e,t){"string"===typeof t?e.style.background=t:t||ae([document.documentElement,document.body],p["no-backdrop"])}function Ve(e,t){t in p?ae(e,p[t]):(y('The "position" parameter is not valid, defaulting to "center"'),ae(e,p.center))}function Be(e,t){if(t&&"string"===typeof t){var n="grow-".concat(t);n in p&&ae(e,p[n])}}var Ue=["input","file","range","select","radio","checkbox","textarea"],qe=function(e,t){var n=N(),r=h.innerParams.get(e),i=!r||t.input!==r.input;Ue.forEach((function(e){var r=se(n,p[e]);He(e,t.inputAttributes),r.className=p[e],i&&le(r)})),t.input&&(i&&ze(t),Ke(t))},ze=function(e){if(Xe[e.input]){var t=Ye(e.input),n=Xe[e.input](t,e);ce(t),e.inputAutoFocus&&setTimeout((function(){re(n)}))}else w('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},We=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},He=function(e,t){var n=ne(N(),e);if(n)for(var r in We(n),t)n.setAttribute(r,t[r])},Ke=function(e){var t=Ye(e.input);"object"===typeof e.customClass&&ae(t,e.customClass.input)},Ge=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Qe=function(e,t,n){if(n.inputLabel){e.id=p.input;var r=document.createElement("label"),i=p["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&ae(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ye=function(e){return se(N(),p[e]||p.input)},Ze=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):S(t)||y('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=function(e,t){return Ze(e,t.inputValue),Qe(e,e,t),Ge(e,t),e.type=t.input,e},Xe.file=function(e,t){return Qe(e,e,t),Ge(e,t),e},Xe.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return Ze(n,t.inputValue),n.type=t.input,Ze(r,t.inputValue),Qe(n,e,t),e},Xe.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");$(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Qe(e,e,t),e},Xe.radio=function(e){return e.textContent="",e},Xe.checkbox=function(e,t){var n=ne(N(),"checkbox");n.value="1",n.id=p.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return $(r,t.inputPlaceholder),n},Xe.textarea=function(e,t){Ze(e,t.inputValue),Ge(e,t),Qe(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(N()).width);new MutationObserver((function(){var r=e.offsetWidth+n(e);N().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var $e=function(e,t){var n=R();te(n,t,"htmlContainer"),t.html?(Ie(t.html,n),ce(n,"block")):t.text?(n.textContent=t.text,ce(n,"block")):le(n),qe(e,t)},Je=function(e,t){var n=W();n&&(he(n,t.footer),t.footer&&Ie(t.footer,n),te(n,t,"footer"))},et=function(e,t){var n=h.innerParams.get(e),r=P();if(n&&t.icon===n.icon)return at(r,t),void tt(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(v).indexOf(t.icon))return w('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void le(r);ce(r),at(r,t),tt(r,t),ae(r,t.showClass.icon)}else le(r)},tt=function(e,t){for(var n in v)t.icon!==n&&oe(e,v[n]);ae(e,v[t.icon]),ot(e,t),nt(),te(e,t,"icon")},nt=function(){for(var e=N(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},rt='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',it='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',at=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=st(t.iconHtml):"success"===t.icon?(n=rt,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?it:st({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&$(e,n)},ot=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];fe(e,i,"backgroundColor",t.iconColor)}fe(e,".swal2-success-ring","borderColor",t.iconColor)}},st=function(e){return'<div class="'.concat(p["icon-content"],'">').concat(e,"</div>")},ut=function(e,t){var n=L();n&&(t.imageUrl?(ce(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ue(n,"width",t.imageWidth),ue(n,"height",t.imageHeight),n.className=p.image,te(n,t,"image")):le(n))},ct=function(e,t){var n=T(),r=N();if(n&&r){if(t.toast){ue(n,"width",t.width),r.style.width="100%";var i=q();i&&r.insertBefore(i,P())}else ue(r,"width",t.width);ue(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),le(F()),lt(r,t)}},lt=function(e,t){var n=t.showClass||{};e.className="".concat(p.popup," ").concat(de(e)?n.popup:""),t.toast?(ae([document.documentElement,document.body],p["toast-shown"]),ae(e,p.toast)):ae(e,p.modal),te(e,t,"popup"),"string"===typeof t.customClass&&ae(e,t.customClass),t.icon&&ae(e,p["icon-".concat(t.icon)])},ft=function(e,t){var n=M();if(n){var r=t.progressSteps,i=t.currentProgressStep;r&&0!==r.length&&void 0!==i?(ce(n),n.textContent="",i>=r.length&&y("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((function(e,a){var o=ht(e);if(n.appendChild(o),a===i&&ae(o,p["active-progress-step"]),a!==r.length-1){var s=dt(t);n.appendChild(s)}}))):le(n)}},ht=function(e){var t=document.createElement("li");return ae(t,p["progress-step"]),$(t,e),t},dt=function(e){var t=document.createElement("li");return ae(t,p["progress-step-line"]),e.progressStepsDistance&&ue(t,"width",e.progressStepsDistance),t},pt=function(e,t){var n=O();n&&(he(n,t.title||t.titleText,"block"),t.title&&Ie(t.title,n),t.titleText&&(n.innerText=t.titleText),te(n,t,"title"))},vt=function(e,t){ct(e,t),Fe(e,t),ft(e,t),et(e,t),ut(e,t),pt(e,t),Me(e,t),$e(e,t),De(e,t),Je(e,t),"function"===typeof t.didRender&&t.didRender(N())},mt=function(){return de(N())},gt=function(){return j()&&j().click()},yt=function(){return B()&&B().click()},wt=function(){return V()&&V().click()},bt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),kt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},_t=function(e,t,n,r){kt(t),n.toast||(t.keydownHandler=function(t){return St(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:N(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},xt=function(e,t){var n=Q();if(n.length)return(e+=t)===n.length?e=0:-1===e&&(e=n.length-1),void n[e].focus();N().focus()},Et=["ArrowRight","ArrowDown"],Ct=["ArrowLeft","ArrowUp"],St=function(e,t,n){var r=h.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Tt(e,t,r):"Tab"===t.key?It(t):[].concat(Et,Ct).includes(t.key)?At(t.key):"Escape"===t.key&&Nt(t,r,n)))},Tt=function(e,t,n){if(x(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;gt(),t.preventDefault()}},It=function(e){for(var t=e.target,n=Q(),r=-1,i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?xt(r,-1):xt(r,1),e.stopPropagation(),e.preventDefault()},At=function(e){var t=[j(),B(),V()];if(!(document.activeElement instanceof HTMLElement)||t.includes(document.activeElement)){for(var n=Et.includes(e)?"nextElementSibling":"previousElementSibling",r=document.activeElement,i=0;i<z().children.length;i++){if(!(r=r[n]))return;if(r instanceof HTMLButtonElement&&de(r))break}r instanceof HTMLButtonElement&&r.focus()}},Nt=function(e,t,n){x(t.allowEscapeKey)&&(e.preventDefault(),n(bt.esc))},Pt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Dt=function(){Array.from(document.body.children).forEach((function(e){e===T()||e.contains(T())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Ot=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Rt=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,p.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ae(document.body,p.iosfix),Mt(),Lt()}},Lt=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){var r=44;N().scrollHeight>window.innerHeight-r&&(T().style.paddingBottom="".concat(r,"px"))}},Mt=function(){var e,t=T();t.ontouchstart=function(t){e=Ft(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},Ft=function(e){var t=e.target,n=T();return!jt(e)&&!Vt(e)&&(t===n||!ve(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!ve(R())||!R().contains(t)))},jt=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Vt=function(e){return e.touches&&e.touches.length>1},Bt=function(){if(J(document.body,p.iosfix)){var e=parseInt(document.body.style.top,10);oe(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Ut=function(){var e=document.createElement("div");e.className=p["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},qt=null,zt=function(){null===qt&&document.body.scrollHeight>window.innerHeight&&(qt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(qt+Ut(),"px"))},Wt=function(){null!==qt&&(document.body.style.paddingRight="".concat(qt,"px"),qt=null)};function Ht(e,n,r,i){Z()?en(e,i):(f(r).then((function(){return en(e,i)})),kt(t)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(n.setAttribute("style","display:none !important"),n.removeAttribute("class"),n.innerHTML=""):n.remove(),Y()&&(Wt(),Bt(),Ot()),Kt()}function Kt(){oe([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Gt(e){e=Xt(e);var t=Pt.swalPromiseResolve.get(this),n=Qt(this);this.isAwaitingPromise?e.isDismissed||(Zt(this),t(e)):n&&t(e)}var Qt=function(e){var t=N();if(!t)return!1;var n=h.innerParams.get(e);if(!n||J(t,n.hideClass.popup))return!1;oe(t,n.showClass.popup),ae(t,n.hideClass.popup);var r=T();return oe(r,n.showClass.backdrop),ae(r,n.hideClass.backdrop),$t(e,t,n),!0};function Yt(e){var t=Pt.swalPromiseReject.get(this);Zt(this),t&&t(e)}var Zt=function(e){e.isAwaitingPromise&&(delete e.isAwaitingPromise,h.innerParams.get(e)||e._destroy())},Xt=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},$t=function(e,t,n){var r=T(),i=Pe&&me(t);"function"===typeof n.willClose&&n.willClose(t),i?Jt(e,t,r,n.returnFocus,n.didClose):Ht(e,r,n.returnFocus,n.didClose)},Jt=function(e,n,r,i,a){t.swalCloseEventFinishedCallback=Ht.bind(null,e,r,i,a),n.addEventListener(Pe,(function(e){e.target===n&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback)}))},en=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy&&e._destroy()}))},tn=function(e){var t=N();t||new ei,t=N();var n=q();Z()?le(P()):nn(t,e),ce(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},nn=function(e,t){var n=z(),r=q();!t&&de(j())&&(t=j()),ce(n),t&&(le(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),ae([e,n],p.loading)},rn=function(e,t){"select"===t.input||"radio"===t.input?cn(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(E(t.inputValue)||S(t.inputValue))&&(tn(j()),ln(e,t))},an=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return on(n);case"radio":return sn(n);case"file":return un(n);default:return t.inputAutoTrim?n.value.trim():n.value}},on=function(e){return e.checked?1:0},sn=function(e){return e.checked?e.value:null},un=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},cn=function(e,t){var n=N(),r=function(e){fn[t.input](n,hn(e),t)};E(t.inputOptions)||S(t.inputOptions)?(tn(j()),C(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):w("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},ln=function(e,t){var n=e.getInput();le(n),C(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),ce(n),n.focus(),e.hideLoading()})).catch((function(t){w("Error in inputValue promise: ".concat(t)),n.value="",ce(n),n.focus(),e.hideLoading()}))},fn={select:function(e,t,n){var r=se(e,p.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,$(i,t),i.selected=dn(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=se(e,p.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=p.radio,a.value=t,dn(t,n.inputValue)&&(a.checked=!0);var s=document.createElement("span");$(s,i),s.className=p.label,o.appendChild(a),o.appendChild(s),r.appendChild(o)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},hn=function e(t){var n=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"===typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"===typeof i&&(i=e(i)),n.push([r,i])})),n},dn=function(e,t){return t&&t.toString()===e.toString()},pn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.input?gn(e,"confirm"):_n(e,!0)},vn=function(e){var t=h.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?gn(e,"deny"):wn(e,!1)},mn=function(e,t){e.disableButtons(),t(bt.cancel)},gn=function(e,t){var n=h.innerParams.get(e);if(n.input){var r=an(e,n);n.inputValidator?yn(e,r,t):e.getInput().checkValidity()?"deny"===t?wn(e,r):_n(e,r):(e.enableButtons(),e.showValidationMessage(n.validationMessage))}else w('The "input" parameter is needed to be set when using returnInputValueOn'.concat(g(t)))},yn=function(e,t,n){var r=h.innerParams.get(e);e.disableInput(),Promise.resolve().then((function(){return C(r.inputValidator(t,r.validationMessage))})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?wn(e,t):_n(e,t)}))},wn=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnDeny&&tn(B()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((function(){return C(n.preDeny(t,n.validationMessage))})).then((function(n){!1===n?(e.hideLoading(),Zt(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((function(t){return kn(e||void 0,t)}))):e.close({isDenied:!0,value:t})},bn=function(e,t){e.close({isConfirmed:!0,value:t})},kn=function(e,t){e.rejectPromise(t)},_n=function(e,t){var n=h.innerParams.get(e||void 0);n.showLoaderOnConfirm&&tn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((function(){return C(n.preConfirm(t,n.validationMessage))})).then((function(n){de(F())||!1===n?(e.hideLoading(),Zt(e)):bn(e,"undefined"===typeof n?t:n)})).catch((function(t){return kn(e||void 0,t)}))):bn(e,t)};function xn(){var e=h.innerParams.get(this);if(e){var t=h.domCache.get(this);le(t.loader),Z()?e.icon&&ce(P()):En(t),oe([t.popup,t.actions],p.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var En=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ce(t[0],"inline-block"):pe()&&le(e.actions)};function Cn(){var e=h.innerParams.get(this),t=h.domCache.get(this);return t?ne(t.popup,e.input):null}function Sn(e,t,n){var r=h.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function Tn(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}function In(){Sn(this,["confirmButton","denyButton","cancelButton"],!1)}function An(){Sn(this,["confirmButton","denyButton","cancelButton"],!0)}function Nn(){Tn(this.getInput(),!1)}function Pn(){Tn(this.getInput(),!0)}function Dn(e){var t=h.domCache.get(this),n=h.innerParams.get(this);$(t.validationMessage,e),t.validationMessage.className=p["validation-message"],n.customClass&&n.customClass.validationMessage&&ae(t.validationMessage,n.customClass.validationMessage),ce(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",p["validation-message"]),re(r),ae(r,p.inputerror))}function On(){var e=h.domCache.get(this);e.validationMessage&&le(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),oe(t,p.inputerror))}var Rn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ln=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mn={},Fn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jn=function(e){return Object.prototype.hasOwnProperty.call(Rn,e)},Vn=function(e){return-1!==Ln.indexOf(e)},Bn=function(e){return Mn[e]},Un=function(e){jn(e)||y('Unknown parameter "'.concat(e,'"'))},qn=function(e){Fn.includes(e)&&y('The parameter "'.concat(e,'" is incompatible with toasts'))},zn=function(e){var t=Bn(e);t&&_(e,t)},Wn=function(e){for(var t in!1===e.backdrop&&e.allowOutsideClick&&y('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)Un(t),e.toast&&qn(t),zn(t)};function Hn(e){var t=N(),n=h.innerParams.get(this);if(t&&!J(t,n.hideClass.popup)){var r=Kn(e),i=Object.assign({},n,r);vt(this,i),h.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}else y("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var Kn=function(e){var t={};return Object.keys(e).forEach((function(n){Vn(n)?t[n]=e[n]:y("Invalid parameter to update: ".concat(n))})),t};function Gn(){var e=h.domCache.get(this),n=h.innerParams.get(this);n?(e.popup&&t.swalCloseEventFinishedCallback&&(t.swalCloseEventFinishedCallback(),delete t.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),Qn(this)):Yn(this)}var Qn=function(e){Yn(e),delete e.params,delete t.keydownHandler,delete t.keydownTarget,delete t.currentInstance},Yn=function(e){e.isAwaitingPromise?(Zn(h,e),e.isAwaitingPromise=!0):(Zn(Pt,e),Zn(h,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Zn=function(e,t){for(var n in e)e[n].delete(t)},Xn=Object.freeze({__proto__:null,_destroy:Gn,close:Gt,closeModal:Gt,closePopup:Gt,closeToast:Gt,disableButtons:An,disableInput:Pn,disableLoading:xn,enableButtons:In,enableInput:Nn,getInput:Cn,handleAwaitingPromise:Zt,hideLoading:xn,rejectPromise:Yt,resetValidationMessage:On,showValidationMessage:Dn,update:Hn}),$n=function(e,t,n){h.innerParams.get(e).toast?Jn(e,t,n):(nr(t),rr(t),ir(e,t,n))},Jn=function(e,t,n){t.popup.onclick=function(){var t=h.innerParams.get(e);t&&(er(t)||t.timer||t.input)||n(bt.close)}},er=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},tr=!1,nr=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(tr=!0)}}},rr=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(tr=!0)}}},ir=function(e,t,n){t.container.onclick=function(r){var i=h.innerParams.get(e);tr?tr=!1:r.target===t.container&&x(i.allowOutsideClick)&&n(bt.backdrop)}},ar=function(e){return"object"===typeof e&&e.jquery},or=function(e){return e instanceof Element||ar(e)},sr=function(e){var t={};return"object"!==typeof e[0]||or(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"===typeof i||or(i)?t[n]=i:void 0!==i&&w("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t};function ur(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}function cr(e){var t=function(t){s(c,t);var n=u(c);function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"_main",value:function(t,n){return a(o(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var lr=function(){return t.timeout&&t.timeout.getTimerLeft()},fr=function(){if(t.timeout)return ye(),t.timeout.stop()},hr=function(){if(t.timeout){var e=t.timeout.start();return ge(e),e}},dr=function(){var e=t.timeout;return e&&(e.running?fr():hr())},pr=function(e){if(t.timeout){var n=t.timeout.increase(e);return ge(n,!0),n}},vr=function(){return t.timeout&&t.timeout.isRunning()},mr=!1,gr={};function yr(){gr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,mr||(document.body.addEventListener("click",br),mr=!0)}var wr,br=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in gr){var r=t.getAttribute(n);if(r)return void gr[n].fire({template:r})}},kr=Object.freeze({__proto__:null,argsToParams:sr,bindClickHandler:yr,clickCancel:wt,clickConfirm:gt,clickDeny:yt,enableLoading:tn,fire:ur,getActions:z,getCancelButton:V,getCloseButton:K,getConfirmButton:j,getContainer:T,getDenyButton:B,getFocusableElements:Q,getFooter:W,getHtmlContainer:R,getIcon:P,getIconContent:D,getImage:L,getInputLabel:U,getLoader:q,getPopup:N,getProgressSteps:M,getTimerLeft:lr,getTimerProgressBar:H,getTitle:O,getValidationMessage:F,increaseTimer:pr,isDeprecatedParameter:Bn,isLoading:X,isTimerRunning:vr,isUpdatableParameter:Vn,isValidParameter:jn,isVisible:mt,mixin:cr,resumeTimer:hr,showLoading:tn,stopTimer:fr,toggleTimer:dr}),_r=function(){function e(t,n){r(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),xr=["swal-title","swal-html","swal-footer"],Er=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Dr(n),Object.assign(Cr(n),Sr(n),Tr(n),Ir(n),Ar(n),Nr(n),Pr(n,xr))},Cr=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Or(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"===typeof Rn[n]?t[n]="false"!==r:"object"===typeof Rn[n]?t[n]=JSON.parse(r):t[n]=r})),t},Sr=function(e){var t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((function(e){var n=e.getAttribute("name"),r=e.getAttribute("value");t[n]=new Function("return ".concat(r))()})),t},Tr=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Or(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(g(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Ir=function(e){var t={},n=e.querySelector("swal-image");return n&&(Or(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ar=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Or(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Nr=function(e){var t={},n=e.querySelector("swal-input");n&&(Or(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){Or(e,["value"]);var n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Pr=function(e,t){var n={};for(var r in t){var i=t[r],a=e.querySelector(i);a&&(Or(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Dr=function(e){var t=xr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||y("Unrecognized element <".concat(n,">"))}))},Or=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&y(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Rr=10,Lr=function(e){var n=T(),r=N();"function"===typeof e.willOpen&&e.willOpen(r);var i=window.getComputedStyle(document.body).overflowY;Vr(n,r,e),setTimeout((function(){Fr(n,r)}),Rr),Y()&&(jr(n,e.scrollbarPadding,i),Dt()),Z()||t.previousActiveElement||(t.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(r)})),oe(n,p["no-transition"])},Mr=function e(t){var n=N();if(t.target===n){var r=T();n.removeEventListener(Pe,e),r.style.overflowY="auto"}},Fr=function(e,t){Pe&&me(t)?(e.style.overflowY="hidden",t.addEventListener(Pe,Mr)):e.style.overflowY="auto"},jr=function(e,t,n){Rt(),t&&"hidden"!==n&&zt(),setTimeout((function(){e.scrollTop=0}))},Vr=function(e,t,n){ae(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),ce(t,"grid"),setTimeout((function(){ae(t,n.showClass.popup),t.style.removeProperty("opacity")}),Rr),ae([document.documentElement,document.body],p.shown),n.heightAuto&&n.backdrop&&!n.toast&&ae([document.documentElement,document.body],p["height-auto"])},Br={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function Ur(e){e.inputValidator||Object.keys(Br).forEach((function(t){e.input===t&&(e.inputValidator=Br[t])}))}function qr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(y('Target parameter is not valid, defaulting to "body"'),e.target="body")}function zr(e){Ur(e),e.showLoaderOnConfirm&&!e.preConfirm&&y("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),qr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Te(e)}var Wr=function(){function e(){if(r(this,e),"undefined"!==typeof window){wr=this;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=Object.freeze(this.constructor.argsToParams(n));this.params=a,this.isAwaitingPromise=!1;var o=wr._main(wr.params);h.promise.set(this,o)}}return i(e,[{key:"_main",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wn(Object.assign({},n,e)),t.currentInstance&&(t.currentInstance._destroy(),Y()&&Ot()),t.currentInstance=wr;var r=Kr(e,n);zr(r),Object.freeze(r),t.timeout&&(t.timeout.stop(),delete t.timeout),clearTimeout(t.restoreFocusTimeout);var i=Gr(wr);return vt(wr,r),h.innerParams.set(wr,r),Hr(wr,i,r)}},{key:"then",value:function(e){return h.promise.get(this).then(e)}},{key:"finally",value:function(e){return h.promise.get(this).finally(e)}}]),e}(),Hr=function(e,n,r){return new Promise((function(i,a){var o=function(t){e.close({isDismissed:!0,dismiss:t})};Pt.swalPromiseResolve.set(e,i),Pt.swalPromiseReject.set(e,a),n.confirmButton.onclick=function(){pn(e)},n.denyButton.onclick=function(){vn(e)},n.cancelButton.onclick=function(){mn(e,o)},n.closeButton.onclick=function(){o(bt.close)},$n(e,n,o),_t(e,t,r,o),rn(e,r),Lr(r),Qr(t,r,o),Yr(n,r),setTimeout((function(){n.container.scrollTop=0}))}))},Kr=function(e,t){var n=Er(e),r=Object.assign({},Rn,t,n,e);return r.showClass=Object.assign({},Rn.showClass,r.showClass),r.hideClass=Object.assign({},Rn.hideClass,r.hideClass),r},Gr=function(e){var t={popup:N(),container:T(),actions:z(),confirmButton:j(),denyButton:B(),cancelButton:V(),loader:q(),closeButton:K(),validationMessage:F(),progressSteps:M()};return h.domCache.set(e,t),t},Qr=function(e,t,n){var r=H();le(r),t.timer&&(e.timeout=new _r((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ce(r),te(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&ge(t.timer)}))))},Yr=function(e,t){t.toast||(x(t.allowEnterKey)?Zr(e,t)||xt(-1,1):Xr())},Zr=function(e,t){return t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0)},Xr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){var $r=new Date,Jr=localStorage.getItem("swal-initiation");Jr?($r.getTime()-Date.parse(Jr))/864e5>3&&setTimeout((function(){document.body.style.pointerEvents="none";var e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((function(){e.play().catch((function(){}))}),2500)}),500):localStorage.setItem("swal-initiation","".concat($r))}Wr.prototype.disableButtons=An,Wr.prototype.enableButtons=In,Wr.prototype.getInput=Cn,Wr.prototype.disableInput=Pn,Wr.prototype.enableInput=Nn,Wr.prototype.hideLoading=xn,Wr.prototype.disableLoading=xn,Wr.prototype.showValidationMessage=Dn,Wr.prototype.resetValidationMessage=On,Wr.prototype.close=Gt,Wr.prototype.closePopup=Gt,Wr.prototype.closeModal=Gt,Wr.prototype.closeToast=Gt,Wr.prototype.rejectPromise=Yt,Wr.prototype.update=Hn,Wr.prototype._destroy=Gn,Object.assign(Wr,kr),Object.keys(Xn).forEach((function(e){Wr[e]=function(){var t;return wr&&wr[e]?(t=wr)[e].apply(t,arguments):null}})),Wr.DismissReason=bt,Wr.version="11.7.10";var ei=Wr;return ei.default=ei,ei}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-container) div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-container) div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-container) div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-container) div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-container) div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},2391:function(e){"use strict";var t=function(){};e.exports=t},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return qf},SDK_VERSION:function(){return hd},_DEFAULT_ENTRY_NAME:function(){return Jh},_addComponent:function(){return rd},_addOrOverwriteComponent:function(){return id},_apps:function(){return td},_clearComponents:function(){return ud},_components:function(){return nd},_getProvider:function(){return od},_registerComponent:function(){return ad},_removeServiceInstance:function(){return sd},deleteApp:function(){return md},getApp:function(){return pd},getApps:function(){return vd},initializeApp:function(){return dd},onLog:function(){return wd},registerVersion:function(){return yd},setLogLevel:function(){return bd}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=b();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},E(e)}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var T,I="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function O(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:O(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(S({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(I,v),h=e,function(){s.removeEventListener(I,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(tp){s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=G(i[o],Y(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ee([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:K(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||l(n)||s(n)||u(),i=r[0],o=r.slice(1),c=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===o.length)return c?[h,""]:[h];var d=j(o.join("/")),p=[];return p.push.apply(p,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),c&&p.push.apply(p,f(d)),p.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,U=2,q=1,z=10,W=-2,H=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=W),t&&(r+=U),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:z)}),r)}function G(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(tp){return N(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+tp+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(tp){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+tp+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function J(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=R(e):(A(!(i=S({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ne(a),hash:re(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(E(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],se=(new Set(oe),["get"].concat(oe));new Set(se),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ve=r.createContext(null);function me(){return null!=r.useContext(de)}function ge(){return me()||A(!1),r.useContext(de).location}function ye(e){r.useContext(he).static||r.useLayoutEffect(e)}function we(){return r.useContext(pe).isDataRoute?function(){var e=Ae(xe.UseNavigateStable).router,t=Pe(Ee.UseNavigateStable),n=r.useRef(!1);ye((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ue({fromRouteId:t},i)))}),[e,t]);return i}():function(){me()||A(!1);var e=r.useContext(ce),t=r.useContext(he),n=t.basename,i=t.navigator,a=r.useContext(pe).matches,o=ge().pathname,s=JSON.stringify($(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);ye((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=J(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ee([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function be(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(pe).matches,a=ge().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return J(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function ke(e,n,i){me()||A(!1);var a,o=r.useContext(he).navigator,s=r.useContext(pe).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ge());if(n){var h,d="string"===typeof n?R(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||A(!1),a=d}else a=f;var p=a.pathname||"/",v=M(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ie(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(de.Provider,{value:{location:ue({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function _e(){var e=function(){var e,t=r.useContext(ve),n=Ne(Ee.UseRouteError),i=Pe(Ee.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var xe,Ee,Ce=r.createElement(_e,null),Se=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(pe.Provider,{value:this.props.routeContext},r.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Te(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ce);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(pe.Provider,{value:t},i)}function Ie(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||A(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ce);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Te,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Se,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Ae(e){var t=r.useContext(ce);return t||A(!1),t}function Ne(e){var t=r.useContext(le);return t||A(!1),t}function Pe(e){var t=function(e){var t=r.useContext(pe);return t||A(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||A(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(xe||(xe={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ee||(Ee={}));var De;function Oe(e){A(!1)}function Re(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;me()&&A(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=R(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,w=void 0===y?"":y,b=v.hash,k=void 0===b?"":b,_=v.state,x=void 0===_?null:_,E=v.key,C=void 0===E?"default":E,S=r.useMemo((function(){var e=Z(g,d);return null==e?null:{location:{pathname:e,search:w,hash:k,state:x,key:C},navigationType:c}}),[d,g,w,k,x,C,c]);return null==S?null:r.createElement(he.Provider,{value:p},r.createElement(de.Provider,{children:o,value:S}))}function Le(e){var t=e.children,n=e.location;return ke(Fe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(De||(De={}));var Me=new Promise((function(){}));r.Component;function Fe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==Oe&&A(!1),e.props.index&&e.props.children&&A(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,a)),n.push(o)}else n.push.apply(n,Fe(e.props.children,a))}})),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ue(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),L((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:O(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(r.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Re,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ve(e,Be),d=r.useContext(he).basename,p=!1;if("string"===typeof l&&ze.test(l)&&(n=l,qe))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=Z(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,t){var n=(void 0===t?{}:t).relative;me()||A(!1);var i=r.useContext(he),a=i.basename,o=i.navigator,s=be(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ee([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),w=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=ge(),f=be(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:O(l)===O(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",je({},h,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var He,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(He||(He={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));function Ge(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Xe(e,t){if(null==e)return{};var n,r,i=Ze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $e=n(1694),Je=n.n($e),et=n(2007),tt=n.n(et),nt=n(184),rt=["as","className","type","tooltip"],it={type:tt().string,tooltip:tt().bool,as:tt().elementType},at=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=Xe(e,rt);return(0,nt.jsx)(r,Ye(Ye({},c),{},{ref:t,className:Je()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));at.displayName="Feedback",at.propTypes=it;var ot=at,st=r.createContext({}),ut=["xxl","xl","lg","md","sm","xs"],ct=r.createContext({prefixes:{},breakpoints:ut,minBreakpoint:"xs"});ct.Consumer,ct.Provider;function lt(e,t){var n=(0,r.useContext)(ct).prefixes;return e||n[t]||t}function ft(){return(0,r.useContext)(ct).breakpoints}function ht(){return(0,r.useContext)(ct).minBreakpoint}function dt(){return"rtl"===(0,r.useContext)(ct).dir}var pt=["id","bsPrefix","className","type","isValid","isInvalid","as"],vt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=Xe(e,pt),v=(0,r.useContext)(st).controlId;return i=lt(i,"form-check-input"),(0,nt.jsx)(d,Ye(Ye({},p),{},{ref:t,type:s,id:n||v,className:Je()(a,i,c&&"is-valid",f&&"is-invalid")}))}));vt.displayName="FormCheckInput";var mt=vt,gt=["bsPrefix","className","htmlFor"],yt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=Xe(e,gt),s=(0,r.useContext)(st).controlId;return n=lt(n,"form-check-label"),(0,nt.jsx)("label",Ye(Ye({},o),{},{ref:t,htmlFor:a||s,className:Je()(i,n)}))}));yt.displayName="FormCheckLabel";var wt=yt;function bt(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}var kt=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],_t=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,g=void 0!==m&&m,y=e.feedback,w=e.feedbackType,b=e.className,k=e.style,_=e.title,x=void 0===_?"":_,E=e.type,C=void 0===E?"checkbox":E,S=e.label,T=e.children,I=e.as,A=void 0===I?"input":I,N=Xe(e,kt);i=lt(i,"form-check"),a=lt(a,"form-switch");var P=(0,r.useContext)(st).controlId,D=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),O=!T&&null!=S&&!1!==S||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,wt),R=(0,nt.jsx)(mt,Ye(Ye({},N),{},{type:"switch"===C?"checkbox":C,ref:t,isValid:d,isInvalid:v,disabled:f,as:A}));return(0,nt.jsx)(st.Provider,{value:D,children:(0,nt.jsx)("div",{style:k,className:Je()(b,O&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===C&&a),children:T||(0,nt.jsxs)(nt.Fragment,{children:[R,O&&(0,nt.jsx)(wt,{title:x,children:S}),y&&(0,nt.jsx)(ot,{type:w,tooltip:g,children:y})]})})})}));_t.displayName="FormCheck";var xt=Object.assign(_t,{Input:mt,Label:wt}),Et=n(2391),Ct=n.n(Et),St=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Tt=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,g=e.as,y=void 0===g?"input":g,w=Xe(e,St),b=(0,r.useContext)(st).controlId;(a=lt(a,"form-control"),v)?n=Ge({},"".concat(a,"-plaintext"),!0):(Ge(i={},a,!0),Ge(i,"".concat(a,"-").concat(s),s),n=i);return(0,nt.jsx)(y,Ye(Ye({},w),{},{type:o,size:u,ref:t,readOnly:m,id:c||b,className:Je()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Tt.displayName="FormControl";var It=Object.assign(Tt,{Feedback:ot}),At=/-(.)/g;var Nt=["className","bsPrefix","as"],Pt=function(e){return e[0].toUpperCase()+(t=e,t.replace(At,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Pt(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,c=Xe(t,Nt),l=Ye(Ye({},o),c),f=lt(i,e);return(0,nt.jsx)(u,Ye({ref:n,className:Je()(r,f)},l))}));return s.displayName=i,s}var Ot=Dt("form-floating"),Rt=["controlId","as"],Lt=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=Xe(e,Rt),s=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,nt.jsx)(st.Provider,{value:s,children:(0,nt.jsx)(a,Ye(Ye({},o),{},{ref:t}))})}));Lt.displayName="FormGroup";var Mt=Lt,Ft=["as","bsPrefix","className"],jt=["className"];var Vt=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=Xe(e,Ft);n=lt(n,"col");var a=ft(),o=ht(),s=[],u=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&u.push("order".concat(l,"-").concat(a)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[Ye(Ye({},i),{},{className:Je().apply(void 0,[r].concat(s,u))}),{as:t,bsPrefix:n,spans:s}]}(e),r=c(n,2),i=r[0],a=i.className,o=Xe(i,jt),s=r[1],u=s.as,l=void 0===u?"div":u,f=s.bsPrefix,h=s.spans;return(0,nt.jsx)(l,Ye(Ye({},o),{},{ref:t,className:Je()(a,!h.length&&f)}))}));Vt.displayName="Col";var Bt=Vt,Ut=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],qt=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,c=void 0!==u&&u,l=e.className,f=e.htmlFor,h=Xe(e,Ut),d=(0,r.useContext)(st).controlId;a=lt(a,"form-label");var p="col-form-label";"string"===typeof s&&(p="".concat(p," ").concat(p,"-").concat(s));var v=Je()(l,a,c&&"visually-hidden",s&&p);return f=f||d,s?(0,nt.jsx)(Bt,Ye({ref:t,as:"label",className:v,htmlFor:f},h)):(0,nt.jsx)(i,Ye({ref:t,className:v,htmlFor:f},h))}));qt.displayName="FormLabel";var zt=qt,Wt=["bsPrefix","className","id"],Ht=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=Xe(e,Wt),s=(0,r.useContext)(st).controlId;return n=lt(n,"form-range"),(0,nt.jsx)("input",Ye(Ye({},o),{},{type:"range",ref:t,className:Je()(i,n),id:a||s}))}));Ht.displayName="FormRange";var Kt=Ht,Gt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Qt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=Xe(e,Gt),d=(0,r.useContext)(st).controlId;return n=lt(n,"form-select"),(0,nt.jsx)("select",Ye(Ye({},h),{},{size:a,ref:t,className:Je()(o,n,i&&"".concat(n,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));Qt.displayName="FormSelect";var Yt=Qt,Zt=["bsPrefix","className","as","muted"],Xt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=Xe(e,Zt);return n=lt(n,"form-text"),(0,nt.jsx)(a,Ye(Ye({},s),{},{ref:t,className:Je()(r,n,o&&"text-muted")}))}));Xt.displayName="FormText";var $t=Xt,Jt=r.forwardRef((function(e,t){return(0,nt.jsx)(xt,Ye(Ye({},e),{},{ref:t,type:"switch"}))}));Jt.displayName="Switch";var en=Object.assign(Jt,{Input:xt.Input,Label:xt.Label}),tn=["bsPrefix","className","children","controlId","label"],nn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=Xe(e,tn);return n=lt(n,"form-floating"),(0,nt.jsxs)(Mt,Ye(Ye({ref:t,className:Je()(r,n),controlId:a},s),{},{children:[i,(0,nt.jsx)("label",{htmlFor:a,children:o})]}))}));nn.displayName="FloatingLabel";var rn=nn,an=["className","validated","as"],on={_ref:tt().any,validated:tt().bool,as:tt().elementType},sn=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=Xe(e,an);return(0,nt.jsx)(a,Ye(Ye({},o),{},{ref:t,className:Je()(n,r&&"was-validated")}))}));sn.displayName="Form",sn.propTypes=on;var un=Object.assign(sn,{Group:Mt,Control:It,Floating:Ot,Check:xt,Switch:en,Label:zt,Text:$t,Range:Kt,Select:Yt,FloatingLabel:rn}),cn=["as","disabled"];function ln(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var fn=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cn),a=c(ln(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,nt.jsx)(s,Object.assign({},i,o,{ref:t}))}));fn.displayName="Button";var hn=fn,dn=["as","bsPrefix","variant","size","active","disabled","className"],pn=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.className,d=Xe(e,dn),p=lt(r,"btn"),v=c(ln(Ye({tagName:n,disabled:f},d)),2),m=v[0],g=v[1].tagName;return(0,nt.jsx)(g,Ye(Ye(Ye({},m),d),{},{ref:t,disabled:f,className:Je()(h,p,u&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&f&&"disabled")}))}));pn.displayName="Button";var vn=pn,mn=["bsPrefix","className","as"],gn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=Xe(e,mn),s=lt(n,"row"),u=ft(),c=ht(),l="".concat(s,"-cols"),f=[];return u.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,nt.jsx)(a,Ye(Ye({ref:t},o),{},{className:Je().apply(void 0,[r,s].concat(f))}))}));gn.displayName="Row";var yn=gn,wn=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),bn=(0,r.createContext)({}),kn=(0,r.createContext)(null),_n="undefined"!==typeof document,xn=_n?r.useLayoutEffect:r.useEffect,En=(0,r.createContext)({strict:!1});function Cn(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Sn(e){return"string"===typeof e||Array.isArray(e)}function Tn(e){return"object"===typeof e&&"function"===typeof e.start}var In=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],An=["initial"].concat(In);function Nn(e){return Tn(e.animate)||An.some((function(t){return Sn(e[t])}))}function Pn(e){return Boolean(Nn(e)||e.variants)}function Dn(e){var t=function(e,t){if(Nn(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Sn(n)?n:void 0,animate:Sn(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(bn)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[On(n),On(i)])}function On(e){return Array.isArray(e)?e.join(" "):e}var Rn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ln={},Mn=function(e){Ln[e]={isEnabled:function(t){return Rn[e].some((function(e){return!!t[e]}))}}};for(var Fn in Rn)Mn(Fn);var jn=(0,r.createContext)({}),Vn=(0,r.createContext)({}),Bn=Symbol.for("motionComponentSymbol");function Un(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;t&&function(e){for(var t in e)Ln[t]=Ye(Ye({},Ln[t]),e[t])}(t);var s=(0,r.forwardRef)((function(e,s){var u,c=Ye(Ye(Ye({},(0,r.useContext)(wn)),e),{},{layoutId:qn(e)}),l=c.isStatic,f=Dn(e),h=a(e,l);if(!l&&_n){f.visualElement=function(e,t,n,i){var a=(0,r.useContext)(bn).visualElement,o=(0,r.useContext)(En),s=(0,r.useContext)(kn),u=(0,r.useContext)(wn).reducedMotion,c=(0,r.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;return(0,r.useInsertionEffect)((function(){l&&l.update(n,s)})),xn((function(){l&&l.render()})),(0,r.useEffect)((function(){l&&l.updateFeatures()})),(window.HandoffAppearAnimations?xn:r.useEffect)((function(){l&&l.animationState&&l.animationState.animateChanges()})),l}(o,h,c,n);var d=(0,r.useContext)(Vn),p=(0,r.useContext)(En).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,p,t,d))}return r.createElement(bn.Provider,{value:f},u&&f.visualElement?r.createElement(u,Ye({visualElement:f.visualElement},c)):null,i(o,e,function(e,t,n){return(0,r.useCallback)((function(r){r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Cn(n)&&(n.current=r))}),[t])}(h,f.visualElement,s),h,l,f.visualElement))}));return s[Bn]=o,s}function qn(e){var t=e.layoutId,n=(0,r.useContext)(jn).id;return n&&void 0!==t?n+"-"+t:t}function zn(e){function t(t){return Un(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Wn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hn(e){return"string"===typeof e&&!e.includes("-")&&!!(Wn.indexOf(e)>-1||/[A-Z]/.test(e))}var Kn={};var Gn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qn=new Set(Gn);function Yn(e,t){var n=t.layout,r=t.layoutId;return Qn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Kn[e]||"opacity"===e)}var Zn=function(e){return Boolean(e&&e.getVelocity)},Xn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$n=Gn.length;var Jn=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},er=Jn("--"),tr=Jn("var(--"),nr=function(e,t){return t&&"number"===typeof e?t.transform(e):e},rr=function(e,t,n){return Math.min(Math.max(n,e),t)},ir={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},ar=Ye(Ye({},ir),{},{transform:function(e){return rr(0,1,e)}}),or=Ye(Ye({},ir),{},{default:1}),sr=function(e){return Math.round(1e5*e)/1e5},ur=/(-)?([\d]*\.?[\d])+/g,cr=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lr=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fr(e){return"string"===typeof e}var hr=function(e){return{test:function(t){return fr(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},dr=hr("deg"),pr=hr("%"),vr=hr("px"),mr=hr("vh"),gr=hr("vw"),yr=Ye(Ye({},pr),{},{parse:function(e){return pr.parse(e)/100},transform:function(e){return pr.transform(100*e)}}),wr=Ye(Ye({},ir),{},{transform:Math.round}),br={borderWidth:vr,borderTopWidth:vr,borderRightWidth:vr,borderBottomWidth:vr,borderLeftWidth:vr,borderRadius:vr,radius:vr,borderTopLeftRadius:vr,borderTopRightRadius:vr,borderBottomRightRadius:vr,borderBottomLeftRadius:vr,width:vr,maxWidth:vr,height:vr,maxHeight:vr,size:vr,top:vr,right:vr,bottom:vr,left:vr,padding:vr,paddingTop:vr,paddingRight:vr,paddingBottom:vr,paddingLeft:vr,margin:vr,marginTop:vr,marginRight:vr,marginBottom:vr,marginLeft:vr,rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:or,scaleX:or,scaleY:or,scaleZ:or,skew:dr,skewX:dr,skewY:dr,distance:vr,translateX:vr,translateY:vr,translateZ:vr,x:vr,y:vr,z:vr,perspective:vr,transformPerspective:vr,opacity:ar,originX:yr,originY:yr,originZ:vr,zIndex:wr,fillOpacity:ar,strokeOpacity:ar,numOctaves:wr};function kr(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var f in t){var h=t[f];if(er(f))a[f]=h;else{var d=br[f],p=nr(h,d);if(Qn.has(f)){if(u=!0,o[f]=p,!l)continue;h!==(d.default||0)&&(l=!1)}else f.startsWith("origin")?(c=!0,s[f]=p):i[f]=p}}if(t.transform||(u||r?i.transform=function(e,t,n,r){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<$n;c++){var l=Gn[c];if(void 0!==e[l]){var f=Xn[l]||l;u+="".concat(f,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),r?u=r(e,n?"":u):s&&n&&(u="none"),u}(e.transform,n,l,r):i.transform&&(i.transform="none")),c){var v=s.originX,m=void 0===v?"50%":v,g=s.originY,y=void 0===g?"50%":g,w=s.originZ,b=void 0===w?0:w;i.transformOrigin="".concat(m," ").concat(y," ").concat(b)}}var _r=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function xr(e,t,n){for(var r in t)Zn(t[r])||Yn(r,n)||(e[r]=t[r])}function Er(e,t,n){var i={};return xr(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e=_r();return kr(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function Cr(e,t,n){var r={},i=Er(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var Sr=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Tr(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||Sr.has(e)}var Ir,Ar=function(e){return!Tr(e)};try{(Ir=require("@emotion/is-prop-valid").default)&&(Ar=function(e){return e.startsWith("on")?!Tr(e):Ir(e)})}catch(oL){}function Nr(e,t,n){return"string"===typeof e?e:vr.transform(t+n*e)}var Pr={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dr={offset:"strokeDashoffset",array:"strokeDasharray"};var Or=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Rr(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,f=t.pathSpacing,h=void 0===f?1:f,d=t.pathOffset,p=void 0===d?0:d;if(kr(e,Xe(t,Or),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,m=e.style,g=e.dimensions;v.transform&&(g&&(m.transform=v.transform),delete v.transform),g&&(void 0!==u||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){var r=Nr(t,e.x,e.width),i=Nr(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(v.x=a),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?Pr:Dr;e[a.offset]=vr.transform(-r);var o=vr.transform(t),s=vr.transform(n);e[a.array]="".concat(o," ").concat(s)}(v,l,h,p,!1)}}var Lr=function(){return Ye(Ye({},_r()),{},{attrs:{}})},Mr=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Fr(e,t,n,i){var a=(0,r.useMemo)((function(){var n=Lr();return Rr(n,t,{enableHardwareAcceleration:!1},Mr(i),e.transformTemplate),Ye(Ye({},n.attrs),{},{style:Ye({},n.style)})}),[t]);if(e.style){var o={};xr(o,e.style,e),a.style=Ye(Ye({},o),a.style)}return a}function jr(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n,i,a,o){var s=a.latestValues,u=(Hn(t)?Fr:Cr)(n,s,o,t),c=function(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(Ar(i)||!0===n&&Tr(i)||!t&&!Tr(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),l=Ye(Ye(Ye({},c),u),{},{ref:i}),f=n.children,h=(0,r.useMemo)((function(){return Zn(f)?f.get():f}),[f]);return(0,r.createElement)(t,Ye(Ye({},l),{},{children:h}))}}var Vr=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Br(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var Ur=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qr(e,t,n,r){for(var i in Br(e,t,void 0,r),t.attrs)e.setAttribute(Ur.has(i)?i:Vr(i),t.attrs[i])}function zr(e,t){var n=e.style,r={};for(var i in n)(Zn(n[i])||t.style&&Zn(t.style[i])||Yn(i,e))&&(r[i]=n[i]);return r}function Wr(e,t){var n=zr(e,t);for(var r in e){if(Zn(e[r])||Zn(t[r]))n[-1!==Gn.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Hr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Kr=function(e){return Array.isArray(e)},Gr=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},Qr=function(e){return Kr(e)?e[e.length-1]||0:e};function Yr(e){var t=Zn(e)?e.get():e;return Gr(t)?t.toValue():t}var Zr=["transitionEnd","transition"];var Xr=function(e){return function(t,n){var i=(0,r.useContext)(bn),a=(0,r.useContext)(kn),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:$r(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,t,i,a)};return n?o():function(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)}};function $r(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=Yr(a[o]);var s=e.initial,u=e.animate,c=Nn(e),l=Pn(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!Tn(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=Hr(e,t);if(n){var r=n.transitionEnd,a=(n.transition,Xe(n,Zr));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var Jr={useVisualState:Xr({scrapeMotionValuesFromProps:Wr,createRenderState:Lr,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}Rr(r,i,{enableHardwareAcceleration:!1},Mr(t.tagName),e.transformTemplate),qr(t,r)}})},ei={useVisualState:Xr({scrapeMotionValuesFromProps:zr,createRenderState:_r})};function ti(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}var ni=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var ii=function(e){return function(t){return ni(t)&&e(t,ri(t))}};function ai(e,t,n,r){return ti(e,t,ii(n),r)}var oi=function(e,t){return function(n){return t(e(n))}},si=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(oi)};function ui(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var ci=ui("dragHorizontal"),li=ui("dragVertical");function fi(e){var t=!1;if("y"===e)t=li();else if("x"===e)t=ci();else{var n=ci(),r=li();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function hi(){var e=fi(!0);return!e||(e(),!1)}var di=function(){function e(t){h(this,e),this.isMounted=!1,this.node=t}return m(e,[{key:"update",value:function(){}}]),e}();var pi={delta:0,timestamp:0,isProcessing:!1},vi=!0,mi=!1,gi=["read","update","preRender","render","postRender"],yi=gi.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return mi=!0})),e}),{}),wi=function(e){return yi[e].process(pi)},bi=function e(t){mi=!1,pi.delta=vi?1e3/60:Math.max(Math.min(t-pi.timestamp,40),1),pi.timestamp=t,pi.isProcessing=!0,gi.forEach(wi),pi.isProcessing=!1,mi&&(vi=!1,requestAnimationFrame(e))},ki=gi.reduce((function(e,t){var n=yi[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return mi||(mi=!0,vi=!0,pi.isProcessing||requestAnimationFrame(bi)),n.schedule(e,t,r)},e}),{});function _i(e){gi.forEach((function(t){return yi[t].cancel(e)}))}function xi(e,t){var n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ai(e.current,n,(function(n,i){if("touch"!==n.type&&!hi()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ki.update((function(){return a[r](n,i)}))}}),{passive:!e.getProps()[r]})}var Ei=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"mount",value:function(){this.unmount=si(xi(this.node,!0),xi(this.node,!1))}},{key:"unmount",value:function(){}}]),n}(di),Ci=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).isActive=!1,e}return m(n,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=si(ti(this.node.current,"focus",(function(){return e.onFocus()})),ti(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),n}(di),Si=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))},Ti=function(e){return e};function Ii(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,ri(n))}}var Ai=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).removeStartListeners=Ti,e.removeEndListeners=Ti,e.removeAccessibleListeners=Ti,e.startPointerPress=function(t,n){if(e.removeEndListeners(),!e.isPressing){var r=e.node.getProps(),i=ai(window,"pointerup",(function(t,n){if(e.checkPressEnd()){var r=e.node.getProps(),i=r.onTap,a=r.onTapCancel;ki.update((function(){Si(e.node.current,t.target)?i&&i(t,n):a&&a(t,n)}))}}),{passive:!(r.onTap||r.onPointerUp)}),a=ai(window,"pointercancel",(function(t,n){return e.cancelPress(t,n)}),{passive:!(r.onTapCancel||r.onPointerCancel)});e.removeEndListeners=si(i,a),e.startPress(t,n)}},e.startAccessiblePress=function(){var t=ti(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=ti(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&Ii("up",(function(t,n){var r=e.node.getProps().onTap;r&&ki.update((function(){return r(t,n)}))}))})),Ii("down",(function(t,n){e.startPress(t,n)}))}})),n=ti(e.node.current,"blur",(function(){e.isPressing&&Ii("cancel",(function(t,n){return e.cancelPress(t,n)}))}));e.removeAccessibleListeners=si(t,n)},e}return m(n,[{key:"startPress",value:function(e,t){this.isPressing=!0;var n=this.node.getProps(),r=n.onTapStart;n.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ki.update((function(){return r(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hi()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var n=this.node.getProps().onTapCancel;n&&ki.update((function(){return n(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=ai(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ti(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=si(t,n)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),n}(di),Ni=["root"],Pi=new WeakMap,Di=new WeakMap,Oi=function(e){var t=Pi.get(e.target);t&&t(e)},Ri=function(e){e.forEach(Oi)};function Li(e,t,n){var r=function(e){var t=e.root,n=Xe(e,Ni),r=t||document;Di.has(r)||Di.set(r,{});var i=Di.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(Ri,Ye({root:t},n))),i[a]}(t);return Pi.set(e,n),r.observe(e),function(){Pi.delete(e),r.unobserve(e)}}var Mi={some:0,all:1},Fi=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return m(n,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,n=void 0===t?{}:t,r=n.root,i=n.margin,a=n.amount,o=void 0===a?"some":a,s=n.once,u={root:r?r.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:Mi[o]};return Li(this.node.current,u,(function(t){var n=t.isIntersecting;if(e.isInView!==n&&(e.isInView=n,!s||n||!e.hasEnteredView)){n&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",n);var r=e.node.getProps(),i=r.onViewportEnter,a=r.onViewportLeave,o=n?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,n=e.prevProps,r=["amount","margin","root"].some(function(e){var t=e.viewport,n=void 0===t?{}:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.viewport,a=void 0===i?{}:i;return function(e){return n[e]!==a[e]}}(t,n));r&&this.startObserver()}}},{key:"unmount",value:function(){}}]),n}(di);var ji={inView:{Feature:Fi},tap:{Feature:Ai},focus:{Feature:Ci},hover:{Feature:Ei}};function Vi(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Bi(e,t,n){var r=e.getProps();return Hr(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Ui="data-"+Vr("framerAppearId"),qi=Ti,zi=Ti;var Wi=function(e){return 1e3*e},Hi=function(e){return e/1e3},Ki=!1,Gi=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function Qi(e){return Boolean(!e||"string"===typeof e&&Zi[e]||Gi(e)||Array.isArray(e)&&e.every(Qi))}var Yi=function(e){var t=c(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},Zi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yi([0,.65,.55,1]),circOut:Yi([.55,0,1,.45]),backIn:Yi([.31,.01,.66,-.59]),backOut:Yi([.33,1.53,.69,.99])};function Xi(e){if(e)return Gi(e)?Yi(e):Array.isArray(e)?e.map(Xi):Zi[e]}var $i={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},Ji={},ea={},ta=function(e){ea[e]=function(){return void 0===Ji[e]&&(Ji[e]=$i[e]()),Ji[e]}};for(var na in $i)ta(na);var ra=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e},ia=1e-7,aa=12;function oa(e,t,n,r){if(e===t&&n===r)return Ti;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=ra(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>ia&&++s<aa);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:ra(i(e),t,r)}}var sa=oa(.42,0,1,1),ua=oa(0,0,.58,1),ca=oa(.42,0,.58,1),la=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},fa=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},ha=function(e){return function(t){return 1-e(1-t)}},da=function(e){return 1-Math.sin(Math.acos(e))},pa=ha(da),va=fa(pa),ma=oa(.33,1.53,.69,.99),ga=ha(ma),ya=fa(ga),wa={linear:Ti,easeIn:sa,easeInOut:ca,easeOut:ua,circIn:da,circInOut:va,circOut:pa,backIn:ga,backInOut:ya,backOut:ma,anticipate:function(e){return(e*=2)<1?.5*ga(e):.5*(2-Math.pow(2,-10*(e-1)))}},ba=function(e){if(Array.isArray(e)){zi(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=c(e,4);return oa(t[0],t[1],t[2],t[3])}return"string"===typeof e?(zi(void 0!==wa[e],"Invalid easing type '".concat(e,"'")),wa[e]):e},ka=function(e,t){return function(n){return Boolean(fr(n)&&lr.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},_a=function(e,t,n){return function(r){var i;if(!fr(r))return r;var a=c(r.match(ur),4),o=a[0],s=a[1],u=a[2],l=a[3];return Ge(i={},e,parseFloat(o)),Ge(i,t,parseFloat(s)),Ge(i,n,parseFloat(u)),Ge(i,"alpha",void 0!==l?parseFloat(l):1),i}},xa=Ye(Ye({},ir),{},{transform:function(e){return Math.round(function(e){return rr(0,255,e)}(e))}}),Ea={test:ka("rgb","red"),parse:_a("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+xa.transform(t)+", "+xa.transform(n)+", "+xa.transform(r)+", "+sr(ar.transform(a))+")"}};var Ca={test:ka("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ea.transform},Sa={test:ka("hsl","hue"),parse:_a("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+pr.transform(sr(n))+", "+pr.transform(sr(r))+", "+sr(ar.transform(a))+")"}},Ta={test:function(e){return Ea.test(e)||Ca.test(e)||Sa.test(e)},parse:function(e){return Ea.test(e)?Ea.parse(e):Sa.test(e)?Sa.parse(e):Ca.parse(e)},transform:function(e){return fr(e)?e:e.hasOwnProperty("red")?Ea.transform(e):Sa.transform(e)}},Ia=function(e,t,n){return-n*e+n*t+e};function Aa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var Na=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Pa=[Ca,Ea,Sa];function Da(e){var t=function(e){return Pa.find((function(t){return t.test(e)}))}(e);zi(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var n=t.parse(e);return t===Sa&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=Aa(c,u,t+1/3),o=Aa(c,u,t),s=Aa(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var Oa=function(e,t){var n=Da(e),r=Da(t),i=Ye({},n);return function(e){return i.red=Na(n.red,r.red,e),i.green=Na(n.green,r.green,e),i.blue=Na(n.blue,r.blue,e),i.alpha=Ia(n.alpha,r.alpha,e),Ea.transform(i)}};var Ra={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Ti},La={regex:cr,countKey:"Colors",token:"${c}",parse:Ta.parse},Ma={regex:ur,countKey:"Numbers",token:"${n}",parse:ir.parse};function Fa(e,t){var n,r=t.regex,i=t.countKey,a=t.token,o=t.parse,s=e.tokenised.match(r);s&&(e["num"+i]=s.length,e.tokenised=e.tokenised.replace(r,a),(n=e.values).push.apply(n,f(s.map(o))))}function ja(e){var t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fa(n,Ra),Fa(n,La),Fa(n,Ma),n}function Va(e){return ja(e).values}function Ba(e){var t=ja(e),n=t.values,r=t.numColors,i=t.numVars,a=t.tokenised,o=n.length;return function(e){for(var t=a,n=0;n<o;n++)t=n<i?t.replace(Ra.token,e[n]):n<i+r?t.replace(La.token,Ta.transform(e[n])):t.replace(Ma.token,sr(e[n]));return t}}var Ua=function(e){return"number"===typeof e?0:e};var qa={test:function(e){var t,n;return isNaN(e)&&fr(e)&&((null===(t=e.match(ur))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(cr))||void 0===n?void 0:n.length)||0)>0},parse:Va,createTransformer:Ba,getAnimatableNone:function(e){var t=Va(e);return Ba(e)(t.map(Ua))}},za=function(e,t){return function(n){return"".concat(n>0?t:e)}};function Wa(e,t){return"number"===typeof e?function(n){return Ia(e,t,n)}:Ta.test(e)?Oa(e,t):e.startsWith("var(")?za(e,t):Ga(e,t)}var Ha=function(e,t){var n=f(e),r=n.length,i=e.map((function(e,n){return Wa(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Ka=function(e,t){var n=Ye(Ye({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Wa(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},Ga=function(e,t){var n=qa.createTransformer(t),r=ja(e),i=ja(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?si(Ha(r.values,i.values),n):(qi(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),za(e,t))},Qa=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Ya=function(e,t){return function(n){return Ia(e,t,n)}};function Za(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Ya:"string"===typeof e?Ta.test(e)?Oa:Ga:Array.isArray(e)?Ha:"object"===typeof e?Ka:Ya}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||Ti:t;s=si(u,s)}r.push(s)}return r}function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;if(zi(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=f(e).reverse(),t=f(t).reverse());var u=Za(t,a,o),c=u.length,l=function(t){var n=0;if(c>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=Qa(e[n],e[n+1],t);return u[n](r)};return i?function(t){return l(rr(e[0],e[s-1],t))}:l}function $a(e){var t=[0];return function(e,t){for(var n=e[e.length-1],r=1;r<=t;r++){var i=Qa(0,t,r);e.push(Ia(n,1,i))}}(t,e.length-1),t}function Ja(e){var t,n,r=e.duration,i=void 0===r?300:r,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=la(u)?u.map(ba):ba(u),l={done:!1,value:a[0]},f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:$a(a),i),h=Xa(f,a,{ease:Array.isArray(c)?c:(t=a,n=c,t.map((function(){return n||ca})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=h(e),l.done=e>=i,l}}}function eo(e,t){return t?e*(1e3/t):0}var to=5;function no(e,t,n){var r=Math.max(t-to,0);return eo(n-e(r),t-r)}var ro=.001,io=.01,ao=10,oo=.05,so=1;function uo(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;qi(i<=Wi(ao),"Spring duration must be 10 seconds or less");var f=1-o;f=rr(oo,so,f),i=rr(io,ao,Hi(i)),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=lo(e,f),o=Math.exp(-n);return ro-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=lo(Math.pow(e,2),f);return(-t(e)+ro>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-ro},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<co;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i=Wi(i),isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}var co=12;function lo(e,t){return e*Math.sqrt(1-t*t)}var fo=["keyframes","restDelta","restSpeed"],ho=["duration","bounce"],po=["stiffness","damping","mass"];function vo(e,t){return t.some((function(t){return void 0!==e[t]}))}function mo(e){var t,n=e.keyframes,r=e.restDelta,i=e.restSpeed,a=Xe(e,fo),o=n[0],s=n[n.length-1],u={done:!1,value:o},c=function(e){var t=Ye({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!vo(e,po)&&vo(e,ho)){var n=uo(e);(t=Ye(Ye(Ye({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),l=c.stiffness,f=c.damping,h=c.mass,d=c.velocity,p=c.duration,v=c.isResolvedFromDuration,m=d?-Hi(d):0,g=f/(2*Math.sqrt(l*h)),y=s-o,w=Hi(Math.sqrt(l/h)),b=Math.abs(y)<5;if(i||(i=b?.01:2),r||(r=b?.005:.5),g<1){var k=lo(w,g);t=function(e){var t=Math.exp(-g*w*e);return s-t*((m+g*w*y)/k*Math.sin(k*e)+y*Math.cos(k*e))}}else if(1===g)t=function(e){return s-Math.exp(-w*e)*(y+(m+w*y)*e)};else{var _=w*Math.sqrt(g*g-1);t=function(e){var t=Math.exp(-g*w*e),n=Math.min(_*e,300);return s-t*((m+g*w*y)*Math.sinh(n)+_*y*Math.cosh(n))/_}}return{calculatedDuration:v&&p||null,next:function(e){var n=t(e);if(v)u.done=e>=p;else{var a=m;0!==e&&(a=g<1?no(t,e,n):0);var o=Math.abs(a)<=i,c=Math.abs(s-n)<=r;u.done=o&&c}return u.value=u.done?s:n,u}}}function go(e){var t=e.keyframes,n=e.velocity,r=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,f=void 0===l?500:l,h=e.modifyTarget,d=e.min,p=e.max,v=e.restDelta,m=void 0===v?.5:v,g=e.restSpeed,y=t[0],w={done:!1,value:y},b=function(e){return void 0===d?p:void 0===p||Math.abs(d-e)<Math.abs(p-e)?d:p},k=a*r,_=y+k,x=void 0===h?_:h(_);x!==_&&(k=x-y);var E,C,S=function(e){return-k*Math.exp(-e/s)},T=function(e){return x+S(e)},I=function(e){var t=S(e),n=T(e);w.done=Math.abs(t)<=m,w.value=w.done?x:n},A=function(e){(function(e){return void 0!==d&&e<d||void 0!==p&&e>p})(w.value)&&(E=e,C=mo({keyframes:[w.value,b(w.value)],velocity:no(T,e,w.value),damping:c,stiffness:f,restDelta:m,restSpeed:g}))};return A(0),{calculatedDuration:null,next:function(e){var t=!1;return C||void 0!==E||(t=!0,I(e),A(e)),void 0!==E&&e>E?C.next(e-E):(!t&&I(e),w)}}}var yo=function(e){var t=function(t){var n=t.timestamp;return e(n)};return{start:function(){return ki.update(t,!0)},stop:function(){return _i(t)},now:function(){return pi.isProcessing?pi.timestamp:performance.now()}}},wo=2e4;function bo(e){for(var t=0,n=e.next(t);!n.done&&t<wo;)t+=50,n=e.next(t);return t>=wo?1/0:t}var ko=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],_o={decay:go,inertia:go,tween:Ja,keyframes:Ja,spring:mo};function xo(e){var t,n,r,i=e.autoplay,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,u=e.driver,c=void 0===u?yo:u,l=e.keyframes,h=e.type,d=void 0===h?"keyframes":h,p=e.repeat,v=void 0===p?0:p,m=e.repeatDelay,g=void 0===m?0:m,y=e.repeatType,w=void 0===y?"loop":y,b=e.onPlay,k=e.onStop,_=e.onComplete,x=e.onUpdate,E=Xe(e,ko),C=1,S=!1,T=function(){t&&t(),n=new Promise((function(e){t=e}))};T();var I,A=_o[d]||Ja;A!==Ja&&"number"!==typeof l[0]&&(I=Xa([0,100],l,{clamp:!1}),l=[0,100]);var N,P=A(Ye(Ye({},E),{},{keyframes:l}));"mirror"===w&&(N=A(Ye(Ye({},E),{},{keyframes:f(l).reverse(),velocity:-(E.velocity||0)})));var D="idle",O=null,R=null,L=null;null===P.calculatedDuration&&v&&(P.calculatedDuration=bo(P));var M=P.calculatedDuration,F=1/0,j=1/0;null!==M&&(j=(F=M+g)*(v+1)-g);var V=0,B=function(e){if(null!==R){C>0&&(R=Math.min(R,e));var t=(V=null!==O?O:(e-R)*C)-s,n=t<0;V=Math.max(t,0),"finished"===D&&null===O&&(V=j);var r=V,i=P;if(v){var a=V/F,o=Math.floor(a),u=a%1;!u&&a>=1&&(u=1),1===u&&o--,o=Math.min(o,v+1);var c=Boolean(o%2);c&&("reverse"===w?(u=1-u,g&&(u-=g/F)):"mirror"===w&&(i=N));var f=rr(0,1,u);V>j&&(f="reverse"===w&&c?1:0),r=f*F}var h=n?{done:!1,value:l[0]}:i.next(r);I&&(h.value=I(h.value));var d=h.done;n||null===M||(d=V>=j);var p=null===O&&("finished"===D||"running"===D&&d||C<0&&V<=0);return x&&x(h.value),p&&z(),h}},U=function(){r&&r.stop(),r=void 0},q=function(){D="idle",U(),T(),R=L=null},z=function(){D="finished",_&&_(),U(),T()},W=function(){if(!S){r||(r=c(B));var e=r.now();b&&b(),null!==O?R=e-O:R&&"finished"!==D||(R=e),L=R,O=null,D="running",r.start()}};a&&W();var H={then:function(e,t){return n.then(e,t)},get time(){return Hi(V)},set time(e){e=Wi(e),V=e,null===O&&r&&0!==C?R=r.now()-e/C:O=e},get duration(){var e=null===P.calculatedDuration?bo(P):P.calculatedDuration;return Hi(e)},get speed(){return C},set speed(e){e!==C&&r&&(C=e,H.time=Hi(V))},get state(){return D},play:W,pause:function(){D="paused",O=V},stop:function(){S=!0,"idle"!==D&&(D="idle",k&&k(),q())},cancel:function(){null!==L&&B(L),q()},complete:function(){D="finished"},sample:function(e){return R=0,B(e)}};return H}var Eo=["onUpdate","onComplete"],Co=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function So(e,t,n){n.onUpdate;var r=n.onComplete,i=Xe(n,Eo);if(!(ea.waapi()&&Co.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,o,s=!1,u=function(){o=new Promise((function(e){a=e}))};u();var c=i.keyframes,l=i.duration,f=void 0===l?300:l,h=i.ease,d=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!Qi(t.ease)}(t,i)){for(var p=xo(Ye(Ye({},i),{},{repeat:0,delay:0})),v={done:!1,value:c[0]},m=[],g=0;!v.done&&g<2e4;)v=p.sample(g),m.push(v.value),g+=10;d=void 0,c=m,f=g-10,h="linear"}var y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.delay,a=void 0===i?0:i,o=r.duration,s=r.repeat,u=void 0===s?0:s,c=r.repeatType,l=void 0===c?"loop":c,f=r.ease,h=r.times,d=Ge({},t,n);h&&(d.offset=h);var p=Xi(f);return Array.isArray(p)&&(d.easing=p),e.animate(d,{delay:a,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:"reverse"===l?"alternate":"normal"})}(e.owner.current,t,c,Ye(Ye({},i),{},{duration:f,ease:h,times:d})),w=function(){return y.cancel()},b=function(){ki.update(w),a(),u()};return y.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(c,i)),r&&r(),b()},{then:function(e,t){return o.then(e,t)},get time(){return Hi(y.currentTime||0)},set time(e){y.currentTime=Wi(e)},get speed(){return y.playbackRate},set speed(e){y.playbackRate=e},get duration(){return Hi(f)},play:function(){s||(y.play(),_i(w))},pause:function(){return y.pause()},stop:function(){if(s=!0,"idle"!==y.playState){var t=y.currentTime;if(t){var n=xo(Ye(Ye({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}b()}},complete:function(){return y.finish()},cancel:b}}var To={type:"spring",stiffness:500,damping:25,restSpeed:10},Io={type:"keyframes",duration:.8},Ao={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},No=function(e,t){var n=t.keyframes;return n.length>2?Io:Qn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:To:Ao},Po=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!qa.test(t)&&"0"!==t||t.startsWith("url(")))},Do=new Set(["brightness","contrast","saturate","opacity"]);function Oo(e){var t=c(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=c(r.match(ur)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=Do.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var Ro=/([a-z-]*)\(.*?\)/g,Lo=Ye(Ye({},qa),{},{getAnimatableNone:function(e){var t=e.match(Ro);return t?t.map(Oo).join(" "):e}}),Mo=Ye(Ye({},br),{},{color:Ta,backgroundColor:Ta,outlineColor:Ta,fill:Ta,stroke:Ta,borderColor:Ta,borderTopColor:Ta,borderRightColor:Ta,borderBottomColor:Ta,borderLeftColor:Ta,filter:Lo,WebkitFilter:Lo}),Fo=function(e){return Mo[e]};function jo(e,t){var n=Fo(e);return n!==Lo&&(n=qa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Vo=function(e){return/^0[^.\s]+$/.test(e)};function Bo(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Vo(e):void 0}var Uo=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function qo(e,t){return e[t]||e.default||e}var zo=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=qo(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=Wi(o);var c=function(e,t,n,r){var i,a=Po(t,n);i=Array.isArray(n)?f(n):[null,n];for(var o=void 0!==r.from?r.from:e.get(),s=void 0,u=[],c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?o:i[c-1]),Bo(i[c])&&u.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(s=i[c]);if(a&&u.length&&s)for(var l=0;l<u.length;l++)i[u[l]]=jo(t,s);return i}(t,e,n,a),l=c[0],h=c[c.length-1],d=Po(e,l),p=Po(e,h);qi(d===p,"You are trying to animate ".concat(e,' from "').concat(l,'" to "').concat(h,'". ').concat(l," is not an animatable value - to enable this animation set ").concat(l," to a value animatable to ").concat(h," via the `style` property."));var v=Ye(Ye({keyframes:c,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-u,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=Xe(e,Uo);return!!Object.keys(t).length}(a)||(v=Ye(Ye({},v),No(e,v))),v.duration&&(v.duration=Wi(v.duration)),v.repeatDelay&&(v.repeatDelay=Wi(v.repeatDelay)),!d||!p||Ki||!1===a.type)return function(e){var t=e.keyframes,n=e.delay,r=e.onUpdate,i=e.onComplete,a=function(){return r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Ti,pause:Ti,stop:Ti,then:function(e){return e(),Promise.resolve()},cancel:Ti,complete:Ti}};return n?xo({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(v);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var m=So(t,e,v);if(m)return m}return xo(v)}};function Wo(e){return Boolean(Zn(e)&&e.add)}var Ho=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Ko(e,t){-1===e.indexOf(t)&&e.push(t)}function Go(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Qo=function(){function e(){h(this,e),this.subscriptions=[]}return m(e,[{key:"add",value:function(e){var t=this;return Ko(this.subscriptions,e),function(){return Go(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Yo=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.version="10.12.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=pi.delta,i=pi.timestamp;r.lastUpdated!==i&&(r.timeDelta=n,r.lastUpdated=i,ki.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.events.change&&r.events.change.notify(r.current),r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()),t&&r.events.renderRequest&&r.events.renderRequest.notify(r.current)},this.scheduleVelocityCheck=function(){return ki.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.events.velocityChange&&r.events.velocityChange.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=i.owner}return m(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new Qo);var r=this.events[e].add(t);return"change"===e?function(){r(),ki.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?eo(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function Zo(e,t){return new Yo(e,t)}var Xo=function(e){return function(t){return t.test(e)}},$o=[ir,vr,pr,dr,gr,mr,{test:function(e){return"auto"===e},parse:function(e){return e}}],Jo=function(e){return $o.find(Xo(e))},es=[].concat(f($o),[Ta,qa]),ts=function(e){return es.find(Xo(e))},ns=["transitionEnd","transition"];function rs(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zo(n))}function is(e,t){var n=Bi(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,Xe(r,ns));for(var s in o=Ye(Ye({},o),a)){rs(e,s,Qr(o[s]))}}function as(e,t){if(t)return(t[e]||t.default||t).from}var os=["transition","transitionEnd"];function ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.delay,i=void 0===r?0:r,a=n.transitionOverride,o=n.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,f=Xe(s,os),h=e.getValue("willChange");a&&(c=a);var d=[],p=o&&e.animationState&&e.animationState.getState()[o],v=function(t){var n=e.getValue(t),r=f[t];if(!n||void 0===r||p&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}(p,t))return"continue";var a=Ye({delay:i,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[Ui];o&&(a.elapsed=window.HandoffAppearAnimations(o,t,n,ki))}n.start(zo(t,n,r,e.shouldReduceMotion&&Qn.has(t)?{type:!1}:a));var s=n.animation;Wo(h)&&(h.add(t),s.then((function(){return h.remove(t)}))),d.push(s)};for(var m in f)v(m);return l&&Promise.all(d).then((function(){l&&is(e,l)})),d}function us(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Bi(e,t,n.custom),i=(r||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var o=r?function(){return Promise.all(ss(e,r,n))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(cs).forEach((function(e,r){e.notify("AnimationStart",t),o.push(us(e,t,Ye(Ye({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+r,u,c,n)}:function(){return Promise.resolve()},u=a.when;if(u){var l=c("beforeChildren"===u?[o,s]:[s,o],2),f=l[0],h=l[1];return f().then((function(){return h()}))}return Promise.all([o(),s(n.delay)])}function cs(e,t){return e.sortNodePosition(t)}var ls=["transition","transitionEnd"],fs=f(In).reverse(),hs=In.length;function ds(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return us(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=us(e,t,r);else{var a="function"===typeof t?Bi(e,t,r.custom):t;n=Promise.all(ss(e,a,r))}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function ps(e){var t=ds(e),n={animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()},r=!0,i=function(t,n){var r=Bi(e,n);if(r){r.transition;var i=r.transitionEnd,a=Xe(r,ls);t=Ye(Ye(Ye({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},c=[],l=new Set,h={},d=1/0,p=function(){var t=fs[v],p=n[t],m=void 0!==s[t]?s[t]:u[t],g=Sn(m),y=t===o?p.isActive:null;!1===y&&(d=v);var w=m===u[t]&&m!==s[t]&&g;if(w&&r&&e.manuallyAnimateOnMount&&(w=!1),p.protectedKeys=Ye({},h),!p.isActive&&null===y||!m&&!p.prevProp||Tn(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!Vi(t,e);return!1}(p.prevProp,m),k=b||t===o&&p.isActive&&!w&&g||v>d&&g,_=Array.isArray(m)?m:[m],x=_.reduce(i,{});!1===y&&(x={});var E=p.prevResolvedValues,C=void 0===E?{}:E,S=Ye(Ye({},C),x),T=function(e){k=!0,l.delete(e),p.needsAnimating[e]=!0};for(var I in S){var A=x[I],N=C[I];h.hasOwnProperty(I)||(A!==N?Kr(A)&&Kr(N)?!Vi(A,N)||b?T(I):p.protectedKeys[I]=!0:void 0!==A?T(I):l.add(I):void 0!==A&&l.has(I)?T(I):p.protectedKeys[I]=!0)}p.prevProp=m,p.prevResolvedValues=x,p.isActive&&(h=Ye(Ye({},h),x)),r&&e.blockInitialAnimation&&(k=!1),k&&!w&&c.push.apply(c,f(_.map((function(e){return{animation:e,options:Ye({type:t},a)}}))))},v=0;v<hs;v++)p();if(l.size){var m={};l.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(m[t]=n)})),c.push({animation:m})}var g=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function vs(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var ms=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),r=t.call(this,e),e.animationState||(e.animationState=ps(e)),r}return m(n,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),Tn(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),n}(di),gs=0,ys=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).id=gs++,e}return m(n,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,n=t.isPresent,r=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&n!==a){var o=this.node.animationState.setActive("exit",!n,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});r&&!n&&o.then((function(){return r(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),n}(di),ws={animation:{Feature:ms},exit:{Feature:ys}},bs=function(e,t){return Math.abs(e-t)};var ks=function(){function e(t,n){var r=this,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transformPagePoint;if(h(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Es(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=function(e,t){var n=bs(e.x,t.x),r=bs(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=pi.timestamp;r.history.push(Ye(Ye({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=_s(t,r.transformPagePoint),ki.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=Es("pointercancel"===e.type?r.lastMoveEventInfo:_s(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},ni(t)){this.handlers=n,this.transformPagePoint=i;var a=_s(ri(t),this.transformPagePoint),o=a.point,s=pi.timestamp;this.history=[Ye(Ye({},o),{},{timestamp:s})];var u=n.onSessionStart;u&&u(t,Es(a,this.history)),this.removeListeners=si(ai(window,"pointermove",this.handlePointerMove),ai(window,"pointerup",this.handlePointerUp),ai(window,"pointercancel",this.handlePointerUp))}}return m(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}]),e}();function _s(e,t){return t?{point:t(e.point)}:e}function xs(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Es(e,t){var n=e.point;return{point:n,delta:xs(n,Ss(t)),offset:xs(n,Cs(t)),velocity:Ts(t,.1)}}function Cs(e){return e[0]}function Ss(e){return e[e.length-1]}function Ts(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Ss(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Wi(t)));)n--;if(!r)return{x:0,y:0};var a=Hi(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Is(e){return e.max-e.min}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Ns(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Ia(t.min,t.max,e.origin),e.scale=Is(n)/Is(t),(As(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ia(n.min,n.max,e.origin)-e.originPoint,(As(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ps(e,t,n,r){Ns(e.x,t.x,n.x,r?r.originX:void 0),Ns(e.y,t.y,n.y,r?r.originY:void 0)}function Ds(e,t,n){e.min=n.min+t.min,e.max=e.min+Is(t)}function Os(e,t,n){e.min=t.min-n.min,e.max=e.min+Is(t)}function Rs(e,t,n){Os(e.x,t.x,n.x),Os(e.y,t.y,n.y)}function Ls(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ms(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Fs=.35;function js(e,t,n){return{min:Vs(e,t),max:Vs(e,n)}}function Vs(e,t){return"number"===typeof e?e:e[t]||0}var Bs=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},Us=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function qs(e){return[e("x"),e("y")]}function zs(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Ws(e){return void 0===e||1===e}function Hs(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Ws(t)||!Ws(n)||!Ws(r)}function Ks(e){return Hs(e)||Gs(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Gs(e){return Qs(e.x)||Qs(e.y)}function Qs(e){return e&&"0%"!==e}function Ys(e,t,n){return n+t*(e-n)}function Zs(e,t,n,r,i){return void 0!==i&&(e=Ys(e,i,r)),Ys(e,n,r)+t}function Xs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Zs(e.min,t,n,r,i),e.max=Zs(e.max,t,n,r,i)}function $s(e,t){var n=t.x,r=t.y;Xs(e.x,n.translate,n.scale,n.originPoint),Xs(e.y,r.translate,r.scale,r.originPoint)}function Js(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function eu(e,t){e.min=e.min+t,e.max=e.max+t}function tu(e,t,n){var r=c(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=Ia(e.min,e.max,s);Xs(e,t[i],t[a],u,t.scale)}var nu=["x","scaleX","originX"],ru=["y","scaleY","originY"];function iu(e,t){tu(e.x,t,nu),tu(e.y,t,ru)}function au(e,t){return zs(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var ou=new WeakMap,su=function(){function e(t){h(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Us(),this.visualElement=t}return m(e,[{key:"start",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,r=void 0!==n&&n,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){this.panSession=new ks(e,{onSessionStart:function(e){t.stopAnimation(),r&&t.snapToCursor(ri(e,"page").point)},onStart:function(e,n){var r=t.getProps(),i=r.drag,a=r.dragPropagation,o=r.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=fi(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),qs((function(e){var n=t.getAxisMotionValue(e).get()||0;if(pr.test(n)){var r=t.visualElement.projection;if(r&&r.layout){var i=r.layout.layoutBox[e];if(i)n=Is(i)*(parseFloat(n)/100)}}t.originPoint[e]=n})),o&&ki.update((function(){return o(e,n)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),s&&s(e,n)}},onSessionEnd:function(e,n){return t.stop(e,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;i&&ki.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,n=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&uu(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Ia(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Ia(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&Cn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:Ls(e.x,r,a),y:Ls(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fs;return!1===e?e=0:!0===e&&(e=Fs),{x:js(e,"left","right"),y:js(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qs((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Cn(t))return!1;var r=t.current;zi(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=au(e,n),i=t.scroll;return i&&(eu(r.x,i.offset.x),eu(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Ms(e.x,t.x),y:Ms(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=zs(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=qs((function(n){if(uu(n,r,t.currentDirection)){var u=c&&c[n]||{};s&&(u={min:0,max:0});var l=a?200:1e6,f=a?40:1e7,h=Ye(Ye({type:"inertia",velocity:i?e[n]:0,bounceStiffness:l,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,h)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(zo(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;qs((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;qs((function(n){if(uu(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-Ia(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),n=t.drag,r=t.dragConstraints,i=this.visualElement.projection;if(Cn(r)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};qs((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();a[t]=function(e,t){var n=.5,r=Is(e),i=Is(t);return i>r?n=Qa(t.min,t.max-r,e.min):r>i&&(n=Qa(e.min,e.max-i,t.min)),rr(0,1,n)}({min:r,max:r},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qs((function(t){if(uu(t,n,null)){var r=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;r.set(Ia(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){ou.set(this.visualElement,this);var t=ai(this.visualElement.current,"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),n=function(){Cn(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},r=this.visualElement.projection,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();var a=ti(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=r.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(qs((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?Fs:c,f=e.dragMomentum,h=void 0===f||f;return Ye(Ye({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})}}]),e}();function uu(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var cu=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).removeGroupControls=Ti,r.removeListeners=Ti,r.controls=new su(e),r}return m(n,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),n}(di),lu=function(e){return function(t,n){e&&ki.update((function(){return e(t,n)}))}},fu=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).removePointerDownListener=Ti,e}return m(n,[{key:"onPointerDown",value:function(e){this.session=new ks(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),n=t.onPanSessionStart,r=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:lu(n),onStart:lu(r),onMove:i,onEnd:function(t,n){delete e.session,a&&ki.update((function(){return a(t,n)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=ai(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),n}(di);var hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function du(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var pu={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!vr.test(e))return e;e=parseFloat(e)}var n=du(e,t.target.x),r=du(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},vu={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=qa.parse(e);if(a.length>5)return i;var o=qa.createTransformer(e),s="number"!==typeof a[0]?1:0,u=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=u,a[1+s]/=c;var l=Ia(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},mu=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=yu,Object.assign(Kn,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Ye(Ye({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),hu.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||ki.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),queueMicrotask((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),n}(r.Component);function gu(e){var t=function(){var e=(0,r.useContext)(kn);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,a=(0,r.useId)();return(0,r.useEffect)((function(){return i(a)}),[]),!t&&n?[!1,function(){return n&&n(a)}]:[!0]}(),n=c(t,2),i=n[0],a=n[1],o=(0,r.useContext)(jn);return r.createElement(mu,Ye(Ye({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(Vn),isPresent:i,safeToRemove:a}))}var yu={borderRadius:Ye(Ye({},pu),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:vu},wu=["TopLeft","TopRight","BottomLeft","BottomRight"],bu=wu.length,ku=function(e){return"string"===typeof e?parseFloat(e):e},_u=function(e){return"number"===typeof e||vr.test(e)};function xu(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var Eu=Su(0,.5,pa),Cu=Su(.5,.95,Ti);function Su(e,t,n){return function(r){return r<e?0:r>t?1:n(Qa(e,t,r))}}function Tu(e,t){e.min=t.min,e.max=t.max}function Iu(e,t){Tu(e.x,t.x),Tu(e.y,t.y)}function Au(e,t,n,r,i){return e=Ys(e-=t,1/n,r),void 0!==i&&(e=Ys(e,1/i,r)),e}function Nu(e,t,n,r,i){var a=c(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(pr.test(t)&&(t=parseFloat(t),t=Ia(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=Ia(a.min,a.max,r);e===a&&(s-=t),e.min=Au(e.min,t,n,s,i),e.max=Au(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var Pu=["x","scaleX","originX"],Du=["y","scaleY","originY"];function Ou(e,t,n,r){Nu(e.x,t,Pu,n?n.x:void 0,r?r.x:void 0),Nu(e.y,t,Du,n?n.y:void 0,r?r.y:void 0)}function Ru(e){return 0===e.translate&&1===e.scale}function Lu(e){return Ru(e.x)&&Ru(e.y)}function Mu(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Fu(e){return Is(e.x)/Is(e.y)}var ju=function(){function e(){h(this,e),this.members=[]}return m(e,[{key:"add",value:function(e){Ko(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Go(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,n=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function Vu(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(r+="scale(".concat(c,", ").concat(l,")")),r||"none"}var Bu=function(e,t){return e.depth-t.depth},Uu=function(){function e(){h(this,e),this.children=[],this.isDirty=!1}return m(e,[{key:"add",value:function(e){Ko(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Go(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(Bu),this.isDirty=!1,this.children.forEach(e)}}]),e}();var qu=["","X","Y","Z"],zu=0,Wu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Hu(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();h(this,e),this.id=zu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){Wu.totalNodes=Wu.resolvedTargetDeltas=Wu.recalculatedProjection=0,t.nodes.forEach(Qu),t.nodes.forEach(tc),t.nodes.forEach(nc),t.nodes.forEach(Yu),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Wu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=i?i.root||i:this,this.path=i?[].concat(f(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uu)}return m(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Qo),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return n.root.updateBlockedByResize=!1};t(e,(function(){n.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(_i(r),e(a-t))};return ki.read(r,!0),function(){return _i(r)}}(l,250),hu.hasAnimatedSinceResize&&(hu.hasAnimatedSinceResize=!1,n.nodes.forEach(ec))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,r=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(n.isTreeAnimationBlocked())return n.target=void 0,void(n.relativeTarget=void 0);var o=n.options.transition||u.getDefaultTransition()||uc,s=u.getProps(),c=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,f=!n.targetLayout||!Mu(n.targetLayout,a)||i,h=!r&&i;if(n.options.layoutRoot||n.resumeFrom&&n.resumeFrom.instance||h||r&&(f||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(t,h);var d=Ye(Ye({},qo(o,"layout")),{},{onPlay:c,onComplete:l});(u.shouldReduceMotion||n.options.layoutRoot)&&(d.delay=0,d.type=!1),n.startAnimation(d)}else r||ec(n),n.isLead()&&n.options.onExitComplete&&n.options.onExitComplete();n.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_i(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rc),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var n=this.path[t];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}var r=this.options,i=r.layoutId,a=r.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Xu);this.isUpdating||this.nodes.forEach($u),this.isUpdating=!1,this.nodes.forEach(Ju),this.nodes.forEach(Ku),this.nodes.forEach(Gu),this.clearAllSnapshots();var e=performance.now();pi.delta=rr(0,1e3/60,e-pi.timestamp),pi.timestamp=e,pi.isProcessing=!0,yi.update.process(pi),yi.preRender.process(pi),yi.render.process(pi),pi.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(Zu),this.sharedNodes.forEach(ic)}},{key:"scheduleUpdateProjection",value:function(){ki.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;ki.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Us(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var n=this.options.visualElement;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Lu(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Ks(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),cc((e=r).x),cc(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return Us();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(eu(t.x,n.offset.x),eu(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=Us();Iu(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){Iu(t,e);var o=this.root.scroll;o&&(eu(t.x,-o.offset.x),eu(t.y,-o.offset.y))}eu(t.x,i.offset.x),eu(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Us();Iu(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&iu(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Ks(i.latestValues)&&iu(n,i.latestValues)}return Ks(this.latestValues)&&iu(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t=Us();Iu(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n];if(r.instance&&Ks(r.latestValues)){Hs(r.latestValues)&&r.updateSnapshot();var i=Us();Iu(i,r.measurePageBox()),Ou(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}}return Ks(this.latestValues)&&Ou(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=Ye(Ye(Ye({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);var r=Boolean(this.resumingFrom)||this!==n;if(!!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=pi.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Rs(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),Iu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=Us(),this.targetWithTransforms=Us()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,Ds(u.x,c.x,l.x),Ds(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Iu(this.target,this.layout.layoutBox),$s(this.target,this.targetDelta)):Iu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target&&1!==this.animationProgress?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Rs(this.relativeTargetOrigin,this.target,f.target),Iu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wu.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Hs(this.parent.latestValues)&&!Gs(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===pi.timestamp&&(r=!1),!r){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){Iu(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=n[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&iu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,$s(e,o)),r&&Ks(a.latestValues)&&iu(e,a.latestValues))}t.x=Js(t.x),t.y=Js(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=Bs(),this.projectionDeltaWithTransform=Bs());var l=this.projectionTransform;Ps(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Vu(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Wu.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=Bs(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.snapshot,i=r?r.latestValues:{},a=Ye({},this.latestValues),o=Bs();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;var s,u=Us(),c=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),f=!l||l.members.length<=1,h=Boolean(c&&!f&&!0===this.options.crossfade&&!this.path.some(sc));this.animationProgress=0,this.mixTargetDelta=function(n){var r=n/1e3;ac(o.x,e.x,r),ac(o.y,e.y,r),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(Rs(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,n,r){oc(e.x,t.x,n.x,r),oc(e.y,t.y,n.y,r)}(t.relativeTarget,t.relativeTargetOrigin,u,r),s&&Mu(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=Us()),Iu(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,n,r,i,a){i?(e.opacity=Ia(0,void 0!==n.opacity?n.opacity:1,Eu(r)),e.opacityExit=Ia(void 0!==t.opacity?t.opacity:1,0,Cu(r))):a&&(e.opacity=Ia(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<bu;o++){var s="border".concat(wu[o],"Radius"),u=xu(t,s),c=xu(n,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||_u(u)===_u(c)?(e[s]=Math.max(Ia(ku(u),ku(c),r),0),(pr.test(c)||pr.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=Ia(t.rotate||0,n.rotate||0,r))}(a,i,t.latestValues,r,h,f)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ki.update((function(){hu.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,n){var r=Zn(e)?e:Zo(e);return r.start(zo("",r,t,n)),r.animation}(0,1e3,Ye(Ye({},e),{},{onUpdate:function(n){t.mixTargetDelta(n),e.onUpdate&&e.onUpdate(n)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&lc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Us();var a=Is(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=Is(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}Iu(t,n),iu(t,i),Ps(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ju),this.sharedNodes.get(e).add(t);var n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<qu.length;i++){var a="rotate"+qu[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Yr(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=Yr(n.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=Vu(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var f in r.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,Kn)if(void 0!==s[f]){var h=Kn[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,g=0;g<m;g++)r[p[g]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?Yr(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Xu),this.root.sharedNodes.clear()}}]),e}()}function Ku(e){e.updateLayout()}function Gu(e){var t,n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){var r=e.layout,i=r.layoutBox,a=r.measuredBox,o=e.options.animationType,s=n.source!==e.layout.source;"size"===o?qs((function(e){var t=s?n.measuredBox[e]:n.layoutBox[e],r=Is(t);t.min=i[e].min,t.max=t.min+r})):lc(o,n.layoutBox,i)&&qs((function(t){var r=s?n.measuredBox[t]:n.layoutBox[t],a=Is(i[t]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=Bs();Ps(u,i,n.layoutBox);var c=Bs();s?Ps(c,e.applyTransform(a,!0),n.measuredBox):Ps(c,i,n.layoutBox);var l=!Lu(u),f=!1;if(!e.resumeFrom){var h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){var d=h.snapshot,p=h.layout;if(d&&p){var v=Us();Rs(v,n.layoutBox,d.layoutBox);var m=Us();Rs(m,i,p.layoutBox),Mu(v,m)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:f})}else if(e.isLead()){var g=e.options.onExitComplete;g&&g()}e.options.transition=void 0}function Qu(e){Wu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zu(e){e.clearSnapshot()}function Xu(e){e.clearMeasurements()}function $u(e){e.isLayoutDirty=!1}function Ju(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ec(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tc(e){e.resolveTargetDelta()}function nc(e){e.calcProjection()}function rc(e){e.resetRotation()}function ic(e){e.removeLeadSnapshot()}function ac(e,t,n){e.translate=Ia(t.translate,0,n),e.scale=Ia(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oc(e,t,n,r){e.min=Ia(t.min,n.min,r),e.max=Ia(t.max,n.max,r)}function sc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var uc={duration:.45,ease:[.4,0,.1,1]};function cc(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function lc(e,t,n){return"position"===e||"preserve-aspect"===e&&!As(Fu(t),Fu(n),.2)}var fc=Hu({attachResizeListener:function(e,t){return ti(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),hc={current:void 0},dc=Hu({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!hc.current){var e=new fc({});e.mount(window),e.setOptions({layoutScroll:!0}),hc.current=e}return hc.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),pc={pan:{Feature:fu},drag:{Feature:cu,ProjectionNode:dc,MeasureLayout:gu}};var vc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var mc=4;function gc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;zi(n<=mc,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=function(e){var t=vc.exec(e);if(!t)return[,];var n=c(t,3);return[n[1],n[2]]}(e),i=c(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():tr(o)?gc(o,t,n+1):o}}function yc(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=Ye({},n)),e.values.forEach((function(e){var t=e.get();if(tr(t)){var n=gc(t,i);n&&e.set(n)}})),r){var o=r[a];if(tr(o)){var s=gc(o,i);s&&(r[a]=s,n||(n={}),void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var wc=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),bc=function(e){return wc.has(e)},kc=function(e){return e===ir||e===vr},_c=function(e,t){return parseFloat(e.split(", ")[t])},xc=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return _c(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?_c(o[1],e):0}},Ec=new Set(["x","y","z"]),Cc=Gn.filter((function(e){return!Ec.has(e)}));var Sc={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:xc(4,13),y:xc(5,14)},Tc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Ye({},t),r=Ye({},r);var i=Object.keys(t).filter(bc),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=Jo(l),h=t[i];if(Kr(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=Jo(l);for(var v=p;v<d&&null!==h[v];v++)c?zi(Jo(h[v])===c,"All keyframes must be of the same type"):(c=Jo(h[v]),zi(c===f||kc(f)&&kc(c),"Keyframes must be of the same dimension as the current value"))}else c=Jo(h);if(f!==c)if(kc(f)&&kc(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===vr&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return Cc.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,l=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=Sc[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=Sc[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=c(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),_n&&null!==u&&window.scrollTo({top:u}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ic(e,t,n,r){return function(e){return Object.keys(e).some(bc)}(t)?Tc(e,t,n,r):{target:t,transitionEnd:r}}var Ac={current:null},Nc={current:!1};var Pc=new WeakMap,Dc=["willChange"],Oc=["children"],Rc=Object.keys(Ln),Lc=Rc.length,Mc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fc=An.length,jc=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return ki.render(n.render,!1,!0)};var c=s.latestValues,l=s.renderState;this.latestValues=c,this.baseTarget=Ye({},c),this.initialValues=i.initial?Ye({},c):{},this.renderState=l,this.parent=r,this.props=i,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Nn(i),this.isVariantNode=Pn(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var f=this.scrapeMotionValuesFromProps(i,{}),d=f.willChange,p=Xe(f,Dc);for(var v in p){var m=p[v];void 0!==c[v]&&Zn(m)&&(m.set(c[v],!1),Wo(d)&&d.add(v))}}return m(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,Pc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,n){return t.bindToMotionValue(n,e)})),Nc.current||function(){if(Nc.current=!0,_n)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Ac.current=e.matches};e.addListener(t),t()}else Ac.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ac.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in Pc.delete(this.current),this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=Qn.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&ki.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,n,r){for(var i,a,o=this,s=(e.children,Xe(e,Oc)),u=0;u<Lc;u++){var c=Rc[u],l=Ln[c],f=l.isEnabled,h=l.Feature,d=l.ProjectionNode,p=l.MeasureLayout;d&&(i=d),f(s)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(a=p))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,m=s.layout,g=s.drag,y=s.dragConstraints,w=s.layoutScroll,b=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(g)||y&&Cn(y),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:r,layoutScroll:w,layoutRoot:b})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Us()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var n=0;n<Mc.length;n++){var r=Mc[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(Zn(a))e.addValue(i,a),Wo(r)&&r.add(i);else if(Zn(o))e.addValue(i,Zo(a,{owner:e})),Wo(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,Zo(void 0!==u?u:a,{owner:e}))}}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},n=0;n<Fc;n++){var r=An[n],i=this.props[r];(Sn(i)||!1===i)&&(t[r]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Zo(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=Hr(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Zn(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Qo),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,r)}}}]),e}(),Vc=["transition","transitionEnd"],Bc=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=Xe(e,Vc),o=t.transformValues,s=function(e,t,n){var r={};for(var i in e){var a=as(i,t);if(void 0!==a)r[i]=a;else{var o=n.getValue(i);o&&(r[i]=o.get())}}return r}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(Ho(l)||Vo(l))?l=parseFloat(l):!ts(l)&&qa.test(c)&&(l=jo(u,c)),e.addValue(u,Zo(l,{owner:e})),void 0===n[u]&&(n[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,a,s);var u=function(e,t,n,r){var i=yc(e,t,r);return Ic(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=u.transitionEnd,a=u.target}return Ye({transition:r,transitionEnd:i},a)}}]),n}(jc);var Uc=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"readValueFromInstance",value:function(e,t){if(Qn.has(t)){var n=Fo(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(er(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return au(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){kr(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return zr(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;Zn(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){Br(e,t,n,r)}}]),n}(Bc);function qc(){return qc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qc.apply(this,arguments)}var zc=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return m(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(Qn.has(t)){var n=Fo(t);return n&&n.default||0}return t=Ur.has(t)?t:Vr(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return Us()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Wr(e,t)}},{key:"build",value:function(e,t,n,r){Rr(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){qr(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Mr(e.tagName),qc(w(n.prototype),"mount",this).call(this,e)}}]),n}(Bc),Wc=function(e,t){return Hn(e)?new zc(t,{enableHardwareAcceleration:!1}):new Uc(t,{enableHardwareAcceleration:!0})},Hc={layout:{ProjectionNode:dc,MeasureLayout:gu}},Kc=Ye(Ye(Ye(Ye({},ws),ji),pc),Hc),Gc=zn((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i;return Ye(Ye({},Hn(e)?Jr:ei),{},{preloadedFeatures:n,useRender:jr(a),createVisualElement:r,Component:e})}(e,t,Kc,Wc)}));var Qc=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function Yc(e){var t=Qc(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Zc=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};function Xc(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function $c(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var Jc=Math.pow(2,31)-1;function el(e,t,n){var r=n-Date.now();e.current=r<=Jc?setTimeout(t,r):setTimeout((function(){return el(e,t,n)}),Jc)}function tl(){var e=Xc(),t=(0,r.useRef)();return $c((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=Jc?t.current=setTimeout(r,i):el(t,r,Date.now()+i))},clear:n}}),[])}function nl(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}var rl="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,il="undefined"!==typeof document||rl?r.useLayoutEffect:r.useEffect;new WeakMap;var al=["onKeyDown"];var ol=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,al),a=c(ln(Object.assign({tagName:"a"},i)),1)[0],o=Yc((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,nt.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,nt.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));ol.displayName="Anchor";var sl=ol;function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ul.apply(this,arguments)}n(2176);function cl(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ll(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function fl(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}function hl(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[cl(r)],s=a[r],u=Ze(a,[cl(r),r].map(ll)),c=t[r],l=fl(s,o,e[c]),f=l[0],h=l[1];return ul({},u,((i={})[r]=f,i[c]=h,i))}),e)}function dl(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function pl(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function vl(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}dl.__suppressDeprecationWarning=!0,pl.__suppressDeprecationWarning=!0,vl.__suppressDeprecationWarning=!0;var ml=Dt("carousel-caption"),gl=["as","bsPrefix","className"],yl=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=Xe(e,gl),s=Je()(a,lt(i,"carousel-item"));return(0,nt.jsx)(r,Ye(Ye({ref:t},o),{},{className:s}))}));yl.displayName="CarouselItem";var wl=yl;function bl(e){return e&&e.ownerDocument||document}function kl(e,t){return function(e){var t=bl(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var _l=/([A-Z])/g;var xl=/^ms-/;function El(e){return function(e){return e.replace(_l,"-$1").toLowerCase()}(e).replace(xl,"-ms-")}var Cl=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Sl=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(El(t))||kl(e).getPropertyValue(El(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Cl.test(e))}(i)?n+=El(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(El(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Tl=!("undefined"===typeof window||!window.document||!window.document.createElement),Il=!1,Al=!1;try{var Nl={get passive(){return Il=!0},get once(){return Al=Il=!0}};Tl&&(window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,!0))}catch($Y){}var Pl=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Al){var i=r.once,a=r.capture,o=n;!Al&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Il?r:a)}e.addEventListener(t,n,r)};var Dl=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ol=function(e,t,n,r){return Pl(e,t,n,r),function(){Dl(e,t,n,r)}};function Rl(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ol(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Ll(e,t,n,r){null==n&&(n=function(e){var t=Sl(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Rl(e,n,r),a=Ol(e,"transitionend",t);return function(){i(),a()}}function Ml(e,t){var n=Sl(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Fl(e,t){var n=Ml(e,"transitionDuration"),r=Ml(e,"transitionDelay"),i=Ll(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function jl(e){e.offsetHeight}var Vl=n(4164),Bl=!1,Ul=r.createContext(null),ql="unmounted",zl="exited",Wl="entering",Hl="entered",Kl="exiting",Gl=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=zl,r.appearStatus=Wl):i=Hl:i=t.unmountOnExit||t.mountOnEnter?ql:zl,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ql?{status:zl}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Wl&&n!==Hl&&(t=Wl):n!==Wl&&n!==Hl||(t=Kl)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Wl){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Vl.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zl&&this.setState({status:ql})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Vl.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Bl?this.safeSetState({status:Hl},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Wl},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Hl},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Vl.findDOMNode(this);t&&!Bl?(this.props.onExit(r),this.safeSetState({status:Kl},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:zl},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:zl},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Vl.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===ql)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ze(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Ul.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function Ql(){}Gl.contextType=Ul,Gl.propTypes={},Gl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ql,onEntering:Ql,onEntered:Ql,onExit:Ql,onExiting:Ql,onExited:Ql},Gl.UNMOUNTED=ql,Gl.EXITED=zl,Gl.ENTERING=Wl,Gl.ENTERED=Hl,Gl.EXITING=Kl;var Yl=Gl,Zl=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Xl=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=Zl(e),r=Zl(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var $l=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Jl=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=Xe(e,$l),d=(0,r.useRef)(null),p=Xl(d,f),v=function(e){var t;p((t=e)&&"setState"in t?Vl.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},g=(0,r.useCallback)(m(n),[n]),y=(0,r.useCallback)(m(i),[i]),w=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(o),[o]),k=(0,r.useCallback)(m(s),[s]),_=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(c),[c]);return(0,nt.jsx)(Yl,Ye(Ye({ref:t},h),{},{onEnter:g,onEntered:w,onEntering:y,onExit:b,onExited:_,onExiting:k,addEndListener:x,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Ye(Ye({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),ef=Jl,tf=["defaultActiveIndex"],nf=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"];var rf=r.forwardRef((function(e,t){var n=e.defaultActiveIndex,i=hl(Ye({defaultActiveIndex:void 0===n?0:n},Xe(e,tf)),{activeIndex:"onSelect"}),a=i.as,o=void 0===a?"div":a,s=i.bsPrefix,u=i.slide,l=void 0===u||u,f=i.fade,h=void 0!==f&&f,d=i.controls,p=void 0===d||d,v=i.indicators,m=void 0===v||v,g=i.indicatorLabels,y=void 0===g?[]:g,w=i.activeIndex,b=i.onSelect,k=i.onSlide,_=i.onSlid,x=i.interval,E=void 0===x?5e3:x,C=i.keyboard,S=void 0===C||C,T=i.onKeyDown,I=i.pause,A=void 0===I?"hover":I,N=i.onMouseOver,P=i.onMouseOut,D=i.wrap,O=void 0===D||D,R=i.touch,L=void 0===R||R,M=i.onTouchStart,F=i.onTouchMove,j=i.onTouchEnd,V=i.prevIcon,B=void 0===V?(0,nt.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}):V,U=i.prevLabel,q=void 0===U?"Previous":U,z=i.nextIcon,W=void 0===z?(0,nt.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}):z,H=i.nextLabel,K=void 0===H?"Next":H,G=i.variant,Q=i.className,Y=i.children,Z=Xe(i,nf),X=lt(s,"carousel"),$=dt(),J=(0,r.useRef)(null),ee=c((0,r.useState)("next"),2),te=ee[0],ne=ee[1],re=c((0,r.useState)(!1),2),ie=re[0],ae=re[1],oe=c((0,r.useState)(!1),2),se=oe[0],ue=oe[1],ce=c((0,r.useState)(w||0),2),le=ce[0],fe=ce[1];(0,r.useEffect)((function(){se||w===le||(J.current?ne(J.current):ne((w||0)>le?"next":"prev"),l&&ue(!0),fe(w||0))}),[w,se,le,l]),(0,r.useEffect)((function(){J.current&&(J.current=null)}));var he,de=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}(Y,(function(e,t){++de,t===w&&(he=e.props.interval)}));var pe=Qc(he),ve=(0,r.useCallback)((function(e){if(!se){var t=le-1;if(t<0){if(!O)return;t=de-1}J.current="prev",null==b||b(t,e)}}),[se,le,b,O,de]),me=Yc((function(e){if(!se){var t=le+1;if(t>=de){if(!O)return;t=0}J.current="next",null==b||b(t,e)}})),ge=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ge.current,prev:ve,next:me}}));var ye=Yc((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ge.current)&&($?ve():me())})),we="next"===te?"start":"end";Zc((function(){l||(null==k||k(le,we),null==_||_(le,we))}),[le]);var be="".concat(X,"-item-").concat(te),ke="".concat(X,"-item-").concat(we),_e=(0,r.useCallback)((function(e){jl(e),null==k||k(le,we)}),[k,le,we]),xe=(0,r.useCallback)((function(){ue(!1),null==_||_(le,we)}),[_,le,we]),Ee=(0,r.useCallback)((function(e){if(S&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void($?me(e):ve(e));case"ArrowRight":return e.preventDefault(),void($?ve(e):me(e))}null==T||T(e)}),[S,T,ve,me,$]),Ce=(0,r.useCallback)((function(e){"hover"===A&&ae(!0),null==N||N(e)}),[A,N]),Se=(0,r.useCallback)((function(e){ae(!1),null==P||P(e)}),[P]),Te=(0,r.useRef)(0),Ie=(0,r.useRef)(0),Ae=tl(),Ne=(0,r.useCallback)((function(e){Te.current=e.touches[0].clientX,Ie.current=0,"hover"===A&&ae(!0),null==M||M(e)}),[A,M]),Pe=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?Ie.current=0:Ie.current=e.touches[0].clientX-Te.current,null==F||F(e)}),[F]),De=(0,r.useCallback)((function(e){if(L){var t=Ie.current;Math.abs(t)>40&&(t>0?ve(e):me(e))}"hover"===A&&Ae.set((function(){ae(!1)}),E||void 0),null==j||j(e)}),[L,A,ve,me,Ae,E,j]),Oe=null!=E&&!ie&&!se,Re=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(Oe){var n=$?ve:me;return Re.current=window.setInterval(document.visibilityState?ye:n,null!=(e=null!=(t=pe.current)?t:E)?e:void 0),function(){null!==Re.current&&clearInterval(Re.current)}}}),[Oe,ve,me,pe,E,ye,$]);var Le=(0,r.useMemo)((function(){return m&&Array.from({length:de},(function(e,t){return function(e){null==b||b(t,e)}}))}),[m,de,b]);return(0,nt.jsxs)(o,Ye(Ye({ref:ge},Z),{},{onKeyDown:Ee,onMouseOver:Ce,onMouseOut:Se,onTouchStart:Ne,onTouchMove:Pe,onTouchEnd:De,className:Je()(Q,X,l&&"slide",h&&"".concat(X,"-fade"),G&&"".concat(X,"-").concat(G)),children:[m&&(0,nt.jsx)("div",{className:"".concat(X,"-indicators"),children:bt(Y,(function(e,t){return(0,nt.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=y&&y.length?y[t]:"Slide ".concat(t+1),className:t===le?"active":void 0,onClick:Le?Le[t]:void 0,"aria-current":t===le},t)}))}),(0,nt.jsx)("div",{className:"".concat(X,"-inner"),children:bt(Y,(function(e,t){var n=t===le;return l?(0,nt.jsx)(ef,{in:n,onEnter:n?_e:void 0,onEntered:n?xe:void 0,addEndListener:Fl,children:function(t,i){return r.cloneElement(e,Ye(Ye({},i),{},{className:Je()(e.props.className,n&&"entered"!==t&&be,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&ke)}))}}):r.cloneElement(e,{className:Je()(e.props.className,n&&"active")})}))}),p&&(0,nt.jsxs)(nt.Fragment,{children:[(O||0!==w)&&(0,nt.jsxs)(sl,{className:"".concat(X,"-control-prev"),onClick:ve,children:[B,q&&(0,nt.jsx)("span",{className:"visually-hidden",children:q})]}),(O||w!==de-1)&&(0,nt.jsxs)(sl,{className:"".concat(X,"-control-next"),onClick:me,children:[W,K&&(0,nt.jsx)("span",{className:"visually-hidden",children:K})]})]})]}))}));rf.displayName="Carousel";var af=Object.assign(rf,{Caption:ml,Item:wl}),of=function(){return(0,nt.jsxs)(af,{children:[(0,nt.jsx)(af.Item,{className:"contCardImg",children:(0,nt.jsx)("img",{className:"d-block w-100",src:"https://dc583.4shared.com/img/bvmdnA-Cku/s23/188edbbc188/8433421",alt:"First slide"})}),(0,nt.jsx)(af.Item,{className:"contCardImg",children:(0,nt.jsx)("img",{className:"d-block w-100",src:"https://dc552.4shared.com/img/ZKZA3xu3fa/s23/188edbd7708/8433396",alt:"Second slide"})}),(0,nt.jsx)(af.Item,{className:"contCardImg",children:(0,nt.jsx)("img",{className:"d-block w-100",src:"https://dc552.4shared.com/img/HZWT1g5Mge/s23/188edc0f978/767283",alt:"Third slide"})})]})};var sf=function(){return(0,nt.jsx)(yn,{className:"font",children:(0,nt.jsxs)(Bt,{sm:"12",className:"justify-content-center text-center",children:[(0,nt.jsx)("div",{className:"colorHedar title",children:"Big Big"}),(0,nt.jsx)("hr",{className:"afterLine"}),(0,nt.jsx)("div",{className:"titleRols",children:(0,nt.jsxs)("h2",{children:["The Real Taste of fast food",(0,nt.jsx)("br",{}),"& a Unique Adventure Awaits"]})})]})})},uf=function(){return(0,nt.jsxs)("div",{className:"contAbout",children:[(0,nt.jsxs)("div",{className:"call",children:[(0,nt.jsx)("h3",{children:"To communicate"}),(0,nt.jsx)("span",{children:"Phone : 01050923293"}),(0,nt.jsx)("h3",{children:"Stay Connected"})]}),(0,nt.jsxs)("div",{className:"location",children:[(0,nt.jsx)("h3",{children:"Location"}),(0,nt.jsx)("span",{children:"Egybt , Zayed , th16"}),(0,nt.jsx)("span",{children:"Privacy Policy"}),(0,nt.jsx)("p",{children:"Let's eat"})]})]})};function cf(){cf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var w=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(w,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function lf(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(tp){return void n(tp)}s.done?t(u):Promise.resolve(u).then(r,i)}function ff(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lf(a,r,i,o,s,"next",e)}function s(e){lf(a,r,i,o,s,"throw",e)}o(void 0)}))}}var hf=!1,df=!1,pf="${JSCORE_VERSION}",vf=function(e,t){if(!e)throw mf(t)},mf=function(e){return new Error("Firebase Database ("+pf+") INTERNAL ASSERT FAILED: "+e)},gf=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gf(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new wf;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wf=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(E(Error)),bf=function(e){var t=gf(e);return yf.encodeByteArray(t,!0)},kf=function(e){return bf(e).replace(/\./g,"")},_f=function(e){try{return yf.decodeString(e,!0)}catch($Y){console.error("base64Decode failed: ",$Y)}return null};function xf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ef(n)&&(e[n]=xf(e[n],t[n]));return e}function Ef(e){return"__proto__"!==e}var Cf=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Sf=function(){try{return Cf()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($Y){return}var t=e&&_f(e[1]);return t&&JSON.parse(t)}}()}catch($Y){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat($Y))}},Tf=function(e){var t,n;return null===(n=null===(t=Sf())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},If=function(e){var t=Tf(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Af=function(){var e;return null===(e=Sf())||void 0===e?void 0:e.config},Nf=function(e){var t;return null===(t=Sf())||void 0===t?void 0:t["_".concat(e)]},Pf=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Df(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kf(JSON.stringify({alg:"none",type:"JWT"})),kf(JSON.stringify(a)),""].join(".")}function Of(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rf(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Of())}function Lf(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Mf(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ff(){return!0===hf||!0===df}function jf(){return!function(){var e,t=null===(e=Sf())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch($Y){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vf(){try{return"object"===typeof indexedDB}catch($Y){return!1}}function Bf(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(tp){t(tp)}}))}function Uf(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var qf=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),zf.prototype.create),a}return m(n)}(E(Error)),zf=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Wf,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qf(n,a,t)}}]),e}();var Wf=/\{\$([^}]+)}/g;function Hf(e){return JSON.parse(e)}function Kf(e){return JSON.stringify(e)}var Gf=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Hf(_f(a[0])||""),n=Hf(_f(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch($Y){}return{header:t,claims:n,data:r,signature:i}};function Qf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yf(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Zf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xf(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $f(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Jf(s)&&Jf(u)){if(!$f(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Jf(e){return null!==e&&"object"===typeof e}function eh(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function th(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function nh(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var rh=function(){function e(){h(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return m(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function ih(e,t){var n=new ah(e,t);return n.subscribe.bind(n)}var ah=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=oh),void 0===r.error&&(r.error=oh),void 0===r.complete&&(r.complete=oh);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch($Y){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch($Y){"undefined"!==typeof console&&console.error&&console.error($Y)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function oh(){}var sh=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function uh(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ch(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(uh(e,t)+"must be a valid function.")}function lh(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(uh(e,t)+"must be a valid context object.")}var fh=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},hh=1e3,dh=2,ph=144e5,vh=.5;function mh(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dh,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:hh)*Math.pow(t,e),r=Math.round(vh*n*(Math.random()-.5)*2);return Math.min(ph,n+r)}function gh(e){return e&&e._delegate?e._delegate:e}var yh=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wh="[DEFAULT]",bh=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pf;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch($Y){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($Y){if(r)return null;throw $Y}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wh})}catch($Y){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch($Y){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wh;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wh;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wh;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(oL){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===wh?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(oL){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wh;return this.component?this.component.multipleInstances?e:wh:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kh,_h,xh=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bh(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Eh=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_h||(_h={}));var Ch={debug:_h.DEBUG,verbose:_h.VERBOSE,info:_h.INFO,warn:_h.WARN,error:_h.ERROR,silent:_h.SILENT},Sh=_h.INFO,Th=(Ge(kh={},_h.DEBUG,"log"),Ge(kh,_h.VERBOSE,"log"),Ge(kh,_h.INFO,"info"),Ge(kh,_h.WARN,"warn"),Ge(kh,_h.ERROR,"error"),kh),Ih=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Th[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ah=function(){function e(t){h(this,e),this.name=t,this._logLevel=Sh,this._logHandler=Ih,this._userLogHandler=null,Eh.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _h))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ch[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_h.DEBUG].concat(t)),this._logHandler.apply(this,[this,_h.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_h.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_h.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_h.INFO].concat(t)),this._logHandler.apply(this,[this,_h.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_h.WARN].concat(t)),this._logHandler.apply(this,[this,_h.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_h.ERROR].concat(t)),this._logHandler.apply(this,[this,_h.ERROR].concat(t))}}]),e}();var Nh,Ph,Dh=function(e,t){return t.some((function(t){return e instanceof t}))};var Oh=new WeakMap,Rh=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,Fh=new WeakMap;var jh={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lh.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uh(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Vh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ph||(Ph=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qh(this),n),Uh(Oh.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uh(e.apply(qh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qh(this),t].concat(r));return Lh.set(a,t.sort?t.sort():[t]),Uh(a)}}function Bh(e){return"function"===typeof e?Vh(e):(e instanceof IDBTransaction&&function(e){if(!Rh.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Rh.set(e,t)}}(e),Dh(e,Nh||(Nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jh):e)}function Uh(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Uh(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Oh.set(t,e)})).catch((function(){})),Fh.set(t,e),t}(e);if(Mh.has(e))return Mh.get(e);var t=Bh(e);return t!==e&&(Mh.set(e,t),Fh.set(t,e)),t}var qh=function(e){return Fh.get(e)};var zh,Wh,Hh=["get","getKey","getAll","getAllKeys","count"],Kh=["put","add","delete","clear"],Gh=new Map;function Qh(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gh.get(t))return Gh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kh.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Hh.includes(n))){var a=function(){var e=ff(cf().mark((function e(t){var a,o,s,u,c,l,f=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gh.set(t,a),a}}}jh=function(e){return Ye(Ye({},e),{},{get:function(t,n,r){return Qh(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qh(t,n)||e.has(t,n)}})}(jh);var Yh=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zh="@firebase/app",Xh="0.9.10",$h=new Ah("@firebase/app"),Jh="[DEFAULT]",ed=(Ge(zh={},Zh,"fire-core"),Ge(zh,"@firebase/app-compat","fire-core-compat"),Ge(zh,"@firebase/analytics","fire-analytics"),Ge(zh,"@firebase/analytics-compat","fire-analytics-compat"),Ge(zh,"@firebase/app-check","fire-app-check"),Ge(zh,"@firebase/app-check-compat","fire-app-check-compat"),Ge(zh,"@firebase/auth","fire-auth"),Ge(zh,"@firebase/auth-compat","fire-auth-compat"),Ge(zh,"@firebase/database","fire-rtdb"),Ge(zh,"@firebase/database-compat","fire-rtdb-compat"),Ge(zh,"@firebase/functions","fire-fn"),Ge(zh,"@firebase/functions-compat","fire-fn-compat"),Ge(zh,"@firebase/installations","fire-iid"),Ge(zh,"@firebase/installations-compat","fire-iid-compat"),Ge(zh,"@firebase/messaging","fire-fcm"),Ge(zh,"@firebase/messaging-compat","fire-fcm-compat"),Ge(zh,"@firebase/performance","fire-perf"),Ge(zh,"@firebase/performance-compat","fire-perf-compat"),Ge(zh,"@firebase/remote-config","fire-rc"),Ge(zh,"@firebase/remote-config-compat","fire-rc-compat"),Ge(zh,"@firebase/storage","fire-gcs"),Ge(zh,"@firebase/storage-compat","fire-gcs-compat"),Ge(zh,"@firebase/firestore","fire-fst"),Ge(zh,"@firebase/firestore-compat","fire-fst-compat"),Ge(zh,"fire-js","fire-js"),Ge(zh,"firebase","fire-js-all"),zh),td=new Map,nd=new Map;function rd(e,t){try{e.container.addComponent(t)}catch($Y){$h.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),$Y)}}function id(e,t){e.container.addOrOverwriteComponent(t)}function ad(e){var t=e.name;if(nd.has(t))return $h.debug("There were multiple attempts to register component ".concat(t,".")),!1;nd.set(t,e);var n,r=C(td.values());try{for(r.s();!(n=r.n()).done;){rd(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function od(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jh;od(e,t).clearInstance(n)}function ud(){nd.clear()}var cd=(Ge(Wh={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Ge(Wh,"bad-app-name","Illegal App name: '{$appName}"),Ge(Wh,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ge(Wh,"app-deleted","Firebase App named '{$appName}' already deleted"),Ge(Wh,"no-options","Need to provide options, when not being deployed to hosting via source."),Ge(Wh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ge(Wh,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge(Wh,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ge(Wh,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ge(Wh,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ge(Wh,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wh),ld=new zf("app","Firebase",cd),fd=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yh("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ld.create("app-deleted",{appName:this._name})}}]),e}(),hd="9.22.0";function dd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ld.create("bad-app-name",{appName:String(i)});if(n||(n=Af()),!n)throw ld.create("no-options");var a=td.get(i);if(a){if($f(n,a.options)&&$f(r,a.config))return a;throw ld.create("duplicate-app",{appName:i})}var o,s=new xh(i),u=C(nd.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new fd(n,r,s);return td.set(i,l),l}function pd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jh,t=td.get(e);if(!t&&e===Jh&&Af())return dd();if(!t)throw ld.create("no-app",{appName:e});return t}function vd(){return Array.from(td.values())}function md(e){return gd.apply(this,arguments)}function gd(){return gd=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!td.has(n)){e.next=6;break}return td.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function yd(e,t,n){var r,i=null!==(r=ed[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $h.warn(s.join(" "))}ad(new yh("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function wd(e,t){if(null!==e&&"function"!==typeof e)throw ld.create("invalid-log-argument");!function(e,t){var n,r=C(Eh);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ch[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_h[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function bd(e){var t;t=e,Eh.forEach((function(e){e.setLogLevel(t)}))}var kd="firebase-heartbeat-database",_d=1,xd="firebase-heartbeat-store",Ed=null;function Cd(){return Ed||(Ed=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Uh(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Uh(s.result),e.oldVersion,e.newVersion,Uh(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(kd,_d,{upgrade:function(e,t){if(0===t)e.createObjectStore(xd)}}).catch((function(e){throw ld.create("idb-open",{originalErrorMessage:e.message})}))),Ed}function Sd(e){return Td.apply(this,arguments)}function Td(){return Td=ff(cf().mark((function e(t){var n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cd();case 3:return n=e.sent,e.next=6,n.transaction(xd).objectStore(xd).get(Nd(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof qf?$h.warn(e.t0.message):(i=ld.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),$h.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Td.apply(this,arguments)}function Id(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=ff(cf().mark((function e(t,n){var r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cd();case 3:return r=e.sent,i=r.transaction(xd,"readwrite"),a=i.objectStore(xd),e.next=8,a.put(n,Nd(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof qf?$h.warn(e.t0.message):(o=ld.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),$h.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ad.apply(this,arguments)}function Nd(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pd=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ld(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=ff(cf().mark((function e(){var t,n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Dd(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Dd(),n=Od(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=kf(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dd(){return(new Date).toISOString().substring(0,10)}function Od(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Md(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Md(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Rd,Ld=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vf()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Bf().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Sd(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Id(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Id(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Md(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}Rd="",ad(new yh("platform-logger",(function(e){return new Yh(e)}),"PRIVATE")),ad(new yh("heartbeat",(function(e){return new Pd(e)}),"PRIVATE")),yd(Zh,Xh,Rd),yd(Zh,Xh,"esm2017"),yd("fire-js","");var Fd="@firebase/database",jd="0.14.4",Vd="";function Bd(e){Vd=e}var Ud=function(){function e(t){h(this,e),this.domStorage_=t,this.prefix_="firebase:"}return m(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Kf(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Hf(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),qd=function(){function e(){h(this,e),this.cache_={},this.isInMemoryStorage=!0}return m(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Qf(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),zd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ud(t)}}catch($Y){}return new qd},Wd=zd("localStorage"),Hd=zd("sessionStorage"),Kd=new Ah("@firebase/database"),Gd=function(){var e=1;return function(){return e++}}(),Qd=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,vf(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new rh;n.update(t);var r=n.digest();return yf.encodeByteArray(r)},Yd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Kf(r):r,t+=" "}return t},Zd=null,Xd=!0,$d=function(e,t){vf(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Kd.logLevel=_h.VERBOSE,Zd=Kd.log.bind(Kd),t&&Hd.set("logging_enabled",!0)):"function"===typeof e?Zd=e:(Zd=null,Hd.remove("logging_enabled"))},Jd=function(){if(!0===Xd&&(Xd=!1,null===Zd&&!0===Hd.get("logging_enabled")&&$d(!0)),Zd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Yd.apply(null,t);Zd(r)}},ep=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Jd.apply(void 0,[e].concat(n))}},tp=function(){var e="FIREBASE INTERNAL ERROR: "+Yd.apply(void 0,arguments);Kd.error(e)},np=function(){var e="FIREBASE FATAL ERROR: ".concat(Yd.apply(void 0,arguments));throw Kd.error(e),new Error(e)},rp=function(){var e="FIREBASE WARNING: "+Yd.apply(void 0,arguments);Kd.warn(e)},ip=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ap="[MIN_NAME]",op="[MAX_NAME]",sp=function(e,t){if(e===t)return 0;if(e===ap||t===op)return-1;if(t===ap||e===op)return 1;var n=vp(e),r=vp(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},up=function(e,t){return e===t?0:e<t?-1:1},cp=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Kf(t))},lp=function e(t){if("object"!==typeof t||null===t)return Kf(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Kf(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},fp=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function hp(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var dp=function(e){vf(!ip(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var pp=new RegExp("^-?(0*)\\d{1,10}$"),vp=function(e){if(pp.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},mp=function(e){try{e()}catch($Y){setTimeout((function(){var t=$Y.stack||"";throw rp("Exception was thrown by user callback.",t),$Y}),Math.floor(0))}},gp=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},yp=function(){function e(t,n){var r=this;h(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){rp('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),wp=function(){function e(t,n,r){var i=this;h(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Jd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rp(e)}}]),e}(),bp=function(){function e(t){h(this,e),this.accessToken=t}return m(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();bp.OWNER="owner";var kp="5",_p=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xp="ac",Ep="websocket",Cp="long_polling",Sp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];h(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wd.get("host:"+t)||this._host}return m(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wd.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Tp(e,t,n){var r;if(vf("string"===typeof t,"typeof type must == string"),vf("object"===typeof n,"typeof params must == object"),t===Ep)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Cp)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return hp(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ip=function(){function e(){h(this,e),this.counters_={}}return m(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Qf(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return xf(void 0,this.counters_)}}]),e}(),Ap={},Np={};function Pp(e){var t=e.toString();return Ap[t]||(Ap[t]=new Ip),Ap[t]}var Dp=function(){function e(t){h(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return m(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&mp((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Op="start",Rp=function(){function e(t,n,r,i,a,o,s){var u=this;h(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ep(t),this.stats_=Pp(n),this.urlFn=function(e){return u.appCheckToken&&(e[xp]=u.appCheckToken),Tp(n,Cp,e)}}return m(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Dp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ff()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Lp((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Op)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Op]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=kp,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[xp]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&_p.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Kf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=bf(t),r=fp(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ff()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Kf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ff()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Lp=function(){function e(t,n,r,i){if(h(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ff())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Gd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch($Y){Jd("frame writing exception"),$Y.stack&&Jd($Y.stack),Jd($Y)}}}return m(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ff()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Jd("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch($Y){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jd("No IE domain setting required")}catch($Y){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Mp=null;"undefined"!==typeof MozWebSocket?Mp=MozWebSocket:"undefined"!==typeof WebSocket&&(Mp=WebSocket);var Fp=function(){function e(t,n,r,i,a,o,s){h(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ep(this.connId),this.stats_=Pp(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return m(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wd.set("previous_websocket_failure",!0);try{var r;if(Ff()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(kp,"/").concat(Vd,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Mp(this.connURL,[],r)}catch($Y){this.log_("Error instantiating WebSocket.");var s=$Y.message||$Y.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Wd.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Hf(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(vf(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Kf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=fp(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch($Y){this.log_("Exception thrown from WebSocket.send():",$Y.message||$Y.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=kp,!Ff()&&"undefined"!==typeof location&&location.hostname&&_p.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[xp]=r),i&&(a.p=i),Tp(e,Ep,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Mp&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Wd.isInMemoryStorage||!0===Wd.get("previous_websocket_failure")}}]),e}();Fp.responsesRequiredToBeHealthy=2,Fp.healthyTimeout=3e4;var jp=function(){function e(t){h(this,e),this.initTransports_(t)}return m(e,[{key:"initTransports_",value:function(t){var n=Fp&&Fp.isAvailable(),r=n&&!Fp.previouslyFailed();if(t.webSocketOnly&&(n||rp("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fp];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Rp,Fp]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();jp.globalTransportInitialized_=!1;var Vp=function(){function e(t,n,r,i,a,o,s,u,c,l){h(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ep("c:"+this.id+":"),this.transportManager_=new jp(n),this.log_("Connection created"),this.start_()}return m(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=gp((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=cp("t",e),n=cp("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=cp("t",e),n=cp("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=cp("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?tp("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tp("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),kp!==n&&rp("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gp((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gp((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Bp=function(){function e(){h(this,e)}return m(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Up=function(){function e(t){h(this,e),this.allowedEvents_=t,this.listeners_={},vf(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return m(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=f(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){vf(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),qp=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Rf()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return m(n,[{key:"getInitialEvent",value:function(e){return vf("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Up),zp=32,Wp=768,Hp=function(){function e(t,n){if(h(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return m(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Kp(){return new Hp("")}function Gp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qp(e){return e.pieces_.length-e.pieceNum_}function Yp(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Hp(e.pieces_,t)}function Zp(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Xp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function $p(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Hp(t,0)}function Jp(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Hp)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Hp(n,0)}function ev(e){return e.pieceNum_>=e.pieces_.length}function tv(e,t){var n=Gp(e),r=Gp(t);if(null===n)return t;if(n===r)return tv(Yp(e),Yp(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nv(e,t){for(var n=Xp(e,0),r=Xp(t,0),i=0;i<n.length&&i<r.length;i++){var a=sp(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function rv(e,t){if(Qp(e)!==Qp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function iv(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Qp(e)>Qp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var av=m((function e(t,n){h(this,e),this.errorPrefix_=n,this.parts_=Xp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=fh(this.parts_[r]);ov(this)}));function ov(e){if(e.byteLength_>Wp)throw new Error(e.errorPrefix_+"has a key path longer than "+Wp+" bytes ("+e.byteLength_+").");if(e.parts_.length>zp)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zp+") or object contains a cycle "+sv(e))}function sv(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var uv=function(e){y(n,e);var t=_(n);function n(){var e,r,i;return h(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return m(n,[{key:"getInitialEvent",value:function(e){return vf("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Up),cv=1e3,lv=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,s,u,c){var l;if(h(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=ep("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=cv,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ff())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return uv.getInstance().on("visible",l.onVisible_,k(l)),-1===e.host.indexOf("fblocal")&&qp.getInstance().on("online",l.onOnline_,k(l)),l}return m(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Kf(i)),vf(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Pf,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),vf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vf(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Gf(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Gf(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),vf(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Kf(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):tp("Unrecognized action received from server: "+Kf(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;vf(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cv,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cv),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ff(cf().mark((function e(){var t,r,i,a,o,s,u,l,f,h,d,p,v,m,g=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},f=function(e){vf(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?Jd("getToken() completed but was canceled"):(Jd("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new Vp(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){rp(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&rp(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Jd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Jd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zf(this.interruptReasons_)&&(this.reconnectDelay_=cv,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return lp(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Hp(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Jd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Jd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ff()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Vd.replace(/\./g,"-")]=1,Rf()?e["framework.cordova"]=1:Mf()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=qp.getInstance().currentlyOnline();return Zf(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Qf(e,"w")){var n=Yf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();rp("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Bp);lv.nextPersistentConnectionId_=0,lv.nextConnectionId_=0;var fv,hv=function(){function e(t,n){h(this,e),this.name=t,this.node=n}return m(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),dv=function(){function e(){h(this,e)}return m(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new hv(ap,e),r=new hv(ap,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return hv.MIN}}]),e}(),pv=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){return sp(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw mf("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return hv.MIN}},{key:"maxPost",value:function(){return new hv(op,fv)}},{key:"makePost",value:function(e,t){return vf("string"===typeof e,"KeyIndex indexValue must always be a string."),new hv(e,fv)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return fv},set:function(e){fv=e}}]),n}(dv),vv=new pv,mv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;h(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return m(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),gv=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:bv.EMPTY_NODE,this.right=null!=a?a:bv.EMPTY_NODE}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return bv.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return bv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();gv.RED=!0,gv.BLACK=!1;var yv,wv=function(){function e(){h(this,e)}return m(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gv(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),bv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;h(this,e),this.comparator_=t,this.root_=n}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,gv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gv.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new mv(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new mv(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new mv(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new mv(this.root_,null,this.comparator_,!0,e)}}]),e}();function kv(e,t){return sp(e.name,t.name)}function _v(e,t){return sp(e,t)}bv.EMPTY_NODE=new wv;var xv,Ev,Cv,Sv=function(e){return"number"===typeof e?"number:"+dp(e):"string:"+e},Tv=function(e){if(e.isLeafNode()){var t=e.val();vf("string"===typeof t||"number"===typeof t||"object"===typeof t&&Qf(t,".sv"),"Priority must be a string or number.")}else vf(e===yv||e.isEmpty(),"priority of unexpected type.");vf(e===yv||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Iv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;h(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,vf(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Tv(this.priorityNode_)}return m(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return ev(t)?this:".priority"===Gp(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Gp(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(vf(".priority"!==r||1===Qp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yp(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Sv(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?dp(this.value_):this.value_,this.lazyHash_=Qd(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(vf(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return vf(i>=0,"Unknown leaf type: "+n),vf(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return xv},set:function(e){xv=e}}]),e}();Iv.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Av,Nv,Pv=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?sp(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return hv.MIN}},{key:"maxPost",value:function(){return new hv(op,new Iv("[PRIORITY-POST]",Cv))}},{key:"makePost",value:function(e,t){var n=Ev(e);return new hv(t,new Iv("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(dv),Dv=new Pv,Ov=Math.log(2),Rv=function(){function e(t){h(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ov,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return m(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Lv=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new gv(o,a.node,gv.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new gv(o,a.node,gv.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new gv(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,gv.BLACK):(s(f,gv.BLACK),s(f,gv.RED))}return a}(new Rv(e.length));return new bv(r||t,a)},Mv={},Fv=function(){function e(t,n){h(this,e),this.indexes_=t,this.indexSet_=n}return m(e,[{key:"get",value:function(e){var t=Yf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bv?t:null}},{key:"hasIndex",value:function(e){return Qf(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){vf(t!==vv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(hv.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Lv(i,t.getCompare()):Mv;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Xf(this.indexes_,(function(e,i){var a=Yf(r.indexSet_,i);if(vf(a,"Missing index implementation for "+i),e===Mv){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(hv.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Lv(o,a.getCompare())}return Mv}var c=n.get(t.name),l=e;return c&&(l=l.remove(new hv(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Xf(this.indexes_,(function(e){if(e===Mv)return e;var r=n.get(t.name);return r?e.remove(new hv(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return vf(Mv&&Dv,"ChildrenNode.ts has not been loaded"),Av=Av||new e({".priority":Mv},{".priority":Dv})}}]),e}(),jv=function(){function e(t,n,r){h(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tv(this.priorityNode_),this.children_.isEmpty()&&vf(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return m(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Nv}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Nv:t}},{key:"getChild",value:function(e){var t=Gp(e);return null===t?this:this.getImmediateChild(t).getChild(Yp(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(vf(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new hv(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Nv:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Gp(e);if(null===n)return t;vf(".priority"!==Gp(e)||1===Qp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Yp(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Dv,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Sv(this.getPriority().val())+":"),this.forEachChild(Dv,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Qd(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new hv(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new hv(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new hv(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,hv.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,hv.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vv?-1:0}},{key:"withIndex",value:function(t){if(t===vv||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===vv||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Dv),r=t.getIterator(Dv),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===vv?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Nv||(Nv=new e(new bv(_v),null,Fv.Default))}}]),e}();jv.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Vv=new(function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,new bv(_v),jv.EMPTY_NODE,Fv.Default)}return m(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return jv.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(jv));Object.defineProperties(hv,{MIN:{value:new hv(ap,jv.EMPTY_NODE)},MAX:{value:new hv(op,Vv)}}),pv.__EMPTY_NODE=jv.EMPTY_NODE,Iv.__childrenNodeConstructor=jv,yv=Vv,function(e){Cv=e}(Vv);var Bv=!0;function Uv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return jv.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),vf(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Iv(e,Uv(t));if(e instanceof Array||!Bv){var n=jv.EMPTY_NODE;return hp(e,(function(t,r){if(Qf(e,t)&&"."!==t.substring(0,1)){var i=Uv(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Uv(t))}var r=[],i=!1;if(hp(e,(function(e,t){if("."!==e.substring(0,1)){var n=Uv(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new hv(e,n)))}})),0===r.length)return jv.EMPTY_NODE;var a=Lv(r,kv,(function(e){return e.name}),_v);if(i){var o=Lv(r,Dv.getCompare());return new jv(a,Uv(t),new Fv({".priority":o},{".priority":Dv}))}return new jv(a,Uv(t),Fv.Default)}!function(e){Ev=e}(Uv);var qv=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).indexPath_=e,vf(!ev(e)&&".priority"!==Gp(e),"Can't create PathIndex with empty path or .priority key"),r}return m(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?sp(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Uv(e),r=jv.EMPTY_NODE.updateChild(this.indexPath_,n);return new hv(t,r)}},{key:"maxPost",value:function(){var e=jv.EMPTY_NODE.updateChild(this.indexPath_,Vv);return new hv(op,e)}},{key:"toString",value:function(){return Xp(this.indexPath_,0).join("/")}}]),n}(dv),zv=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?sp(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return hv.MIN}},{key:"maxPost",value:function(){return hv.MAX}},{key:"makePost",value:function(e,t){var n=Uv(e);return new hv(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(dv),Wv=new zv;function Hv(e){return{type:"value",snapshotNode:e}}function Kv(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Gv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Yv=function(){function e(t){h(this,e),this.index_=t}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){vf(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Gv(t,o)):vf(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Kv(t,n)):a.trackChildChange(Qv(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Dv,(function(e,r){t.hasChild(e)||n.trackChildChange(Gv(e,r))})),t.isLeafNode()||t.forEachChild(Dv,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Qv(t,r,i))}else n.trackChildChange(Kv(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?jv.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Zv=function(){function e(t){h(this,e),this.indexedFilter_=new Yv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new hv(t,n))||(n=jv.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=jv.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(jv.EMPTY_NODE);var i=this;return t.forEachChild(Dv,(function(e,t){i.matches(new hv(e,t))||(r=r.updateImmediateChild(e,jv.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Xv=function(){function e(t){var n=this;h(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Zv(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new hv(t,n))||(n=jv.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=jv.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=jv.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(jv.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,jv.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;vf(s.numChildren()===this.limit_,"");var u=new hv(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Qv(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Gv(t,f));var p=s.updateImmediateChild(t,jv.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Kv(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Gv(c.name,c.node)),i.trackChildChange(Kv(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,jv.EMPTY_NODE)):e}}]),e}(),$v=function(){function e(){h(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dv}return m(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return vf(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return vf(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ap}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return vf(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return vf(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:op}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return vf(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Dv}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Jv(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function em(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function tm(e,t){var n=e.copy();return n.index_=t,n}function nm(e){var t,n={};if(e.isDefault())return n;if(e.index_===Dv?t="$priority":e.index_===Wv?t="$value":e.index_===vv?t="$key":(vf(e.index_ instanceof qv,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Kf(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Kf(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Kf(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Kf(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Kf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function rm(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Dv&&(t.i=e.index_.toString()),t}var im=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=ep("p:rest:"),o.listens_={},o}return m(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=nm(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Yf(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=nm(e._queryParams),r=e._path.toString(),i=new Pf;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+eh(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Hf(l.responseText)}catch($Y){rp("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&rp("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(vf(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Bp),am=function(){function e(){h(this,e),this.rootNode_=jv.EMPTY_NODE}return m(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function om(){return{value:null,children:new Map}}function sm(e,t,n){if(ev(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Gp(t);e.children.has(r)||e.children.set(r,om()),sm(e.children.get(r),t=Yp(t),n)}}function um(e,t){if(ev(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Dv,(function(t,n){sm(e,new Hp(t),n)})),um(e,t)}if(e.children.size>0){var r=Gp(t);if(t=Yp(t),e.children.has(r))um(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function cm(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){cm(r,new Hp(t.toString()+"/"+e),n)}))}var lm,fm=function(){function e(t){h(this,e),this.collection_=t,this.last_=null}return m(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&hp(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),hm=function(){function e(t,n){h(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new fm(t);var r=1e4+2e4*Math.random();gp(this.reportStats_.bind(this),Math.floor(r))}return m(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;hp(t,(function(t,i){i>0&&Qf(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),gp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function dm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lm||(lm={}));var pm,vm=function(){function e(t,n,r){h(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=lm.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return m(e,[{key:"operationForChild",value:function(t){if(ev(this.path)){if(null!=this.affectedTree.value)return vf(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Hp(t));return new e(Kp(),n,this.revert)}return vf(Gp(this.path)===t,"operationForChild called for unrelated child."),new e(Yp(this.path),this.affectedTree,this.revert)}}]),e}(),mm=function(){function e(t,n){h(this,e),this.source=t,this.path=n,this.type=lm.LISTEN_COMPLETE}return m(e,[{key:"operationForChild",value:function(t){return ev(this.path)?new e(this.source,Kp()):new e(this.source,Yp(this.path))}}]),e}(),gm=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.snap=r,this.type=lm.OVERWRITE}return m(e,[{key:"operationForChild",value:function(t){return ev(this.path)?new e(this.source,Kp(),this.snap.getImmediateChild(t)):new e(this.source,Yp(this.path),this.snap)}}]),e}(),ym=function(){function e(t,n,r){h(this,e),this.source=t,this.path=n,this.children=r,this.type=lm.MERGE}return m(e,[{key:"operationForChild",value:function(t){if(ev(this.path)){var n=this.children.subtree(new Hp(t));return n.isEmpty()?null:n.value?new gm(this.source,Kp(),n.value):new e(this.source,Kp(),n)}return vf(Gp(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Yp(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),wm=function(){function e(t,n,r){h(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return m(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(ev(e))return this.isFullyInitialized()&&!this.filtered_;var t=Gp(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),bm=m((function e(t){h(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function km(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw mf("Should only compare child_ events.");var r=new hv(t.childName,t.snapshotNode),i=new hv(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function _m(e,t){return{eventCache:e,serverCache:t}}function xm(e,t,n,r){return _m(new wm(t,n,r),e.serverCache)}function Em(e,t,n,r){return _m(e.eventCache,new wm(t,n,r))}function Cm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Sm(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Tm=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(pm||(pm=new bv(up)),pm);h(this,e),this.value=t,this.children=n}return m(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Kp(),value:this.value};if(ev(e))return null;var n=Gp(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Yp(e),t);return null!=i?{path:Jp(new Hp(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(ev(t))return this;var n=Gp(t),r=this.children.get(n);return null!==r?r.subtree(Yp(t)):new e(null)}},{key:"set",value:function(t,n){if(ev(t))return new e(n,this.children);var r=Gp(t),i=(this.children.get(r)||new e(null)).set(Yp(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(ev(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Gp(t),r=this.children.get(n);if(r){var i,a=r.remove(Yp(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(ev(e))return this.value;var t=Gp(e),n=this.children.get(t);return n?n.get(Yp(e)):null}},{key:"setTree",value:function(t,n){if(ev(t))return n;var r,i=Gp(t),a=(this.children.get(i)||new e(null)).setTree(Yp(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Kp(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Jp(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Kp(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ev(e))return null;var i=Gp(e),a=this.children.get(i);return a?a.findOnPath_(Yp(e),Jp(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Kp(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(ev(t))return this;this.value&&r(n,this.value);var i=Gp(t),a=this.children.get(i);return a?a.foreachOnPath_(Yp(t),Jp(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Kp(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Jp(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return hp(t,(function(e,t){n=n.set(new Hp(e),t)})),n}}]),e}(),Im=function(){function e(t){h(this,e),this.writeTree_=t}return m(e,null,[{key:"empty",value:function(){return new e(new Tm(null))}}]),e}();function Am(e,t,n){if(ev(t))return new Im(new Tm(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=tv(i,t);return a=a.updateChild(o,n),new Im(e.writeTree_.set(i,a))}var s=new Tm(n),u=e.writeTree_.setTree(t,s);return new Im(u)}function Nm(e,t,n){var r=e;return hp(n,(function(e,n){r=Am(r,Jp(t,e),n)})),r}function Pm(e,t){if(ev(t))return Im.empty();var n=e.writeTree_.setTree(t,new Tm(null));return new Im(n)}function Dm(e,t){return null!=Om(e,t)}function Om(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(tv(n.path,t)):null}function Rm(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Dv,(function(e,n){t.push(new hv(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new hv(e,n.value))})),t}function Lm(e,t){if(ev(t))return e;var n=Om(e,t);return new Im(null!=n?new Tm(n):e.writeTree_.subtree(t))}function Mm(e){return e.writeTree_.isEmpty()}function Fm(e,t){return jm(Kp(),e.writeTree_,t)}function jm(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(vf(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jm(Jp(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Jp(e,".priority"),r)),n}function Vm(e,t){return $m(t,e)}function Bm(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));vf(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Um(s,r.path)?i=!1:iv(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=zm(e.allWrites,qm,Kp()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Pm(e.visibleWrites,r.path):hp(r.children,(function(t){e.visibleWrites=Pm(e.visibleWrites,Jp(r.path,t))}));return!0}return!1}function Um(e,t){if(e.snap)return iv(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&iv(Jp(e.path,n),t))return!0;return!1}function qm(e){return e.visible}function zm(e,t,n){for(var r=Im.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)iv(n,o)?r=Am(r,s=tv(n,o),a.snap):iv(o,n)&&(s=tv(o,n),r=Am(r,Kp(),a.snap.getChild(s)));else{if(!a.children)throw mf("WriteRecord should have .snap or .children");if(iv(n,o))r=Nm(r,s=tv(n,o),a.children);else if(iv(o,n))if(ev(s=tv(o,n)))r=Nm(r,Kp(),a.children);else{var u=Yf(a.children,Gp(s));if(u){var c=u.getChild(Yp(s));r=Am(r,Kp(),c)}}}}}return r}function Wm(e,t,n,r,i){if(r||i){var a=Lm(e.visibleWrites,t);if(!i&&Mm(a))return n;if(i||null!=n||Dm(a,Kp())){return Fm(zm(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(iv(e.path,t)||iv(t,e.path))}),t),n||jv.EMPTY_NODE)}return null}var o=Om(e.visibleWrites,t);if(null!=o)return o;var s=Lm(e.visibleWrites,t);return Mm(s)?n:null!=n||Dm(s,Kp())?Fm(s,n||jv.EMPTY_NODE):null}function Hm(e,t,n,r){return Wm(e.writeTree,e.treePath,t,n,r)}function Km(e,t){return function(e,t,n){var r=jv.EMPTY_NODE,i=Om(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Dv,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Lm(e.visibleWrites,t);return n.forEachChild(Dv,(function(e,t){var n=Fm(Lm(a,new Hp(e)),t);r=r.updateImmediateChild(e,n)})),Rm(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Rm(Lm(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Gm(e,t,n,r){return function(e,t,n,r,i){vf(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Jp(t,n);if(Dm(e.visibleWrites,a))return null;var o=Lm(e.visibleWrites,a);return Mm(o)?i.getChild(n):Fm(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Qm(e,t){return function(e,t){return Om(e.visibleWrites,t)}(e.writeTree,Jp(e.treePath,t))}function Ym(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Lm(e.visibleWrites,t),c=Om(u,Kp());if(null!=c)s=c;else{if(null==n)return[];s=Fm(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Zm(e,t,n){return function(e,t,n,r){var i=Jp(t,n),a=Om(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Fm(Lm(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Xm(e,t){return $m(Jp(e.treePath,t),e.writeTree)}function $m(e,t){return{treePath:e,writeTree:t}}var Jm=function(){function e(){h(this,e),this.changeMap=new Map}return m(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;vf("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),vf(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Qv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Gv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Kv(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw mf("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Qv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),eg=new(function(){function e(){h(this,e)}return m(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),tg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return m(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new wm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zm(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sm(this.viewCache_),i=Ym(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function ng(e,t,n,r,i){var a,o,s=new Jm;if(n.type===lm.OVERWRITE){var u=n;u.source.fromUser?a=ag(e,t,u.path,u.snap,r,i,s):(vf(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!ev(u.path),a=ig(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===lm.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Jp(n,r);og(t,Gp(c))&&(s=ag(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Jp(n,r);og(t,Gp(c))||(s=ag(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(vf(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=ug(e,t,c.path,c.children,r,i,o,s))}else if(n.type===lm.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Qm(r,n))return t;var s,u=new tg(r,t,i),c=t.eventCache.getNode();if(ev(n)||".priority"===Gp(n)){var l;if(t.serverCache.isFullyInitialized())l=Hm(r,Sm(t));else{var f=t.serverCache.getNode();vf(f instanceof jv,"serverChildren would be complete if leaf node"),l=Km(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Gp(n),d=Zm(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Yp(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,jv.EMPTY_NODE,Yp(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Hm(r,Sm(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Qm(r,Kp()),xm(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Qm(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ev(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ig(e,t,n,u.getNode().getChild(n),i,a,s,o);if(ev(n)){var c=new Tm(null);return u.getNode().forEachChild(vv,(function(e,t){c=c.set(new Hp(e),t)})),ug(e,t,n,c,i,a,s,o)}return t}var l=new Tm(null);return r.foreach((function(e,t){var r=Jp(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),ug(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==lm.LISTEN_COMPLETE)throw mf("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Em(t,a.getNode(),a.isFullyInitialized()||ev(n),a.isFiltered());return rg(e,o,n,r,eg,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Cm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Hv(Cm(t)))}}(t,a,f),{viewCache:a,changes:f}}function rg(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Qm(r,n))return t;if(ev(n))if(vf(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=Sm(t),l=Km(r,c instanceof jv?c:jv.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Hm(r,Sm(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Gp(n);if(".priority"===h){vf(1===Qp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Gm(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Yp(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Gm(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=Zm(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return xm(t,o,u.isFullyInitialized()||ev(n),e.filter.filtersNodes())}function ig(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(ev(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Gp(n);if(!c.isCompleteForPath(n)&&Qp(n)>1)return t;var d=Yp(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,eg,null)}var v=Em(t,u,c.isFullyInitialized()||ev(n),l.filtersNodes());return rg(e,v,n,i,new tg(i,v,a),s)}function ag(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new tg(i,t,a);if(ev(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=xm(t,u,!0,e.filter.filtersNodes());else{var f=Gp(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=xm(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Yp(n),p=c.getNode().getImmediateChild(f);if(ev(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Zp(d)&&v.getChild($p(d)).isEmpty()?v:v.updateChild(d,r):jv.EMPTY_NODE}if(p.equals(h))s=t;else s=xm(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function og(e,t){return e.eventCache.isCompleteForChild(t)}function sg(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function ug(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ev(n)?r:new Tm(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=sg(0,t.serverCache.getNode().getImmediateChild(n),r);c=ig(e,c,new Hp(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=sg(0,t.serverCache.getNode().getImmediateChild(n),r);c=ig(e,c,new Hp(n),f,i,a,o,s)}})),c}var cg,lg=function(){function e(t,n){h(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Yv(i.getIndex()),o=(r=i).loadsAllData()?new Yv(r.getIndex()):r.hasLimit()?new Xv(r):new Zv(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(jv.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(jv.EMPTY_NODE,u.getNode(),null),f=new wm(c,s.isFullyInitialized(),a.filtersNodes()),d=new wm(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=_m(d,f),this.eventGenerator_=new bm(this.query_)}return m(e,[{key:"query",get:function(){return this.query_}}]),e}();function fg(e,t){var n=Sm(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ev(t)&&!n.getImmediateChild(Gp(t)).isEmpty())?n.getChild(t):null}function hg(e){return 0===e.eventRegistrations_.length}function dg(e,t,n){var r=[];if(n){vf(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function pg(e,t,n,r){t.type===lm.MERGE&&null!==t.source.queryId&&(vf(Sm(e.viewCache_),"We should always have a full cache before handling merges"),vf(Cm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=ng(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,vf(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),vf(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),vf(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,vg(e,s.changes,s.viewCache.eventCache.getNode(),null)}function vg(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),km(e,i,"child_removed",t,r,n),km(e,i,"child_added",t,r,n),km(e,i,"child_moved",a,r,n),km(e,i,"child_changed",t,r,n),km(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var mg,gg=m((function e(){h(this,e),this.views=new Map}));function yg(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return vf(null!=a,"SyncTree gave us an op for an invalid query."),pg(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(pg(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function wg(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Hm(n,i?r:null),u=!1;s?u=!0:r instanceof jv?(s=Km(n,r),u=!1):(s=jv.EMPTY_NODE,u=!1);var c=_m(new wm(s,u,!1),new wm(r,i,!1));return new lg(t,c)}return o}function bg(e,t,n,r,i,a){var o=wg(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Dv,(function(e,t){r.push(Kv(e,t))})),n.isFullyInitialized()&&r.push(Hv(n.getNode())),vg(e,r,n.getNode(),t)}(o,n)}function kg(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Sg(e);if("default"===i){var u,l=C(e.views.entries());try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];o=o.concat(dg(d,n,r)),hg(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(dg(p,n,r)),hg(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Sg(e)&&a.push(new(vf(cg,"Reference.ts has not been loaded"),cg)(t._repo,t._path)),{removed:a,events:o}}function _g(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function xg(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||fg(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Eg(e,t){if(t._queryParams.loadsAllData())return Tg(e);var n=t._queryIdentifier;return e.views.get(n)}function Cg(e,t){return null!=Eg(e,t)}function Sg(e){return null!=Tg(e)}function Tg(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Ig=1,Ag=m((function e(t){h(this,e),this.listenProvider_=t,this.syncPointTree_=new Tm(null),this.pendingWriteTree_={visibleWrites:Im.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Ng(e,t,n,r,i){return function(e,t,n,r,i){vf(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Am(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Vg(e,new gm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Pg(e,t,n,r){!function(e,t,n,r){vf(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Nm(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Tm.fromObject(n);return Vg(e,new ym({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Dg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Bm(e.pendingWriteTree_,t)){var i=new Tm(null);return null!=r.snap?i=i.set(Kp(),!0):hp(r.children,(function(e){i=i.set(new Hp(e),!0)})),Vg(e,new vm(r.path,i,n))}return[]}function Og(e,t,n){return Vg(e,new gm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Rg(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Cg(o,t))){var u=kg(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Sg(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Sg(t))return[Tg(t)];var r=[];return t&&(r=_g(t)),hp(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,g=qg(e,v);e.listenProvider_.startListening(Qg(m),zg(e,m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(Qg(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get(Wg(t));e.listenProvider_.stopListening(Qg(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Wg(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function Lg(e,t,n,r){var i=Hg(e,r);if(null!=i){var a=Kg(i),o=a.path,s=a.queryId,u=tv(o,t);return Gg(e,o,new gm(dm(s),u,n))}return[]}function Mg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=tv(e,i);a=a||xg(t,n),o=o||Sg(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Sg(u),a=a||xg(u,Kp())):(u=new gg,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=jv.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=xg(t,Kp());n&&(a=a.updateImmediateChild(e,n))})));var c=Cg(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Wg(t);vf(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=Ig++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=bg(u,t,n,Vm(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=Eg(u,t);h=h.concat(function(e,t,n){var r=t._path,i=zg(e,t),a=qg(e,n),o=e.listenProvider_.startListening(Qg(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)vf(!Sg(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!ev(e)&&t&&Sg(t))return[Tg(t).query];var r=[];return t&&(r=r.concat(_g(t).map((function(e){return e.query})))),hp(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Qg(l),zg(e,l))}return o}(e,t,d))}return h}function Fg(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=xg(n,tv(e,t));if(r)return r}));return Wm(r,t,i,n,!0)}function jg(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=tv(e,n);r=r||xg(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||xg(i,Kp()):(i=new gg,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new wm(r,!0,!1):null;return function(e){return Cm(e.viewCache_)}(wg(i,t,Vm(e.pendingWriteTree_,t._path),a?o.getNode():jv.EMPTY_NODE,a))}function Vg(e,t){return Bg(t,e.syncPointTree_,null,Vm(e.pendingWriteTree_,Kp()))}function Bg(e,t,n,r){if(ev(e.path))return Ug(e,t,n,r);var i=t.get(Kp());null==n&&null!=i&&(n=xg(i,Kp()));var a=[],o=Gp(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Xm(r,o);a=a.concat(Bg(s,u,c,l))}return i&&(a=a.concat(yg(i,e,r,n))),a}function Ug(e,t,n,r){var i=t.get(Kp());null==n&&null!=i&&(n=xg(i,Kp()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Xm(r,t),u=e.operationForChild(t);u&&(a=a.concat(Ug(u,i,o,s)))})),i&&(a=a.concat(yg(i,e,r,n))),a}function qg(e,t){var n=t.query,r=zg(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||jv.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Hg(e,n);if(r){var i=Kg(r),a=i.path,o=i.queryId,s=tv(a,t);return Gg(e,a,new mm(dm(o),s))}return[]}(e,n._path,r):function(e,t){return Vg(e,new mm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Rg(e,n,null,i)}}}function zg(e,t){var n=Wg(t);return e.queryToTagMap.get(n)}function Wg(e){return e._path.toString()+"$"+e._queryIdentifier}function Hg(e,t){return e.tagToQueryMap.get(t)}function Kg(e){var t=e.indexOf("$");return vf(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Hp(e.substr(0,t))}}function Gg(e,t,n){var r=e.syncPointTree_.get(t);return vf(r,"Missing sync point for query tag that we're tracking"),yg(r,n,Vm(e.pendingWriteTree_,t),null)}function Qg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vf(mg,"Reference.ts has not been loaded"),mg)(e._repo,e._path):e}var Yg=function(){function e(t){h(this,e),this.node_=t}return m(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Zg=function(){function e(t,n){h(this,e),this.syncTree_=t,this.path_=n}return m(e,[{key:"getImmediateChild",value:function(t){var n=Jp(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Fg(this.syncTree_,this.path_)}}]),e}(),Xg=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},$g=function(e,t,n){return e&&"object"===typeof e?(vf(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Jg(e[".sv"],t,n):"object"===typeof e[".sv"]?ey(e[".sv"],t):void vf(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Jg=function(e,t,n){if("timestamp"===e)return n.timestamp;vf(!1,"Unexpected server value: "+e)},ey=function(e,t,n){e.hasOwnProperty("increment")||vf(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&vf(!1,"Unexpected increment value: "+r);var i=t.node();if(vf(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ty=function(e,t,n,r){return ry(t,new Zg(n,e),r)},ny=function(e,t,n){return ry(e,new Yg(t),n)};function ry(e,t,n){var r,i=e.getPriority().val(),a=$g(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=$g(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Iv(s,Uv(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Iv(a))),u.forEachChild(Dv,(function(e,i){var a=ry(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var iy=m((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};h(this,e),this.name=t,this.parent=n,this.node=r}));function ay(e,t){for(var n=t instanceof Hp?t:new Hp(t),r=e,i=Gp(n);null!==i;){var a=Yf(r.node.children,i)||{children:{},childCount:0};r=new iy(i,r,a),i=Gp(n=Yp(n))}return r}function oy(e){return e.node.value}function sy(e,t){e.node.value=t,hy(e)}function uy(e){return e.node.childCount>0}function cy(e,t){hp(e.node.children,(function(n,r){t(new iy(n,e,r))}))}function ly(e,t,n,r){n&&!r&&t(e),cy(e,(function(e){ly(e,t,!0,r)})),n&&r&&t(e)}function fy(e){return new Hp(null===e.parent?e.name:fy(e.parent)+"/"+e.name)}function hy(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===oy(e)&&!uy(e)}(n),i=Qf(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hy(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,hy(e))}(e.parent,e.name,e)}var dy=/[\[\].#$\/\u0000-\u001F\u007F]/,py=/[\[\].#$\u0000-\u001F\u007F]/,vy=10485760,my=function(e){return"string"===typeof e&&0!==e.length&&!dy.test(e)},gy=function(e){return"string"===typeof e&&0!==e.length&&!py.test(e)},yy=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!ip(e)||e&&"object"===typeof e&&Qf(e,".sv")},wy=function(e,t,n,r){r&&void 0===t||by(uh(e,"value"),t,n)},by=function e(t,n,r){var i=r instanceof Hp?new av(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+sv(i));if("function"===typeof n)throw new Error(t+"contains a function "+sv(i)+" with contents = "+n.toString());if(ip(n))throw new Error(t+"contains "+n.toString()+" "+sv(i));if("string"===typeof n&&n.length>vy/3&&fh(n)>vy)throw new Error(t+"contains a string greater than "+vy+" utf8 bytes "+sv(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(hp(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!my(n)))throw new Error(t+" contains an invalid key ("+n+") "+sv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fh(t),ov(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=fh(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+sv(i)+" in addition to actual children.")}},ky=function(e,t,n,r){if(!r||void 0!==t){var i=uh(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];hp(t,(function(e,t){var r=new Hp(e);if(by(i,t,Jp(n,r)),".priority"===Zp(r)&&!yy(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Xp(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!my(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(nv);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&iv(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},_y=function(e,t,n){if(!n||void 0!==t){if(ip(t))throw new Error(uh(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yy(t))throw new Error(uh(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xy=function(e,t,n,r){if((!r||void 0!==n)&&!my(n))throw new Error(uh(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ey=function(e,t,n,r){if((!r||void 0!==n)&&!gy(n))throw new Error(uh(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cy=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ey(e,t,n,r)},Sy=function(e,t){if(".info"===Gp(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ty=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!my(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gy(e)}(n))throw new Error(uh(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Iy=m((function e(){h(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Ay(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||rv(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ny(e,t,n){Ay(e,n),Dy(e,(function(e){return rv(e,t)}))}function Py(e,t,n){Ay(e,n),Dy(e,(function(e){return iv(e,t)||iv(t,e)}))}function Dy(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Oy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Oy(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Zd&&Jd("event: "+n.toString()),mp(r)}}}var Ry="repo_interrupt",Ly=25,My=function(){function e(t,n,r,i){h(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Iy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=om(),this.transactionQueueTree_=new iy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return m(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Fy(e,t,n){if(e.stats_=Pp(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new im(e.repoInfo_,(function(t,n,r,i){By(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Uy(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kf(n)}catch($Y){throw new Error("Invalid authOverride provided: "+$Y)}}e.persistentConnection_=new lv(e.repoInfo_,t,(function(t,n,r,i){By(e,t,n,r,i)}),(function(t){Uy(e,t)}),(function(t){!function(e,t){hp(t,(function(t,n){qy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Np[n]||(Np[n]=t()),Np[n]}(e.repoInfo_,(function(){return new hm(e.stats_,e.server_)})),e.infoData_=new am,e.infoSyncTree_=new Ag({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Og(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),qy(e,"connected",!1),e.serverSyncTree_=new Ag({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Py(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function jy(e){var t=e.infoData_.getNode(new Hp(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vy(e){return Xg({timestamp:jy(e)})}function By(e,t,n,r,i){e.dataUpdateCount++;var a=new Hp(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Xf(n,(function(e){return Uv(e)}));o=function(e,t,n,r){var i=Hg(e,r);if(i){var a=Kg(i),o=a.path,s=a.queryId,u=tv(o,t),c=Tm.fromObject(n);return Gg(e,o,new ym(dm(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Uv(n);o=Lg(e.serverSyncTree_,a,u,i)}else if(r){var c=Xf(n,(function(e){return Uv(e)}));o=function(e,t,n){var r=Tm.fromObject(n);return Vg(e,new ym({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Uv(n);o=Og(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Jy(e,a)),Py(e.eventQueue_,f,o)}function Uy(e,t){qy(e,"connected",t),!1===t&&function(e){Yy(e,"onDisconnectEvents");var t=Vy(e),n=om();cm(e.onDisconnect_,Kp(),(function(r,i){var a=ty(r,i,e.serverSyncTree_,t);sm(n,r,a)}));var r=[];cm(n,Kp(),(function(t,n){r=r.concat(Og(e.serverSyncTree_,t,n));var i=iw(e,t);Jy(e,i)})),e.onDisconnect_=om(),Py(e.eventQueue_,Kp(),r)}(e)}function qy(e,t,n){var r=new Hp("/.info/"+t),i=Uv(n);e.infoData_.updateSnapshot(r,i);var a=Og(e.infoSyncTree_,r,i);Py(e.eventQueue_,r,a)}function zy(e){return e.nextWriteId_++}function Wy(e,t,n,r,i){Yy(e,"set",{path:t.toString(),value:n,priority:r});var a=Vy(e),o=Uv(n,r),s=Fg(e.serverSyncTree_,t),u=ny(o,s,a),c=zy(e),l=Ng(e.serverSyncTree_,t,u,c,!0);Ay(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||rp("set at "+t+" failed: "+n);var o=Dg(e.serverSyncTree_,c,!a);Py(e.eventQueue_,t,o),Zy(e,i,n,r)}));var f=iw(e,t);Jy(e,f),Py(e.eventQueue_,f,[])}function Hy(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&um(e.onDisconnect_,t),Zy(e,n,r,i)}))}function Ky(e,t,n,r){var i=Uv(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&sm(e.onDisconnect_,t,i),Zy(e,r,n,a)}))}function Gy(e,t,n){var r;r=".info"===Gp(t._path)?Rg(e.infoSyncTree_,t,n):Rg(e.serverSyncTree_,t,n),Ny(e.eventQueue_,t._path,r)}function Qy(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ry)}function Yy(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Jd.apply(void 0,[t].concat(r))}function Zy(e,t,n,r){t&&mp((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Xy(e,t,n){return Fg(e.serverSyncTree_,t,n)||jv.EMPTY_NODE}function $y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||rw(e,t),oy(t)){var n=tw(e,t);vf(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Xy(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];vf(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=tv(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Yy(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Dg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);rw(e,ay(e.transactionQueueTree_,t)),$y(e,e.transactionQueueTree_),Py(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)mp(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{rp("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Jy(e,t)}}),o)}(e,fy(t),n)}else uy(t)&&cy(t,(function(t){$y(e,t)}))}function Jy(e,t){var n=ew(e,t),r=fy(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=tv(n,c.path),f=!1;if(vf(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,s=c.abortReason,i=i.concat(Dg(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Ly)f=!0,s="maxretry",i=i.concat(Dg(e.serverSyncTree_,c.currentWriteId,!0));else{var h=Xy(e,c.path,o);c.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){by("transaction failed: Data returned ",d,c.path);var p=Uv(d);"object"===typeof d&&null!=d&&Qf(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=c.currentWriteId,m=Vy(e),g=ny(p,h,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=zy(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Ng(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(Dg(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(Dg(e.serverSyncTree_,c.currentWriteId,!0))}Py(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);rw(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)mp(r[c]);$y(e,e.transactionQueueTree_)}(e,tw(e,n),r),r}function ew(e,t){var n,r=e.transactionQueueTree_;for(n=Gp(t);null!==n&&void 0===oy(r);)r=ay(r,n),n=Gp(t=Yp(t));return r}function tw(e,t){var n=[];return nw(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function nw(e,t,n){var r=oy(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);cy(t,(function(t){nw(e,t,n)}))}function rw(e,t){var n=oy(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,sy(t,n.length>0?n:void 0)}cy(t,(function(t){rw(e,t)}))}function iw(e,t){var n=fy(ew(e,t)),r=ay(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){aw(e,t)})),aw(e,r),ly(r,(function(t){aw(e,t)})),n}function aw(e,t){var n=oy(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(vf(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(vf(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Dg(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?sy(t,void 0):n.length=a+1,Py(e.eventQueue_,fy(t),i);for(var s=0;s<r.length;s++)mp(r[s])}}var ow=function(e,t){var n=sw(e),r=n.namespace;"firebase.com"===n.domain&&np(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||np("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rp("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Sp(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Hp(n.pathString)}},sw=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch($Y){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rp("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},uw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cw=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=uw.charAt(n%64),n=Math.floor(n/64);vf(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=uw.charAt(t[r]);return vf(20===o.length,"nextPushId: Length should be 20."),o}}(),lw=function(){function e(t,n,r,i){h(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return m(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Kf(this.snapshot.exportVal())}}]),e}(),fw=function(){function e(t,n,r){h(this,e),this.eventRegistration=t,this.error=n,this.path=r}return m(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),hw=function(){function e(t,n){h(this,e),this.snapshotCallback=t,this.cancelCallback=n}return m(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return vf(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),dw=function(){function e(t,n){h(this,e),this._repo=t,this._path=n}return m(e,[{key:"cancel",value:function(){var e=new Pf;return Hy(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Sy("OnDisconnect.remove",this._path);var e=new Pf;return Ky(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Sy("OnDisconnect.set",this._path),wy("OnDisconnect.set",e,this._path,!1);var t=new Pf;return Ky(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Sy("OnDisconnect.setWithPriority",this._path),wy("OnDisconnect.setWithPriority",e,this._path,!1),_y("OnDisconnect.setWithPriority",t,!1);var n=new Pf;return function(e,t,n,r,i){var a=Uv(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&sm(e.onDisconnect_,t,a),Zy(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Sy("OnDisconnect.update",this._path),ky("OnDisconnect.update",e,this._path,!1);var t=new Pf;return function(e,t,n,r){if(Zf(n))return Jd("onDisconnect().update() called with empty data.  Don't do anything."),void Zy(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&hp(n,(function(n,r){var i=Uv(r);sm(e.onDisconnect_,Jp(t,n),i)})),Zy(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),pw=function(){function e(t,n,r,i){h(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return m(e,[{key:"key",get:function(){return ev(this._path)?null:Zp(this._path)}},{key:"ref",get:function(){return new yw(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=rm(this._queryParams),t=lp(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return rm(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=gh(t))instanceof e))return!1;var n=this._repo===t._repo,r=rv(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function vw(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function mw(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===vv){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ap)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==op)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Dv){if(null!=t&&!yy(t)||null!=n&&!yy(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vf(e.getIndex()instanceof qv||e.getIndex()===Wv,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gw(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var yw=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,r,new $v,!1)}return m(n,[{key:"parent",get:function(){var e=$p(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(pw),ww=function(){function e(t,n,r){h(this,e),this._node=t,this.ref=n,this._index=r}return m(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Hp(t),r=_w(this.ref,t);return new e(this._node.getChild(n),r,Dv)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,_w(n.ref,r),Dv))}))}},{key:"hasChild",value:function(e){var t=new Hp(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function bw(e,t){return(e=gh(e))._checkNotDeleted("ref"),void 0!==t?_w(e._root,t):e._root}function kw(e,t){(e=gh(e))._checkNotDeleted("refFromURL");var n=ow(t,e._repo.repoInfo_.nodeAdmin);Ty("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||np("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),bw(e,n.path.toString())}function _w(e,t){return null===Gp((e=gh(e))._path)?Cy("child","path",t,!1):Ey("child","path",t,!1),new yw(e._repo,Jp(e._path,t))}function xw(e){return Sy("remove",e._path),Ew(e,null)}function Ew(e,t){e=gh(e),Sy("set",e._path),wy("set",t,e._path,!1);var n=new Pf;return Wy(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Cw(e,t){ky("update",t,e._path,!1);var n=new Pf;return function(e,t,n,r){Yy(e,"update",{path:t.toString(),value:n});var i=!0,a=Vy(e),o={};if(hp(n,(function(n,r){i=!1,o[n]=ty(Jp(t,n),Uv(r),e.serverSyncTree_,a)})),i)Jd("update() called with empty data.  Don't do anything."),Zy(0,r,"ok",void 0);else{var s=zy(e),u=Pg(e.serverSyncTree_,t,o,s);Ay(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||rp("update at "+t+" failed: "+n);var o=Dg(e.serverSyncTree_,s,!a),u=o.length>0?Jy(e,t):t;Py(e.eventQueue_,u,o),Zy(0,r,n,i)})),hp(n,(function(n){var r=iw(e,Jp(t,n));Jy(e,r)})),Py(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Sw(e){e=gh(e);var t=new hw((function(){})),n=new Tw(t);return function(e,t,n){var r=jg(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Uv(r).withIndex(t._queryParams.getIndex());if(Mg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Og(e.serverSyncTree_,t._path,a);else{var o=zg(e.serverSyncTree_,t);i=Lg(e.serverSyncTree_,t._path,a,o)}return Py(e.eventQueue_,t._path,i),Rg(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Yy(e,"get for query "+Kf(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new ww(t,new yw(e._repo,e._path),e._queryParams.getIndex())}))}var Tw=function(){function e(t){h(this,e),this.callbackContext=t}return m(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new lw("value",this,new ww(e.snapshotNode,new yw(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new fw(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Iw=function(){function e(t,n){h(this,e),this.eventType=t,this.callbackContext=n}return m(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new fw(this,e,t):null}},{key:"createEvent",value:function(e,t){vf(null!=e.childName,"Child events should have a childName.");var n=_w(new yw(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new lw(e.type,this,new ww(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Aw(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Gy(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new hw(n,a||void 0),c="value"===t?new Tw(u):new Iw(t,u);return function(e,t,n){var r;r=".info"===Gp(t._path)?Mg(e.infoSyncTree_,t,n):Mg(e.serverSyncTree_,t,n),Ny(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Gy(e._repo,e,c)}}function Nw(e,t,n,r){return Aw(e,"value",t,n,r)}function Pw(e,t,n,r){return Aw(e,"child_added",t,n,r)}function Dw(e,t,n,r){return Aw(e,"child_changed",t,n,r)}function Ow(e,t,n,r){return Aw(e,"child_moved",t,n,r)}function Rw(e,t,n,r){return Aw(e,"child_removed",t,n,r)}function Lw(e,t,n){var r=null,i=n?new hw(n):null;"value"===t?r=new Tw(i):t&&(r=new Iw(t,i)),Gy(e._repo,e,r)}var Mw=m((function e(){h(this,e)})),Fw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){wy("endAt",this._value,e._path,!0);var t=em(e._queryParams,this._value,this._key);if(gw(t),mw(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pw(e._repo,e._path,t,e._orderByCalled)}}]),n}(Mw);var jw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){wy("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===vv||n?em(e,t,n):em(e,t,ap)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(gw(t),mw(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pw(e._repo,e._path,t,e._orderByCalled)}}]),n}(Mw);var Vw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){wy("startAt",this._value,e._path,!0);var t=Jv(e._queryParams,this._value,this._key);if(gw(t),mw(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new pw(e._repo,e._path,t,e._orderByCalled)}}]),n}(Mw);var Bw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){wy("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===vv||n?Jv(e,t,n):Jv(e,t,op)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(gw(t),mw(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new pw(e._repo,e._path,t,e._orderByCalled)}}]),n}(Mw);var Uw=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this))._limit=e,r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new pw(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Mw);var qw=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this))._limit=e,r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new pw(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Mw);var zw=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this))._path=e,r}return m(n,[{key:"_apply",value:function(e){vw(e,"orderByChild");var t=new Hp(this._path);if(ev(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new qv(t),r=tm(e._queryParams,n);return mw(r),new pw(e._repo,e._path,r,!0)}}]),n}(Mw);var Ww=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){vw(e,"orderByKey");var t=tm(e._queryParams,vv);return mw(t),new pw(e._repo,e._path,t,!0)}}]),n}(Mw);var Hw=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){vw(e,"orderByPriority");var t=tm(e._queryParams,Dv);return mw(t),new pw(e._repo,e._path,t,!0)}}]),n}(Mw);var Kw=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_apply",value:function(e){vw(e,"orderByValue");var t=tm(e._queryParams,Wv);return mw(t),new pw(e._repo,e._path,t,!0)}}]),n}(Mw);var Gw=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._value=e,i._key=r,i}return m(n,[{key:"_apply",value:function(e){if(wy("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fw(this._value,this._key)._apply(new Vw(this._value,this._key)._apply(e))}}]),n}(Mw);function Qw(e){for(var t=gh(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){vf(!cg,"__referenceConstructor has already been defined"),cg=e}(yw),function(e){vf(!mg,"__referenceConstructor has already been defined"),mg=e}(yw);var Yw="FIREBASE_DATABASE_EMULATOR_HOST",Zw={},Xw=!1;function $w(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||np("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jd("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ow(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Yw]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=ow(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new bp(bp.OWNER):new wp(e.name,e.options,t);Ty("Invalid Firebase Database URL",s),ev(s.path)||np("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Zw[t.name];i||(i={},Zw[t.name]=i);var a=i[e.toURLString()];a&&np("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new My(e,Xw,n,r),i[e.toURLString()]=a,a}(u,e,l,new yp(e.name,n));return new Jw(f,e)}var Jw=function(){function e(t,n){h(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return m(e,[{key:"_repo",get:function(){return this._instanceStarted||(Fy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new yw(this._repo,Kp())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Zw[t];n&&n[e.key]===e||np("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Qy(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&np("Cannot call "+e+" on a deleted database.")}}]),e}();function eb(){jp.IS_TRANSPORT_INITIALIZED&&rp("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function tb(){eb(),Rp.forceDisallow()}function nb(){eb(),Fp.forceDisallow(),Rp.forceAllow()}function rb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=gh(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&np("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&np('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new bp(bp.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Df(r.mockUserToken,e.app.options.projectId);a=new bp(o)}!function(e,t,n,r){e.repoInfo_=new Sp("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function ib(e){var t;(e=gh(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Ry)}function ab(e,t){$d(e,t)}var ob={".sv":"timestamp"};var sb=function(){function e(t,n){h(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function ub(e,t,n){var r;if(e=gh(e),Sy("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Pf,o=Nw(e,(function(){}));return function(e,t,n,r,i,a){Yy(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Gd(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Xy(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{by("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=ay(e.transactionQueueTree_,t),f=oy(l)||[];f.push(o),sy(l,f),"object"===typeof u&&null!==u&&Qf(u,".priority")?(c=Yf(u,".priority"),vf(yy(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(Fg(e.serverSyncTree_,t)||jv.EMPTY_NODE).getPriority().val();var h=Vy(e),d=Uv(u,c),p=ny(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=zy(e);var v=Ng(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Py(e.eventQueue_,t,v),$y(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new ww(r,new yw(e._repo,e._path),Dv),a.resolve(new sb(n,i)))}),o,i),a.promise}lv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},lv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var cb;!function(e){Bd(hd),ad(new yh("database",(function(e,t){var n=t.instanceIdentifier;return $w(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),yd(Fd,jd,e),yd(Fd,jd,"esm2017")}();var lb=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,rd(t,new yh("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),md(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jh;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jh;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){rd(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){id(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),fb=(Ge(cb={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ge(cb,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),cb),hb=new zf("app-compat","Firebase",fb);var db=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=dd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Qf(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:yd,setLogLevel:bd,onLog:wd,apps:null,SDK_VERSION:hd,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ad(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw hb.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&xf(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Qf(n,e=e||Jh))throw hb.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(lb);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){xf(n,e)},createSubscribe:ih,ErrorFactory:zf,deepExtend:xf}),n}(),pb=new Ah("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){pb.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var vb=self.firebase.SDK_VERSION;vb&&vb.indexOf("LITE")>=0&&pb.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var mb=db;!function(e){yd("@firebase/app-compat","0.2.10",e)}();mb.registerVersion("firebase","9.22.0","app-compat");var gb=new Ah("@firebase/database-compat"),yb=function(e){var t="FIREBASE WARNING: "+e;gb.warn(t)},wb=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"cancel",value:function(e){sh("OnDisconnect.cancel",0,1,arguments.length),ch("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){sh("OnDisconnect.remove",0,1,arguments.length),ch("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){sh("OnDisconnect.set",1,2,arguments.length),ch("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){sh("OnDisconnect.setWithPriority",2,3,arguments.length),ch("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(sh("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,yb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ch("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),bb=function(){function e(t,n){h(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return sh("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),kb=function(){function e(t,n){h(this,e),this._database=t,this._delegate=n}return m(e,[{key:"val",value:function(){return sh("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return sh("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return sh("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return sh("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return sh("DataSnapshot.child",0,1,arguments.length),t=String(t),Ey("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return sh("DataSnapshot.hasChild",1,1,arguments.length),Ey("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return sh("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return sh("DataSnapshot.forEach",1,1,arguments.length),ch("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return sh("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return sh("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return sh("DataSnapshot.ref",0,0,arguments.length),new xb(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),_b=function(){function e(t,n){h(this,e),this.database=t,this._delegate=n}return m(e,[{key:"on",value:function(t,n,r,i){var a,o=this;sh("Query.on",2,4,arguments.length),ch("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new kb(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return Nw(this._delegate,u,c),n;case"child_added":return Pw(this._delegate,u,c),n;case"child_removed":return Rw(this._delegate,u,c),n;case"child_changed":return Dw(this._delegate,u,c),n;case"child_moved":return Ow(this._delegate,u,c),n;default:throw new Error(uh("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(sh("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(uh(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),ch("Query.off","callback",t,!0),lh("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Lw(this._delegate,e,r)}else Lw(this._delegate,e)}},{key:"get",value:function(){var e=this;return Sw(this._delegate).then((function(t){return new kb(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;sh("Query.once",1,4,arguments.length),ch("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Pf,u=function(e,t){var r=new kb(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":Nw(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Pw(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Rw(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Dw(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Ow(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(uh("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return sh("Query.limitToFirst",1,1,arguments.length),new e(this.database,Qw(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Uw(e)}(t)))}},{key:"limitToLast",value:function(t){return sh("Query.limitToLast",1,1,arguments.length),new e(this.database,Qw(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new qw(e)}(t)))}},{key:"orderByChild",value:function(t){return sh("Query.orderByChild",1,1,arguments.length),new e(this.database,Qw(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ey("orderByChild","path",e,!1),new zw(e)}(t)))}},{key:"orderByKey",value:function(){return sh("Query.orderByKey",0,0,arguments.length),new e(this.database,Qw(this._delegate,new Ww))}},{key:"orderByPriority",value:function(){return sh("Query.orderByPriority",0,0,arguments.length),new e(this.database,Qw(this._delegate,new Hw))}},{key:"orderByValue",value:function(){return sh("Query.orderByValue",0,0,arguments.length),new e(this.database,Qw(this._delegate,new Kw))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return sh("Query.startAt",0,2,arguments.length),new e(this.database,Qw(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return xy("startAt","key",t,!0),new Vw(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return sh("Query.startAfter",0,2,arguments.length),new e(this.database,Qw(this._delegate,function(e,t){return xy("startAfter","key",t,!0),new Bw(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return sh("Query.endAt",0,2,arguments.length),new e(this.database,Qw(this._delegate,function(e,t){return xy("endAt","key",t,!0),new Fw(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return sh("Query.endBefore",0,2,arguments.length),new e(this.database,Qw(this._delegate,function(e,t){return xy("endBefore","key",t,!0),new jw(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return sh("Query.equalTo",1,2,arguments.length),new e(this.database,Qw(this._delegate,function(e,t){return xy("equalTo","key",t,!0),new Gw(e,t)}(t,n)))}},{key:"toString",value:function(){return sh("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return sh("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(sh("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new xb(this.database,new yw(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,ch(e,"cancel",r.cancel,!0),r.context=n,lh(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(uh(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),xb=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,new pw(r._repo,r._path,new $v,!1))).database=e,i._delegate=r,i}return m(n,[{key:"getKey",value:function(){return sh("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return sh("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,_w(this._delegate,e))}},{key:"getParent",value:function(){sh("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return sh("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){sh("Reference.set",1,2,arguments.length),ch("Reference.set","onComplete",t,!0);var n=Ew(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(sh("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,yb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sy("Reference.update",this._delegate._path),ch("Reference.update","onComplete",t,!0);var i=Cw(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){sh("Reference.setWithPriority",2,3,arguments.length),ch("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(Sy("setWithPriority",e._path),wy("setWithPriority",t,e._path,!1),_y("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Pf;return Wy(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){sh("Reference.remove",0,1,arguments.length),ch("Reference.remove","onComplete",e,!0);var t=xw(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;sh("Reference.transaction",1,3,arguments.length),ch("Reference.transaction","transactionUpdate",e,!1),ch("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(uh(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=ub(this._delegate,e,{applyLocally:n}).then((function(e){return new bb(e.committed,new kb(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){sh("Reference.setPriority",1,2,arguments.length),ch("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=gh(e),Sy("setPriority",e._path),_y("setPriority",t,!1);var n=new Pf;return Wy(e._repo,Jp(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;sh("Reference.push",0,2,arguments.length),ch("Reference.push","onComplete",t,!0);var i=function(e,t){e=gh(e),Sy("push",e._path),wy("push",t,e._path,!0);var n,r=jy(e._repo),i=cw(r),a=_w(e,i),o=_w(e,i);return n=null!=t?Ew(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Sy("Reference.onDisconnect",this._delegate._path),new wb(new dw(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(_b),Eb=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:tb,forceLongPolling:nb}}return m(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rb(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(sh("database.ref",0,1,arguments.length),e instanceof xb){var t=kw(this._delegate,e.toString());return new xb(this,t)}var n=bw(this._delegate,e);return new xb(this,n)}},{key:"refFromURL",value:function(e){sh("database.refFromURL",1,1,arguments.length);var t=kw(this._delegate,e);return new xb(this,t)}},{key:"goOffline",value:function(){return sh("database.goOffline",0,0,arguments.length),function(e){(e=gh(e))._checkNotDeleted("goOffline"),Qy(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return sh("database.goOnline",0,0,arguments.length),ib(this._delegate)}}]),e}();Eb.ServerValue={TIMESTAMP:ob,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var Cb,Sb=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;Bd(r);var u=new bh("auth-internal",new xh("database-standalone"));return u.setComponent(new yh("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Eb($w(t,u,void 0,n,s),t),namespace:a}}}),Tb=Eb.ServerValue;(Cb=mb).INTERNAL.registerComponent(new yh("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Eb(i,r)}),"PUBLIC").setServiceProps({Reference:xb,Query:_b,Database:Eb,DataSnapshot:kb,enableLogging:ab,INTERNAL:Sb,ServerValue:Tb}).setMultipleInstances(!0)),Cb.registerVersion("@firebase/database-compat","0.3.4");var Ib,Ab="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nb={},Pb=Pb||{},Db=Ab||self;function Ob(){}function Rb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Lb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Mb="closure_uid_"+(1e9*Math.random()>>>0),Fb=0;function jb(e,t,n){return e.call.apply(e.bind,arguments)}function Vb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bb(e,t,n){return(Bb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jb:Vb).apply(null,arguments)}function Ub(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qb(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function zb(){this.s=this.s,this.o=this.o}zb.prototype.s=!1,zb.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Mb)&&e[Mb]||(e[Mb]=++Fb))},zb.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kb(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Rb(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Gb(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gb.prototype.h=function(){this.defaultPrevented=!0};var Qb=function(){if(!Db.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Db.addEventListener("test",Ob,t),Db.removeEventListener("test",Ob,t)}catch(n){}return e}();function Yb(e){return/^[\s\xa0]*$/.test(e)}var Zb=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Xb(e,t){return e<t?-1:e>t?1:0}function $b(){var e=Db.navigator;return e&&(e=e.userAgent)?e:""}function Jb(e){return-1!=$b().indexOf(e)}function ek(e){return ek[" "](e),e}function tk(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}ek[" "]=Ob;var nk,rk=Jb("Opera"),ik=Jb("Trident")||Jb("MSIE"),ak=Jb("Edge"),ok=ak||ik,sk=Jb("Gecko")&&!(-1!=$b().toLowerCase().indexOf("webkit")&&!Jb("Edge"))&&!(Jb("Trident")||Jb("MSIE"))&&!Jb("Edge"),uk=-1!=$b().toLowerCase().indexOf("webkit")&&!Jb("Edge");function ck(){var e=Db.document;return e?e.documentMode:void 0}e:{var lk="",fk=function(){var e=$b();return sk?/rv:([^\);]+)(\)|;)/.exec(e):ak?/Edge\/([\d\.]+)/.exec(e):ik?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):uk?/WebKit\/(\S+)/.exec(e):rk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fk&&(lk=fk?fk[1]:""),ik){var hk=ck();if(null!=hk&&hk>parseFloat(lk)){nk=String(hk);break e}}nk=lk}var dk,pk={};if(Db.document&&ik){var vk=ck();dk=vk||(parseInt(nk,10)||void 0)}else dk=void 0;var mk=dk;function gk(e,t){if(Gb.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sk){e:{try{ek(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gk.$.h.call(this)}}qb(gk,Gb);var yk={2:"touch",3:"pen",4:"mouse"};gk.prototype.h=function(){gk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wk="closure_listenable_"+(1e6*Math.random()|0),bk=0;function kk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++bk,this.fa=this.ia=!1}function _k(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ek(e){var t={};for(var n in e)t[n]=e[n];return t}var Ck="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ck.length;a++)n=Ck[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tk(e){this.src=e,this.g={},this.h=0}function Ik(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Wb(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(_k(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ak(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Tk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ak(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new kk(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Nk="closure_lm_"+(1e6*Math.random()|0),Pk={};function Dk(e,t,n,r,i){if(r&&r.once)return Rk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Dk(e,t[a],n,r,i);return null}return n=Uk(n),e&&e[wk]?e.O(t,n,Lb(r)?!!r.capture:!!r,i):Ok(e,t,n,!1,r,i)}function Ok(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Lb(i)?!!i.capture:!!i,s=Vk(e);if(s||(e[Nk]=s=new Tk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=jk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qb||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rk(e,t[a],n,r,i);return null}return n=Uk(n),e&&e[wk]?e.P(t,n,Lb(r)?!!r.capture:!!r,i):Ok(e,t,n,!0,r,i)}function Lk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Lk(e,t[a],n,r,i);else r=Lb(r)?!!r.capture:!!r,n=Uk(n),e&&e[wk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ak(a=e.g[t],n,r,i))&&(_k(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Vk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ak(t,n,r,i)),(n=-1<e?t[e]:null)&&Mk(n))}function Mk(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[wk])Ik(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vk(t))?(Ik(n,e),0==n.h&&(n.src=null,t[Nk]=null)):_k(e)}}}function Fk(e){return e in Pk?Pk[e]:Pk[e]="on"+e}function jk(e,t){if(e.fa)e=!0;else{t=new gk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Mk(e),e=n.call(r,t)}return e}function Vk(e){return(e=e[Nk])instanceof Tk?e:null}var Bk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uk(e){return"function"===typeof e?e:(e[Bk]||(e[Bk]=function(t){return e.handleEvent(t)}),e[Bk])}function qk(){zb.call(this),this.i=new Tk(this),this.S=this,this.J=null}function zk(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Gb(t,e);else if(t instanceof Gb)t.target=t.target||e;else{var i=t;Sk(t=new Gb(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Wk(o,r,!0,t)&&i}if(i=Wk(o=t.g=e,r,!0,t)&&i,i=Wk(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Wk(o=t.g=n[a],r,!1,t)&&i}function Wk(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ik(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}qb(qk,zb),qk.prototype[wk]=!0,qk.prototype.removeEventListener=function(e,t,n,r){Lk(this,e,t,n,r)},qk.prototype.N=function(){if(qk.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_k(n[r]);delete t.g[e],t.h--}}this.J=null},qk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qk.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Hk=Db.JSON.stringify;function Kk(){var e=e_,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gk,Qk=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=Yk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yk=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zk}),(function(e){return e.reset()})),Zk=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Xk(e){Db.setTimeout((function(){throw e}),0)}function $k(e,t){Gk||function(){var e=Db.Promise.resolve(void 0);Gk=function(){e.then(t_)}}(),Jk||(Gk(),Jk=!0),e_.add(e,t)}var Jk=!1,e_=new Qk;function t_(){for(var e;e=Kk();){try{e.h.call(e.g)}catch(n){Xk(n)}var t=Yk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jk=!1}function n_(e,t){qk.call(this),this.h=e||1,this.g=t||Db,this.j=Bb(this.qb,this),this.l=Date.now()}function r_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function i_(e,t,n){if("function"===typeof e)n&&(e=Bb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bb(e.handleEvent,e)}return 2147483647<Number(t)?-1:Db.setTimeout(e,t||0)}function a_(e){e.g=i_((function(){e.g=null,e.i&&(e.i=!1,a_(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}qb(n_,qk),(Ib=n_.prototype).ga=!1,Ib.T=null,Ib.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zk(this,"tick"),this.ga&&(r_(this),this.start()))}},Ib.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ib.N=function(){n_.$.N.call(this),r_(this),delete this.g};var o_=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:a_(this)}},{key:"N",value:function(){qc(w(n.prototype),"N",this).call(this),this.g&&(Db.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(zb);function s_(e){zb.call(this),this.h=e,this.g={}}qb(s_,zb);var u_=[];function c_(e,t,n,r){Array.isArray(n)||(n&&(u_[0]=n.toString()),n=u_);for(var i=0;i<n.length;i++){var a=Dk(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function l_(e){xk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mk(e)}),e),e.g={}}function f_(){this.g=!0}function h_(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Hk(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}s_.prototype.N=function(){s_.$.N.call(this),l_(this)},s_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},f_.prototype.Ea=function(){this.g=!1},f_.prototype.info=function(){};var d_={},p_=null;function v_(){return p_=p_||new qk}function m_(e){Gb.call(this,d_.Ta,e)}function g_(e){var t=v_();zk(t,new m_(t))}function y_(e,t){Gb.call(this,d_.STAT_EVENT,e),this.stat=t}function w_(e){var t=v_();zk(t,new y_(t,e))}function b_(e,t){Gb.call(this,d_.Ua,e),this.size=t}function k_(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Db.setTimeout((function(){e()}),t)}d_.Ta="serverreachability",qb(m_,Gb),d_.STAT_EVENT="statevent",qb(y_,Gb),d_.Ua="timingevent",qb(b_,Gb);var __={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function E_(){}function C_(e){return e.h||(e.h=e.i())}function S_(){}E_.prototype.h=null;var T_,I_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function A_(){Gb.call(this,"d")}function N_(){Gb.call(this,"c")}function P_(){}function D_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new s_(this),this.P=R_,e=ok?125:void 0,this.V=new n_(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new O_}function O_(){this.i=null,this.g="",this.h=!1}qb(A_,Gb),qb(N_,Gb),qb(P_,E_),P_.prototype.g=function(){return new XMLHttpRequest},P_.prototype.i=function(){return{}},T_=new P_;var R_=45e3,L_={},M_={};function F_(e,t,n){e.L=1,e.v=nx(X_(t)),e.s=n,e.S=!0,j_(e,null)}function j_(e,t){e.G=Date.now(),q_(e),e.A=X_(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),vx(n.i,"t",r),e.C=0,n=e.l.I,e.h=new O_,e.g=mE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new o_(Bb(e.Pa,e,e.g),e.O)),c_(e.U,e.g,"readystatechange",e.nb),t=e.I?Ek(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),g_(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function V_(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function B_(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=U_(e,n))==M_){4==t&&(e.o=4,w_(14),i=!1),h_(e.j,e.m,null,"[Incomplete Response]");break}if(r==L_){e.o=4,w_(15),h_(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}h_(e.j,e.m,r,null),G_(e,r)}V_(e)&&r!=M_&&r!=L_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,w_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),uE(t),t.L=!0,w_(11))):(h_(e.j,e.m,n,"[Invalid Chunked Response]"),K_(e),H_(e))}function U_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?M_:(n=Number(t.substring(n,r)),isNaN(n)?L_:(r+=1)+n>t.length?M_:(t=t.substr(r,n),e.C=r+n,t))}function q_(e){e.Y=Date.now()+e.P,z_(e,e.P)}function z_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=k_(Bb(e.lb,e),t)}function W_(e){e.B&&(Db.clearTimeout(e.B),e.B=null)}function H_(e){0==e.l.H||e.J||fE(e.l,e)}function K_(e){W_(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,r_(e.V),l_(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function G_(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||xx(n.h,e)))if(!e.K&&xx(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;lE(n),eE(n)}sE(n),w_(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=k_(Bb(n.ib,n),6e3));if(1>=_x(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else dE(n,11)}else if((e.K||n.g==e)&&lE(n),!Yb(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ex(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,tx(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=vE(r,r.I?r.oa:null,r.Y),d.K){Cx(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(W_(p),q_(p)),r.g=d}else oE(r);0<n.i.length&&nE(n)}else"stop"!=a[0]&&"close"!=a[0]||dE(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dE(n,7):Jx(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}g_()}catch(a){}}function Q_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Rb(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Rb(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Rb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ib=D_.prototype).setTimeout=function(e){this.P=e},Ib.nb=function(e){e=e.target;var t=this.M;t&&3==Gx(e)?t.l():this.Pa(e)},Ib.Pa=function(e){try{if(e==this.g)e:{var t=Gx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ok||this.g&&(this.h.h||this.g.ja()||Qx(this.g)))){this.J||4!=t||7==n||g_(),W_(this);var r=this.g.da();this.aa=r;t:if(V_(this)){var i=Qx(this.g);e="";var a=i.length,o=4==Gx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){K_(this),H_(this);var s="";break t}this.h.i=new Db.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yb(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,w_(12),K_(this),H_(this);break e}h_(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,G_(this,r)}this.S?(B_(this,t,s),ok&&this.i&&3==t&&(c_(this.U,this.V,"tick",this.mb),this.V.start())):(h_(this.j,this.m,s,null),G_(this,s)),4==t&&K_(this),this.i&&!this.J&&(4==t?fE(this.l,this):(this.i=!1,q_(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,w_(12)):(this.o=0,w_(13)),K_(this),H_(this)}}}catch(t){}},Ib.mb=function(){if(this.g){var e=Gx(this.g),t=this.g.ja();this.C<t.length&&(W_(this),B_(this,e,t),this.i&&4!=e&&q_(this))}},Ib.cancel=function(){this.J=!0,K_(this)},Ib.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(g_(),w_(17)),K_(this),this.o=2,H_(this)):z_(this,this.Y-e)};var Y_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z_(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Z_){this.h=void 0!==t?t:e.h,$_(this,e.j),this.s=e.s,this.g=e.g,J_(this,e.m),this.l=e.l,t=e.i;var n=new fx;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ex(this,n),this.o=e.o}else e&&(n=String(e).match(Y_))?(this.h=!!t,$_(this,n[1]||"",!0),this.s=rx(n[2]||""),this.g=rx(n[3]||"",!0),J_(this,n[4]),this.l=rx(n[5]||"",!0),ex(this,n[6]||"",!0),this.o=rx(n[7]||"")):(this.h=!!t,this.i=new fx(null,this.h))}function X_(e){return new Z_(e)}function $_(e,t,n){e.j=n?rx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function J_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ex(e,t,n){t instanceof fx?(e.i=t,function(e,t){t&&!e.j&&(hx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dx(this,t),vx(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ix(t,cx)),e.i=new fx(t,e.h))}function tx(e,t,n){e.i.set(t,n)}function nx(e){return tx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ix(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ax),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ax(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Z_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ix(t,ox,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ix(t,ox,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ix(n,"/"==n.charAt(0)?ux:sx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ix(n,lx)),e.join("")};var ox=/[#\/\?@]/g,sx=/[#\?:]/g,ux=/[#\?]/g,cx=/[#\?@]/g,lx=/#/g;function fx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hx(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dx(e,t){hx(e),t=mx(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function px(e,t){return hx(e),t=mx(e,t),e.g.has(t)}function vx(e,t,n){dx(e,t),0<n.length&&(e.i=null,e.g.set(mx(e,t),Hb(n)),e.h+=n.length)}function mx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ib=fx.prototype).add=function(e,t){hx(this),this.i=null,e=mx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ib.forEach=function(e,t){hx(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ib.sa=function(){hx(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ib.Z=function(e){hx(this);var t=[];if("string"===typeof e)px(this,e)&&(t=t.concat(this.g.get(mx(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ib.set=function(e,t){return hx(this),this.i=null,px(this,e=mx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ib.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ib.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var gx=m((function e(t,n){h(this,e),this.h=t,this.g=n}));function yx(e){this.l=e||bx,Db.PerformanceNavigationTiming?e=0<(e=Db.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Db.g&&Db.g.Ka&&Db.g.Ka()&&Db.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wx,bx=10;function kx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _x(e){return e.h?1:e.g?e.g.size:0}function xx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ex(e,t){e.g?e.g.add(t):e.h=t}function Cx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sx(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Hb(e.i)}function Tx(){}function Ix(){this.g=new Tx}function Ax(e,t,n){var r=n||"";try{Q_(e,(function(e,n){var i=e;Lb(e)&&(i=Hk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($Y){throw t.push(r+"type="+encodeURIComponent("_badmap")),$Y}}function Nx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Px(e){this.l=e.fc||null,this.j=e.ob||!1}function Dx(e,t){qk.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ox,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yx.prototype.cancel=function(){if(this.i=Sx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tx.prototype.stringify=function(e){return Db.JSON.stringify(e,void 0)},Tx.prototype.parse=function(e){return Db.JSON.parse(e,void 0)},qb(Px,E_),Px.prototype.g=function(){return new Dx(this.l,this.j)},Px.prototype.i=(wx={},function(){return wx}),qb(Dx,qk);var Ox=0;function Rx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Lx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mx(e)}function Mx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ib=Dx.prototype).open=function(e,t){if(this.readyState!=Ox)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mx(this)},Ib.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Db).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ib.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lx(this)),this.readyState=Ox},Ib.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mx(this)),this.g&&(this.readyState=3,Mx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Db.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ib.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lx(this):Mx(this),3==this.readyState&&Rx(this)}},Ib.Za=function(e){this.g&&(this.response=this.responseText=e,Lx(this))},Ib.Ya=function(e){this.g&&(this.response=e,Lx(this))},Ib.ka=function(){this.g&&Lx(this)},Ib.setRequestHeader=function(e,t){this.v.append(e,t)},Ib.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ib.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fx=Db.JSON.parse;function jx(e){qk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vx,this.L=this.M=!1}qb(jx,qk);var Vx="",Bx=/^https?$/i,Ux=["POST","PUT"];function qx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zx(e),Hx(e)}function zx(e){e.F||(e.F=!0,zk(e,"complete"),zk(e,"error"))}function Wx(e){if(e.h&&"undefined"!=typeof Pb&&(!e.C[1]||4!=Gx(e)||2!=e.da()))if(e.v&&4==Gx(e))i_(e.La,0,e);else if(zk(e,"readystatechange"),4==Gx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Y_)[1]||null;if(!a&&Db.self&&Db.self.location){var o=Db.self.location.protocol;a=o.substr(0,o.length-1)}i=!Bx.test(a?a.toLowerCase():"")}t=i}if(t)zk(e,"complete"),zk(e,"success");else{e.m=6;try{var s=2<Gx(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",zx(e)}}finally{Hx(e)}}}function Hx(e,t){if(e.g){Kx(e);var n=e.g,r=e.C[0]?Ob:null;e.g=null,e.C=null,t||zk(e,"ready");try{n.onreadystatechange=r}catch($Y){}}}function Kx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Db.clearTimeout(e.A),e.A=null)}function Gx(e){return e.g?e.g.readyState:0}function Qx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(JE){return null}}function Yx(e){var t="";return xk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):tx(e,t,n))}function Xx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $x(e){this.Ga=0,this.i=[],this.j=new f_,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xx("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xx("baseRetryDelayMs",5e3,e),this.hb=Xx("retryDelaySeedMs",1e4,e),this.eb=Xx("forwardChannelMaxRetries",2,e),this.xa=Xx("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new yx(e&&e.concurrentRequestLimit),this.Ja=new Ix,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Jx(e){if(tE(e),3==e.H){var t=e.W++,n=X_(e.G);tx(n,"SID",e.J),tx(n,"RID",t),tx(n,"TYPE","terminate"),iE(e,n),(t=new D_(e,e.j,t,void 0)).L=2,t.v=nx(X_(n)),n=!1,Db.navigator&&Db.navigator.sendBeacon&&(n=Db.navigator.sendBeacon(t.v.toString(),"")),!n&&Db.Image&&((new Image).src=t.v,n=!0),n||(t.g=mE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),q_(t)}pE(e)}function eE(e){e.g&&(uE(e),e.g.cancel(),e.g=null)}function tE(e){eE(e),e.u&&(Db.clearTimeout(e.u),e.u=null),lE(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Db.clearTimeout(e.m),e.m=null)}function nE(e){kx(e.h)||e.m||(e.m=!0,$k(e.Na,e),e.C=0)}function rE(e,t){var n;n=t?t.m:e.W++;var r=X_(e.G);tx(r,"SID",e.J),tx(r,"RID",n),tx(r,"AID",e.V),iE(e,r),e.o&&e.s&&Zx(r,e.o,e.s),n=new D_(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=aE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ex(e.h,n),F_(n,r,t)}function iE(e,t){e.ma&&xk(e.ma,(function(e,n){tx(t,n,e)})),e.l&&Q_({},(function(e,n){tx(t,n,e)}))}function aE(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Bb(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ax(l,o,"req"+c+"_")}catch(lC){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function oE(e){e.g||e.u||(e.ba=1,$k(e.Ma,e),e.A=0)}function sE(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=k_(Bb(e.Ma,e),hE(e,e.A)),e.A++,!0)}function uE(e){null!=e.B&&(Db.clearTimeout(e.B),e.B=null)}function cE(e){e.g=new D_(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=X_(e.wa);tx(t,"RID","rpc"),tx(t,"SID",e.J),tx(t,"CI",e.M?"0":"1"),tx(t,"AID",e.V),tx(t,"TYPE","xmlhttp"),iE(e,t),e.o&&e.s&&Zx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=nx(X_(t)),n.s=null,n.S=!0,j_(n,e)}function lE(e){null!=e.v&&(Db.clearTimeout(e.v),e.v=null)}function fE(e,t){var n=null;if(e.g==t){lE(e),uE(e),e.g=null;var r=2}else{if(!xx(e.h,t))return;n=t.F,Cx(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;zk(r=v_(),new b_(r,n)),nE(e)}else oE(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(_x(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=k_(Bb(e.Na,e,t),hE(e,e.C)),e.C++,!0))}(e,t)||2==r&&sE(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dE(e,5);break;case 4:dE(e,10);break;case 3:dE(e,6);break;default:dE(e,2)}}function hE(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function dE(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Bb(e.pb,e);n||(n=new Z_("//www.google.com/images/cleardot.gif"),Db.location&&"http"==Db.location.protocol||$_(n,"https"),nx(n)),function(e,t){var n=new f_;if(Db.Image){var r=new Image;r.onload=Ub(Nx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ub(Nx,n,r,"TestLoadImage: error",!1,t),r.onabort=Ub(Nx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ub(Nx,n,r,"TestLoadImage: timeout",!1,t),Db.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else w_(2);e.H=0,e.l&&e.l.za(t),pE(e),tE(e)}function pE(e){if(e.H=0,e.pa=[],e.l){var t=Sx(e.h);0==t.length&&0==e.i.length||(Kb(e.pa,t),Kb(e.pa,e.i),e.h.i.length=0,Hb(e.i),e.i.length=0),e.l.ya()}}function vE(e,t,n){var r=n instanceof Z_?X_(n):new Z_(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),J_(r,r.m);else{var i=Db.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Z_(null,void 0);r&&$_(a,r),t&&(a.g=t),i&&J_(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&tx(r,n,t),tx(r,"VER",e.qa),iE(e,r),r}function mE(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new jx(new Px({ob:!0})):new jx(e.va)).Oa(e.I),t}function gE(){}function yE(){if(ik&&!(10<=Number(mk)))throw Error("Environmental error: no available transport.")}function wE(e,t){qk.call(this),this.g=new $x(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Yb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yb(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _E(this)}function bE(e){A_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kE(){N_.call(this),this.status=1}function _E(e){this.g=e}function xE(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function EE(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function CE(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ib=jx.prototype).Oa=function(e){this.M=e},Ib.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():T_.g(),this.C=this.u?C_(this.u):C_(T_),this.g.onreadystatechange=Bb(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void qx(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Db.FormData&&e instanceof Db.FormData,!(0<=Wb(Ux,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=C(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Kx(this),0<this.B&&((this.L=function(e){return ik&&tk(pk,9,(function(){for(var e=0,t=Zb(String(nk)).split("."),n=Zb("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Xb(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Xb(0==a[2].length,0==o[2].length)||Xb(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bb(this.ua,this)):this.A=i_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){qx(this,s)}},Ib.ua=function(){"undefined"!=typeof Pb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zk(this,"timeout"),this.abort(8))},Ib.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zk(this,"complete"),zk(this,"abort"),Hx(this))},Ib.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hx(this,!0)),jx.$.N.call(this)},Ib.La=function(){this.s||(this.G||this.v||this.l?Wx(this):this.kb())},Ib.kb=function(){Wx(this)},Ib.da=function(){try{return 2<Gx(this)?this.g.status:-1}catch(wx){return-1}},Ib.ja=function(){try{return this.g?this.g.responseText:""}catch(wx){return""}},Ib.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fx(t)}},Ib.Ia=function(){return this.m},Ib.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ib=$x.prototype).qa=8,Ib.H=1,Ib.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new D_(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Sk(n=Ek(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=aE(this,t,r),tx(i=X_(this.G),"RID",e),tx(i,"CVER",22),this.F&&tx(i,"X-HTTP-Session-Id",this.F),iE(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Yx(n)))+"&"+r:this.o&&Zx(i,this.o,n)),Ex(this.h,t),this.bb&&tx(i,"TYPE","init"),this.P?(tx(i,"$req",r),tx(i,"SID","null"),t.ba=!0,F_(t,i,null)):F_(t,i,r),this.H=2}}else 3==this.H&&(e?rE(this,e):0==this.i.length||kx(this.h)||rE(this))},Ib.Ma=function(){if(this.u=null,cE(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=k_(Bb(this.jb,this),e)}},Ib.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,w_(10),eE(this),cE(this))},Ib.ib=function(){null!=this.v&&(this.v=null,eE(this),sE(this),w_(19))},Ib.pb=function(e){e?(this.j.info("Successfully pinged google.com"),w_(2)):(this.j.info("Failed to ping google.com"),w_(1))},(Ib=gE.prototype).Ba=function(){},Ib.Aa=function(){},Ib.za=function(){},Ib.ya=function(){},Ib.Va=function(){},yE.prototype.g=function(e,t){return new wE(e,t)},qb(wE,qk),wE.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;w_(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=vE(e,null,e.Y),nE(e)},wE.prototype.close=function(){Jx(this.g)},wE.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Hk(e),e=n);t.i.push(new gx(t.fb++,e)),3==t.H&&nE(t)},wE.prototype.N=function(){this.g.l=null,delete this.j,Jx(this.g),delete this.g,wE.$.N.call(this)},qb(bE,A_),qb(kE,N_),qb(_E,gE),_E.prototype.Ba=function(){zk(this.g,"a")},_E.prototype.Aa=function(e){zk(this.g,new bE(e))},_E.prototype.za=function(e){zk(this.g,new kE)},_E.prototype.ya=function(){zk(this.g,"b")},qb(xE,(function(){this.blockSize=-1})),xE.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xE.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)EE(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){EE(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){EE(this,r),i=0;break}}this.h=i,this.i+=t},xE.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var SE={};function TE(e){return-128<=e&&128>e?tk(SE,e,(function(e){return new CE([0|e],0>e?-1:0)})):new CE([0|e],0>e?-1:0)}function IE(e){if(isNaN(e)||!isFinite(e))return NE;if(0>e)return LE(IE(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=AE;return new CE(t,0)}var AE=4294967296,NE=TE(0),PE=TE(1),DE=TE(16777216);function OE(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function RE(e){return-1==e.h}function LE(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new CE(n,~e.h).add(PE)}function ME(e,t){return e.add(LE(t))}function FE(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function jE(e,t){this.g=e,this.h=t}function VE(e,t){if(OE(t))throw Error("division by zero");if(OE(e))return new jE(NE,NE);if(RE(e))return t=VE(LE(e),t),new jE(LE(t.g),LE(t.h));if(RE(t))return t=VE(e,LE(t)),new jE(LE(t.g),t.h);if(30<e.g.length){if(RE(e)||RE(t))throw Error("slowDivide_ only works with positive integers.");for(var n=PE,r=t;0>=r.X(e);)n=BE(n),r=BE(r);var i=UE(n,1),a=UE(r,1);for(r=UE(r,2),n=UE(n,2);!OE(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=UE(r,1),n=UE(n,1)}return t=ME(e,i.R(t)),new jE(i,t)}for(i=NE;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=IE(n)).R(t);RE(o)||0<o.X(e);)o=(a=IE(n-=r)).R(t);OE(a)&&(a=PE),i=i.add(a),e=ME(e,o)}return new jE(i,e)}function BE(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new CE(n,e.h)}function UE(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new CE(i,e.h)}(Ib=CE.prototype).ea=function(){if(RE(this))return-LE(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:AE+r)*t,t*=AE}return e},Ib.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(OE(this))return"0";if(RE(this))return"-"+LE(this).toString(e);for(var t=IE(Math.pow(e,6)),n=this,r="";;){var i=VE(n,t).g,a=((0<(n=ME(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(OE(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ib.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ib.X=function(e){return RE(e=ME(this,e))?-1:OE(e)?0:1},Ib.abs=function(){return RE(this)?LE(this):this},Ib.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new CE(n,-2147483648&n[n.length-1]?-1:0)},Ib.R=function(e){if(OE(this)||OE(e))return NE;if(RE(this))return RE(e)?LE(this).R(LE(e)):LE(LE(this).R(e));if(RE(e))return LE(this.R(LE(e)));if(0>this.X(DE)&&0>e.X(DE))return IE(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,FE(n,2*r+2*i),n[2*r+2*i+1]+=a*u,FE(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,FE(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,FE(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new CE(n,0)},Ib.gb=function(e){return VE(this,e).h},Ib.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new CE(n,this.h&e.h)},Ib.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new CE(n,this.h|e.h)},Ib.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new CE(n,this.h^e.h)},yE.prototype.createWebChannel=yE.prototype.g,wE.prototype.send=wE.prototype.u,wE.prototype.open=wE.prototype.m,wE.prototype.close=wE.prototype.close,__.NO_ERROR=0,__.TIMEOUT=8,__.HTTP_ERROR=6,x_.COMPLETE="complete",S_.EventType=I_,I_.OPEN="a",I_.CLOSE="b",I_.ERROR="c",I_.MESSAGE="d",qk.prototype.listen=qk.prototype.O,jx.prototype.listenOnce=jx.prototype.P,jx.prototype.getLastError=jx.prototype.Sa,jx.prototype.getLastErrorCode=jx.prototype.Ia,jx.prototype.getStatus=jx.prototype.da,jx.prototype.getResponseJson=jx.prototype.Wa,jx.prototype.getResponseText=jx.prototype.ja,jx.prototype.send=jx.prototype.ha,jx.prototype.setWithCredentials=jx.prototype.Oa,xE.prototype.digest=xE.prototype.l,xE.prototype.reset=xE.prototype.reset,xE.prototype.update=xE.prototype.j,CE.prototype.add=CE.prototype.add,CE.prototype.multiply=CE.prototype.R,CE.prototype.modulo=CE.prototype.gb,CE.prototype.compare=CE.prototype.X,CE.prototype.toNumber=CE.prototype.ea,CE.prototype.toString=CE.prototype.toString,CE.prototype.getBits=CE.prototype.D,CE.fromNumber=IE,CE.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return LE(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=IE(Math.pow(n,8)),i=NE,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=IE(Math.pow(n,o)),i=i.R(o).add(IE(s))):i=(i=i.R(r)).add(IE(s))}return i};var qE=Nb.createWebChannelTransport=function(){return new yE},zE=Nb.getStatEventTarget=function(){return v_()},WE=Nb.ErrorCode=__,HE=Nb.EventType=x_,KE=Nb.Event=d_,GE=Nb.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},QE=Nb.FetchXmlHttpFactory=Px,YE=Nb.WebChannel=S_,ZE=Nb.XhrIo=jx,XE=Nb.Md5=xE,$E=Nb.Integer=CE,JE="@firebase/firestore",eC=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();eC.UNAUTHENTICATED=new eC(null),eC.GOOGLE_CREDENTIALS=new eC("google-credentials-uid"),eC.FIRST_PARTY=new eC("first-party-uid"),eC.MOCK_USER=new eC("mock-user");var tC="9.22.0",nC=new Ah("@firebase/firestore");function rC(){return nC.logLevel}function iC(e){if(nC.logLevel<=_h.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sC);nC.debug.apply(nC,["Firestore (".concat(tC,"): ").concat(e)].concat(f(i)))}}function aC(e){if(nC.logLevel<=_h.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sC);nC.error.apply(nC,["Firestore (".concat(tC,"): ").concat(e)].concat(f(i)))}}function oC(e){if(nC.logLevel<=_h.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sC);nC.warn.apply(nC,["Firestore (".concat(tC,"): ").concat(e)].concat(f(i)))}}function sC(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function uC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(tC,") INTERNAL ASSERTION FAILED: ")+e;throw aC(t),new Error(t)}function cC(e,t){e||uC()}function lC(e,t){return e}var fC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hC=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(qf),dC=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),pC=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),vC=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(eC.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),mC=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gC=function(){function e(t){h(this,e),this.t=t,this.currentUser=eC.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new dC;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new dC,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){iC("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(iC("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dC)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(iC("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(cC("string"==typeof n.accessToken),new pC(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return cC(null===e||"string"==typeof e),new eC(e)}}]),e}(),yC=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=eC.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),wC=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new yC(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(eC.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bC=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kC=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&iC("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,iC("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){iC("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):iC("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(cC("string"==typeof t.token),e.T=t.token,new bC(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _C(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var xC=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=_C(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function EC(e,t){return e<t?-1:e>t?1:0}function CC(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function SC(e){return e+"\0"}var TC=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hC(fC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hC(fC.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hC(fC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hC(fC.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?EC(this.nanoseconds,e.nanoseconds):EC(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),IC=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new TC(0,0))}},{key:"max",value:function(){return new e(new TC(253402300799,999999999))}}]),e}(),AC=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&uC(),void 0===r?r=t.length-n:r>t.length-n&&uC(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),NC=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new hC(fC.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,f(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(AC),PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,DC=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return PC.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new hC(fC.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new hC(fC.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new hC(fC.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new hC(fC.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(AC),OC=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===NC.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(NC.fromString(t))}},{key:"fromName",value:function(t){return new e(NC.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(NC.emptyPath())}},{key:"comparator",value:function(e,t){return NC.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new NC(t.slice()))}}]),e}(),RC=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function LC(e){return e.fields.find((function(e){return 2===e.kind}))}function MC(e){return e.fields.filter((function(e){return 2!==e.kind}))}RC.UNKNOWN_ID=-1;var FC=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var jC=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,UC.min())}}]),e}();function VC(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=IC.fromTimestamp(1e9===r?new TC(n+1,0):new TC(n,r));return new UC(i,OC.empty(),t)}function BC(e){return new UC(e.readTime,e.key,-1)}var UC=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(IC.min(),OC.empty(),-1)}},{key:"max",value:function(){return new e(IC.max(),OC.empty(),-1)}}]),e}();function qC(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=OC.comparator(e.documentKey,t.documentKey))?n:EC(e.largestBatchId,t.largestBatchId)}var zC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WC=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function HC(e){return KC.apply(this,arguments)}function KC(){return(KC=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fC.FAILED_PRECONDITION&&t.message===zC){e.next=2;break}throw t;case 2:iC("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GC=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&uC(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),QC=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new dC,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new XC(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=nS(e.target.error);r.v.reject(new XC(t,n))}}return m(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(iC("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new JC(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new XC(n,t)}}}]),e}(),YC=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Of())&&aC("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"$",value:function(){var e=ff(cf().mark((function e(t){var n=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return iC("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new XC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new hC(fC.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new hC(fC.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new XC(t,n))},i.onupgradeneeded=function(e){iC("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){iC("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ff(cf().mark((function e(t,n,r,i){var a,o,s,u,c=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=cf().mark((function e(){var n,s,u,l;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=QC.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),GC.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,iC("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return iC("SimpleDb","Removing database:",e),eS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Vf())return!1;if(e.C())return!0;var t=Of(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ZC=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return eS(this.L.delete())}}]),e}(),XC=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,fC.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(hC);function $C(e){return"IndexedDbTransactionError"===e.name}var JC=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(iC("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(iC("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eS(n)}},{key:"add",value:function(e){return iC("SimpleDb","ADD",this.store.name,e,e),eS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return eS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),iC("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return iC("SimpleDb","DELETE",this.store.name,e),eS(this.store.delete(e))}},{key:"count",value:function(){return iC("SimpleDb","COUNT",this.store.name),eS(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new GC((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new GC((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){iC("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new GC((function(n,r){t.onerror=function(e){var t=nS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new GC((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ZC(i),o=t(i.primaryKey,i.value,a);if(o instanceof GC){var s=o.catch((function(e){return a.done(),GC.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return GC.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function eS(e){return new GC((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=nS(e.target.error);n(t)}}))}var tS=!1;function nS(e){var t=YC.S(Of());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hC("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tS||(tS=!0,setTimeout((function(){throw r}),0)),r}}return e}var rS=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;iC("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=iC,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!$C(e.t4)){e.next=17;break}iC("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,HC(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),iS=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=ff(cf().mark((function e(){var t,n=this,r=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return GC.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return iC("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return iC("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=BC(t);qC(r,n)>0&&(n=r)})),new UC(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),aS=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function oS(e){return null==e}function sS(e){return 0===e&&1/e==-1/0}function uS(e){return"number"==typeof e&&Number.isInteger(e)&&!sS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function cS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fS(t)),t=lS(e.get(n),t);return fS(t)}function lS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fS(e){return e+"\x01\x01"}function hS(e){var t=e.length;if(cC(t>=2),2===t)return cC("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),NC.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&uC(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:uC()}a=o+2}return new NC(r)}aS.ct=-1;var dS=["userId","batchId"];function pS(e,t){return[e,cS(t)]}function vS(e,t,n){return[e,cS(t),n]}var mS={},gS=["prefixPath","collectionGroup","readTime","documentId"],yS=["prefixPath","collectionGroup","documentId"],wS=["collectionGroup","readTime","prefixPath","documentId"],bS=["canonicalId","targetId"],kS=["targetId","path"],_S=["path","targetId"],xS=["collectionId","parent"],ES=["indexId","uid"],CS=["uid","sequenceNumber"],SS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TS=["indexId","uid","orderedDocumentKey"],IS=["userId","collectionPath","documentId"],AS=["userId","collectionPath","largestBatchId"],NS=["userId","collectionGroup","largestBatchId"],PS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),DS=[].concat(f(PS),["documentOverlays"]),OS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RS=OS,LS=[].concat(RS,["indexConfiguration","indexState","indexEntries"]),MS=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return m(n)}(WC);function FS(e,t){var n=lC(e);return YC.M(n.ht,t)}function jS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function VS(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var US=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||zS.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zS.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zS.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qS(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qS(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qS(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qS(this.root,e,this.comparator,!0)}}]),e}(),qS=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),zS=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw uC();if(this.right.isRed())throw uC();var e=this.left.check();if(e!==this.right.check())throw uC();return e+(this.isRed()?0:1)}}]),e}();zS.EMPTY=null,zS.RED=!0,zS.BLACK=!1,zS.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw uC()}},{key:"value",get:function(){throw uC()}},{key:"color",get:function(){throw uC()}},{key:"left",get:function(){throw uC()}},{key:"right",get:function(){throw uC()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new zS(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var WS=function(){function e(t){h(this,e),this.comparator=t,this.data=new US(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new HS(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new HS(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),HS=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function KS(e){return e.hasNext()?e.getNext():void 0}var GS=function(){function e(t){h(this,e),this.fields=t,t.sort(DC.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new WS(DC.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return CC(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),QS=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(E(Error));var YS=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return EC(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new QS("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();YS.EMPTY_BYTE_STRING=new YS("");var ZS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function XS(e){if(cC(!!e),"string"==typeof e){var t=0,n=ZS.exec(e);if(cC(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$S(e.seconds),nanos:$S(e.nanos)}}function $S(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function JS(e){return"string"==typeof e?YS.fromBase64String(e):YS.fromUint8Array(e)}function eT(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tT(e){var t=e.mapValue.fields.__previous_value__;return eT(t)?tT(t):t}function nT(e){var t=XS(e.mapValue.fields.__local_write_time__.timestampValue);return new TC(t.seconds,t.nanos)}var rT=m((function e(t,n,r,i,a,o,s,u,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),iT=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),aT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oT={nullValue:"NULL_VALUE"};function sT(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eT(e)?4:kT(e)?9007199254740991:10:uC()}function uT(e,t){if(e===t)return!0;var n=sT(e);if(n!==sT(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nT(e).isEqual(nT(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=XS(e.timestampValue),r=XS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return JS(e.bytesValue).isEqual(JS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $S(e.geoPointValue.latitude)===$S(t.geoPointValue.latitude)&&$S(e.geoPointValue.longitude)===$S(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $S(e.integerValue)===$S(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$S(e.doubleValue),r=$S(t.doubleValue);return n===r?sS(n)===sS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return CC(e.arrayValue.values||[],t.arrayValue.values||[],uT);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jS(n)!==jS(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uT(n[i],r[i])))return!1;return!0}(e,t);default:return uC()}}function cT(e,t){return void 0!==(e.values||[]).find((function(e){return uT(e,t)}))}function lT(e,t){if(e===t)return 0;var n=sT(e),r=sT(t);if(n!==r)return EC(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return EC(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$S(e.integerValue||e.doubleValue),r=$S(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fT(e.timestampValue,t.timestampValue);case 4:return fT(nT(e),nT(t));case 5:return EC(e.stringValue,t.stringValue);case 6:return function(e,t){var n=JS(e),r=JS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=EC(n[i],r[i]);if(0!==a)return a}return EC(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=EC($S(e.latitude),$S(t.latitude));return 0!==n?n:EC($S(e.longitude),$S(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lT(n[i],r[i]);if(a)return a}return EC(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===aT.mapValue&&t===aT.mapValue)return 0;if(e===aT.mapValue)return 1;if(t===aT.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=EC(r[o],a[o]);if(0!==s)return s;var u=lT(n[r[o]],i[a[o]]);if(0!==u)return u}return EC(r.length,a.length)}(e.mapValue,t.mapValue);default:throw uC()}}function fT(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return EC(e,t);var n=XS(e),r=XS(t),i=EC(n.seconds,r.seconds);return 0!==i?i:EC(n.nanos,r.nanos)}function hT(e){return dT(e)}function dT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=XS(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?JS(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,OC.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=dT(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(dT(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):uC();var t,n}function pT(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vT(e){return!!e&&"integerValue"in e}function mT(e){return!!e&&"arrayValue"in e}function gT(e){return!!e&&"nullValue"in e}function yT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wT(e){return!!e&&"mapValue"in e}function bT(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return VS(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bT(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bT(e.arrayValue.values[r]);return n}return Object.assign({},e)}function kT(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _T(e){return"nullValue"in e?oT:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?pT(iT.empty(),OC.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:uC()}function xT(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?pT(iT.empty(),OC.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?aT:uC()}function ET(e,t){var n=lT(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function CT(e,t){var n=lT(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ST=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wT(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bT(t)}},{key:"setAll",value:function(e){var t=this,n=DC.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=bT(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return uT(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){VS(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(bT(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function TT(e){var t=[];return VS(e.fields,(function(e,n){var r=new DC([e]);if(wT(n)){var i=TT(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new GS(t)}var IT=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(IC.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ST.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ST.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=IC.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,IC.min(),IC.min(),IC.min(),ST.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,IC.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,IC.min(),IC.min(),ST.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,IC.min(),IC.min(),ST.empty(),2)}}]),e}(),AT=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function NT(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?OC.comparator(OC.fromName(o.referenceValue),n.key):lT(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function PT(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uT(e.position[n],t.position[n]))return!1;return!0}var DT=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function OT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var RT=m((function e(){h(this,e)})),LT=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lT(t,this.value)):null!==t&&sT(this.value)===sT(t)&&this.matchesComparison(lT(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return uC()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new HT(e,t,r):"array-contains"===t?new YT(e,r):"in"===t?new ZT(e,r):"not-in"===t?new XT(e,r):"array-contains-any"===t?new $T(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new KT(e,n):new GT(e,n)}}]),n}(RT),MT=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return m(n,[{key:"matches",value:function(e){return FT(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(RT);function FT(e){return"and"===e.op}function jT(e){return"or"===e.op}function VT(e){return BT(e)&&FT(e)}function BT(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof MT)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function UT(e){if(e instanceof LT)return e.field.canonicalString()+e.op.toString()+hT(e.value);if(VT(e))return e.filters.map((function(e){return UT(e)})).join(",");var t=e.filters.map((function(e){return UT(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function qT(e,t){return e instanceof LT?function(e,t){return t instanceof LT&&e.op===t.op&&e.field.isEqual(t.field)&&uT(e.value,t.value)}(e,t):e instanceof MT?function(e,t){return t instanceof MT&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&qT(n,t.filters[r])}),!0)}(e,t):void uC()}function zT(e,t){var n=e.filters.concat(t);return MT.create(n,e.op)}function WT(e){return e instanceof LT?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hT(e.value))}(e):e instanceof MT?function(e){return e.op.toString()+" {"+e.getFilters().map(WT).join(" ,")+"}"}(e):"Filter"}var HT=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=OC.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=OC.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(LT),KT=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=QT("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LT),GT=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=QT("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(LT);function QT(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return OC.fromName(e.referenceValue)}))}var YT=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return mT(t)&&cT(t.arrayValue,this.value)}}]),n}(LT),ZT=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&cT(this.value.arrayValue,t)}}]),n}(LT),XT=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(cT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!cT(this.value.arrayValue,t)}}]),n}(LT),$T=function(e){y(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!mT(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return cT(t.value.arrayValue,e)}))}}]),n}(LT),JT=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function eI(e){return new JT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function tI(e){var t=lC(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return UT(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),oS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return hT(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return hT(e)})).join(",")),t.dt=n}return t.dt}function nI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!OT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!qT(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!PT(e.startAt,t.startAt)&&PT(e.endAt,t.endAt)}function rI(e){return OC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iI(e,t){return e.filters.filter((function(e){return e instanceof LT&&e.field.isEqual(t)}))}function aI(e,t,n){var r,i=oT,a=!0,o=C(iI(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=oT,c=!0;switch(s.op){case"<":case"<=":u=_T(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=oT}ET({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ET({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function oI(e,t,n){var r,i=aT,a=!0,o=C(iI(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=aT,c=!0;switch(s.op){case">=":case">":u=xT(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=aT}CT({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];CT({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var sI=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function uI(e,t,n,r,i,a,o,s){return new sI(e,t,n,r,i,a,o,s)}function cI(e){return new sI(e)}function lI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hI(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function dI(e){return null!==e.collectionGroup}function pI(e){var t=lC(e);if(null===t.wt){t.wt=[];var n=hI(t),r=fI(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new DT(n)),t.wt.push(new DT(DC.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new DT(DC.keyField(),u))}}}return t.wt}function vI(e){var t=lC(e);if(!t._t)if("F"===t.limitType)t._t=eI(t.path,t.collectionGroup,pI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(pI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new DT(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new AT(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new AT(t.startAt.position,t.startAt.inclusive):null;t._t=eI(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function mI(e,t){t.getFirstInequalityField(),hI(e);var n=e.filters.concat([t]);return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gI(e,t,n){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yI(e,t){return nI(vI(e),vI(t))&&e.limitType===t.limitType}function wI(e){return"".concat(tI(vI(e)),"|lt:").concat(e.limitType)}function bI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return WT(e)})).join(", "),"]")),oS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return hT(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return hT(e)})).join(",")),"Target(".concat(t,")")}(vI(e)),"; limitType=").concat(e.limitType,")")}function kI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):OC.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(pI(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=NT(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pI(e),t))&&!(e.endAt&&!function(e,t,n){var r=NT(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pI(e),t))}(e,t)}function _I(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xI(e){return function(t,n){var r,i=!1,a=C(pI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=EI(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function EI(e,t,n){var r=e.field.isKeyField()?OC.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lT(r,i):uC()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return uC()}}var CI=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){VS(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return BS(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),SI=new US(OC.comparator);function TI(){return SI}var II=new US(OC.comparator);function AI(){for(var e=II,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function NI(e){var t=II;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function PI(){return OI()}function DI(){return OI()}function OI(){return new CI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var RI=new US(OC.comparator),LI=new WS(OC.comparator);function MI(){for(var e=LI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var FI=new WS(EC);function jI(){return FI}function VI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sS(t)?"-0":t}}function BI(e){return{integerValue:""+e}}function UI(e,t){return uS(t)?BI(t):VI(e,t)}var qI=m((function e(){h(this,e),this._=void 0}));function zI(e,t,n){return e instanceof KI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&eT(t)&&(t=tT(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof GI?QI(e,t):e instanceof YI?ZI(e,t):function(e,t){var n=HI(e,t),r=$I(n)+$I(e.gt);return vT(n)&&vT(e.gt)?BI(r):VI(e.serializer,r)}(e,t)}function WI(e,t,n){return e instanceof GI?QI(e,t):e instanceof YI?ZI(e,t):n}function HI(e,t){return e instanceof XI?vT(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var KI=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(qI),GI=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(qI);function QI(e,t){var n,r=JI(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return uT(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var YI=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(qI);function ZI(e,t){var n,r=JI(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!uT(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var XI=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return m(n)}(qI);function $I(e){return $S(e.integerValue||e.doubleValue)}function JI(e){return mT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eA=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var tA=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),nA=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rA(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iA=m((function e(){h(this,e)}));function aA(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gA(e.key,nA.none()):new lA(e.key,e.data,nA.none());var n,r=e.data,i=ST.empty(),a=new WS(DC.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new fA(e.key,i,new GS(a.toArray()),nA.none())}function oA(e,t,n){e instanceof lA?function(e,t,n){var r=e.value.clone(),i=dA(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fA?function(e,t,n){if(rA(e.precondition,t)){var r=dA(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hA(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sA(e,t,n,r){return e instanceof lA?function(e,t,n,r){if(!rA(e.precondition,t))return n;var i=e.value.clone(),a=pA(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fA?function(e,t,n,r){if(!rA(e.precondition,t))return n;var i=pA(e.fieldTransforms,r,t),a=t.data;return a.setAll(hA(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rA(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uA(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=HI(a.transform,o||null);null!=s&&(null===r&&(r=ST.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function cA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&CC(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof GI&&t instanceof GI||e instanceof YI&&t instanceof YI?CC(e.elements,t.elements,uT):e instanceof XI&&t instanceof XI?uT(e.gt,t.gt):e instanceof KI&&t instanceof KI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lA=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iA),fA=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(iA);function hA(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dA(e,t,n){var r=new Map;cC(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,WI(o,s,n[i]))}return r}function pA(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,zI(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vA,mA,gA=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iA),yA=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iA),wA=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&oA(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sA(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sA(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=DI();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=aA(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(IC.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),MI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&CC(this.mutations,e.mutations,(function(e,t){return cA(e,t)}))&&CC(this.baseMutations,e.baseMutations,(function(e,t){return cA(e,t)}))}}]),e}(),bA=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){cC(t.mutations.length===r.length);for(var i=RI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kA=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_A=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function xA(e){switch(e){default:return uC();case fC.CANCELLED:case fC.UNKNOWN:case fC.DEADLINE_EXCEEDED:case fC.RESOURCE_EXHAUSTED:case fC.INTERNAL:case fC.UNAVAILABLE:case fC.UNAUTHENTICATED:return!1;case fC.INVALID_ARGUMENT:case fC.NOT_FOUND:case fC.ALREADY_EXISTS:case fC.PERMISSION_DENIED:case fC.FAILED_PRECONDITION:case fC.ABORTED:case fC.OUT_OF_RANGE:case fC.UNIMPLEMENTED:case fC.DATA_LOSS:return!0}}function EA(e){if(void 0===e)return aC("GRPC error has no .code"),fC.UNKNOWN;switch(e){case vA.OK:return fC.OK;case vA.CANCELLED:return fC.CANCELLED;case vA.UNKNOWN:return fC.UNKNOWN;case vA.DEADLINE_EXCEEDED:return fC.DEADLINE_EXCEEDED;case vA.RESOURCE_EXHAUSTED:return fC.RESOURCE_EXHAUSTED;case vA.INTERNAL:return fC.INTERNAL;case vA.UNAVAILABLE:return fC.UNAVAILABLE;case vA.UNAUTHENTICATED:return fC.UNAUTHENTICATED;case vA.INVALID_ARGUMENT:return fC.INVALID_ARGUMENT;case vA.NOT_FOUND:return fC.NOT_FOUND;case vA.ALREADY_EXISTS:return fC.ALREADY_EXISTS;case vA.PERMISSION_DENIED:return fC.PERMISSION_DENIED;case vA.FAILED_PRECONDITION:return fC.FAILED_PRECONDITION;case vA.ABORTED:return fC.ABORTED;case vA.OUT_OF_RANGE:return fC.OUT_OF_RANGE;case vA.UNIMPLEMENTED:return fC.UNIMPLEMENTED;case vA.DATA_LOSS:return fC.DATA_LOSS;default:return uC()}}(mA=vA||(vA={}))[mA.OK=0]="OK",mA[mA.CANCELLED=1]="CANCELLED",mA[mA.UNKNOWN=2]="UNKNOWN",mA[mA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mA[mA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mA[mA.NOT_FOUND=5]="NOT_FOUND",mA[mA.ALREADY_EXISTS=6]="ALREADY_EXISTS",mA[mA.PERMISSION_DENIED=7]="PERMISSION_DENIED",mA[mA.UNAUTHENTICATED=16]="UNAUTHENTICATED",mA[mA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mA[mA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mA[mA.ABORTED=10]="ABORTED",mA[mA.OUT_OF_RANGE=11]="OUT_OF_RANGE",mA[mA.UNIMPLEMENTED=12]="UNIMPLEMENTED",mA[mA.INTERNAL=13]="INTERNAL",mA[mA.UNAVAILABLE=14]="UNAVAILABLE",mA[mA.DATA_LOSS=15]="DATA_LOSS";var CA=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return SA}},{key:"getOrCreateInstance",value:function(){return null===SA&&(SA=new e),SA}}]),e}(),SA=null;function TA(){return new TextEncoder}var IA=new $E([4294967295,4294967295],0);function AA(e){var t=TA().encode(e),n=new XE;return n.update(t),new Uint8Array(n.digest())}function NA(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new $E([n,r],0),new $E([i,a],0)]}var PA=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new DA("Invalid padding: ".concat(n));if(r<0)throw new DA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new DA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new DA("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=$E.fromNumber(this.It)}return m(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply($E.fromNumber(n)));return 1===r.compare(IA)&&(r=new $E([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=c(NA(AA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=c(NA(AA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),DA=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(E(Error)),OA=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,RA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(IC.min(),i,new US(EC),TI(),MI())}}]),e}(),RA=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,MI(),MI(),MI())}}]),e}(),LA=m((function e(t,n,r,i){h(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),MA=m((function e(t,n){h(this,e),this.targetId=t,this.Vt=n})),FA=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YS.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),jA=function(){function e(){h(this,e),this.St=0,this.Dt=UA(),this.Ct=YS.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return m(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=MI(),t=MI(),n=MI();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:uC()}})),new RA(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=UA()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),VA=function(){function e(t){h(this,e),this.Gt=t,this.Qt=new Map,this.jt=TI(),this.zt=BA(),this.Wt=new US(EC)}return m(e,[{key:"Ht",value:function(e){var t,n=C(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:uC()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(rI(a))if(0===r){var o=new OC(a.path);this.Yt(n,o,IT.newNoDocument(o,IC.min()))}else cC(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=CA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=JS(c).toUint8Array()}catch(e){if(e instanceof QS)return oC("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new PA(a,f,d)}catch(e){return oC(e instanceof DA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&rI(a.target)){var o=new OC(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,IT.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=MI();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new OA(e,n,this.Wt,this.jt,r);return this.jt=TI(),this.zt=BA(),this.Wt=new US(EC),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new jA,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new WS(EC),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||iC("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new jA),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function BA(){return new US(OC.comparator)}function UA(){return new US(OC.comparator)}var qA={asc:"ASCENDING",desc:"DESCENDING"},zA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WA={and:"AND",or:"OR"},HA=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function KA(e,t){return e.useProto3Json||oS(t)?t:{value:t}}function GA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function QA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function YA(e,t){return GA(e,t.toTimestamp())}function ZA(e){return cC(!!e),IC.fromTimestamp(function(e){var t=XS(e);return new TC(t.seconds,t.nanos)}(e))}function XA(e,t){return function(e){return new NC(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $A(e){var t=NC.fromString(e);return cC(kN(t)),t}function JA(e,t){return XA(e.databaseId,t.path)}function eN(e,t){var n=$A(t);if(n.get(1)!==e.databaseId.projectId)throw new hC(fC.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hC(fC.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new OC(iN(n))}function tN(e,t){return XA(e.databaseId,t)}function nN(e){var t=$A(e);return 4===t.length?NC.emptyPath():iN(t)}function rN(e){return new NC(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iN(e){return cC(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aN(e,t,n){return{name:JA(e,t),fields:n.value.mapValue.fields}}function oN(e,t,n){var r=eN(e,t.name),i=ZA(t.updateTime),a=t.createTime?ZA(t.createTime):IC.min(),o=new ST({mapValue:{fields:t.fields}}),s=IT.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function sN(e,t){return"found"in t?function(e,t){cC(!!t.found),t.found.name,t.found.updateTime;var n=eN(e,t.found.name),r=ZA(t.found.updateTime),i=t.found.createTime?ZA(t.found.createTime):IC.min(),a=new ST({mapValue:{fields:t.found.fields}});return IT.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){cC(!!t.missing),cC(!!t.readTime);var n=eN(e,t.missing),r=ZA(t.readTime);return IT.newNoDocument(n,r)}(e,t):uC()}function uN(e,t){var n;if(t instanceof lA)n={update:aN(e,t.key,t.value)};else if(t instanceof gA)n={delete:JA(e,t.key)};else if(t instanceof fA)n={update:aN(e,t.key,t.data),updateMask:bN(t.fieldMask)};else{if(!(t instanceof yA))return uC();n={verify:JA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof KI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof GI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof YI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof XI)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw uC()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:YA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:uC()}(e,t.precondition)),n}function cN(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nA.updateTime(ZA(e.updateTime)):void 0!==e.exists?nA.exists(e.exists):nA.none()}(t.currentDocument):nA.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)cC("REQUEST_TIME"===t.setToServerValue),n=new KI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new GI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new YI(i)}else"increment"in t?n=new XI(e,t.increment):uC();var a=DC.fromServerFormat(t.fieldPath);return new eA(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=eN(e,t.update.name),a=new ST({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new GS(t.map((function(e){return DC.fromServerFormat(e)})))}(t.updateMask);return new fA(i,a,o,n,r)}return new lA(i,a,n,r)}if(t.delete){var s=eN(e,t.delete);return new gA(s,n)}if(t.verify){var u=eN(e,t.verify);return new yA(u,n)}return uC()}function lN(e,t){return{documents:[tN(e,t.path)]}}function fN(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return wN(MT.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gN(e.field),direction:pN(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=KA(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hN(e){var t=nN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cC(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=dN(e);return t instanceof MT&&VT(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new DT(yN(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return oS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new AT(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new AT(n,t)}(n.endAt)),uI(t,i,s,o,u,"F",c,l)}function dN(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yN(e.unaryFilter.field);return LT.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yN(e.unaryFilter.field);return LT.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yN(e.unaryFilter.field);return LT.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yN(e.unaryFilter.field);return LT.create(i,"!=",{nullValue:"NULL_VALUE"});default:return uC()}}(e):void 0!==e.fieldFilter?function(e){return LT.create(yN(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return uC()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return MT.create(e.compositeFilter.filters.map((function(e){return dN(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return uC()}}(e.compositeFilter.op))}(e):uC()}function pN(e){return qA[e]}function vN(e){return zA[e]}function mN(e){return WA[e]}function gN(e){return{fieldPath:e.canonicalString()}}function yN(e){return DC.fromServerFormat(e.fieldPath)}function wN(e){return e instanceof LT?function(e){if("=="===e.op){if(yT(e.value))return{unaryFilter:{field:gN(e.field),op:"IS_NAN"}};if(gT(e.value))return{unaryFilter:{field:gN(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yT(e.value))return{unaryFilter:{field:gN(e.field),op:"IS_NOT_NAN"}};if(gT(e.value))return{unaryFilter:{field:gN(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gN(e.field),op:vN(e.op),value:e.value}}}(e):e instanceof MT?function(e){var t=e.getFilters().map((function(e){return wN(e)}));return 1===t.length?t[0]:{compositeFilter:{op:mN(e.op),filters:t}}}(e):uC()}function bN(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var _N=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:IC.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:IC.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:YS.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),xN=m((function e(t){h(this,e),this.fe=t}));function EN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:CN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:JA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:GA(e,t.version.toTimestamp()),createTime:GA(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:SN(t.version)};else{if(!t.isUnknownDocument())return uC();r.unknownDocument={path:n.path.toArray(),version:SN(t.version)}}return r}function CN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function SN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function TN(e){var t=new TC(e.seconds,e.nanoseconds);return IC.fromTimestamp(t)}function IN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cN(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cN(e.fe,t)})),s=TC.fromMillis(t.localWriteTimeMs);return new wA(t.batchId,s,n,o)}function AN(e){var t,n,r=TN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?TN(e.lastLimboFreeSnapshotVersion):IC.min();return void 0!==e.query.documents?(cC(1===(n=e.query).documents.length),t=vI(cI(nN(n.documents[0])))):t=function(e){return vI(hN(e))}(e.query),new _N(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,YS.fromBase64String(e.resumeToken))}function NN(e,t){var n,r=SN(t.snapshotVersion),i=SN(t.lastLimboFreeSnapshotVersion);n=rI(t.target)?lN(e.fe,t.target):fN(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tI(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function PN(e){var t=hN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gI(t,t.limit,"L"):t}function DN(e,t){return new kA(t.largestBatchId,cN(e.fe,t.overlayMutation))}function ON(e,t){var n=t.path.lastSegment();return[e,cS(t.path.popLast()),n]}function RN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:SN(r.readTime),documentKey:cS(r.documentKey.path),largestBatchId:r.largestBatchId}}var LN=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return MN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:TN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return MN(e).put({bundleId:(n=t).id,createTime:SN(ZA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return FN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:PN(t.bundledQuery),readTime:TN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return FN(e).put(function(e){return{name:e.name,readTime:SN(ZA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function MN(e){return FS(e,"bundles")}function FN(e){return FS(e,"namedQueries")}var jN=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return VN(e).get(ON(this.userId,t)).next((function(e){return e?DN(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=PI();return GC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new kA(t,a);i.push(r.we(e,o))})),GC.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(VN(e).J("collectionPathOverlayIndex",i))})),GC.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=PI(),a=cS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return VN(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=DN(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=PI(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return VN(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=DN(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return VN(e).put(function(e,t,n){var r=c(ON(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:uN(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function VN(e){return FS(e,"documentOverlays")}var BN=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($S(e.integerValue));else if("doubleValue"in e){var n=$S(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),sS(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(JS(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?kT(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):uC()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),OC.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function UN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=UN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}BN.Ve=new BN;var zN=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=qN(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=qN(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),WN=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),HN=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),KN=function(){function e(){h(this,e),this.je=new zN,this.ze=new WN(this.je),this.We=new HN(this.je)}return m(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),GN=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function QN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=YN(e.arrayValue,t.arrayValue))?n:0!==(n=YN(e.directionalValue,t.directionalValue))?n:OC.comparator(e.documentKey,t.documentKey)}function YN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ZN=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"tn",value:function(e){cC(e.collectionGroup===this.collectionId);var t=LC(e);if(void 0!==t&&!this.en(t))return!1;for(var n=MC(e),r=0,i=0;r<n.length&&this.en(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ze){var a=n[r];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ye.length||!this.sn(this.Ye[i++],o))return!1}return!0}},{key:"en",value:function(e){var t,n=C(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function XN(e){var t,n;if(cC(e instanceof LT||e instanceof MT),e instanceof LT){if(e instanceof ZT){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return LT.create(e.field,"==",t)})))||[];return MT.create(r,"or")}return e}var i=e.filters.map((function(e){return XN(e)}));return MT.create(i,e.op)}function $N(e){if(0===e.getFilters().length)return[];var t=nP(XN(e));return cC(tP(t)),JN(t)||eP(t)?[t]:t.getFilters()}function JN(e){return e instanceof LT}function eP(e){return e instanceof MT&&VT(e)}function tP(e){return JN(e)||eP(e)||function(e){if(e instanceof MT&&jT(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!JN(r)&&!eP(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function nP(e){if(cC(e instanceof LT||e instanceof MT),e instanceof LT)return e;if(1===e.filters.length)return nP(e.filters[0]);var t=e.filters.map((function(e){return nP(e)})),n=MT.create(t,e.op);return tP(n=aP(n))?n:(cC(n instanceof MT),cC(FT(n)),cC(n.filters.length>1),n.filters.reduce((function(e,t){return rP(e,t)})))}function rP(e,t){var n;return cC(e instanceof LT||e instanceof MT),cC(t instanceof LT||t instanceof MT),n=e instanceof LT?t instanceof LT?function(e,t){return MT.create([e,t],"and")}(e,t):iP(e,t):t instanceof LT?iP(t,e):function(e,t){if(cC(e.filters.length>0&&t.filters.length>0),FT(e)&&FT(t))return zT(e,t.getFilters());var n=jT(e)?e:t,r=jT(e)?t:e,i=n.filters.map((function(e){return rP(e,r)}));return MT.create(i,"or")}(e,t),aP(n)}function iP(e,t){if(FT(t))return zT(t,e.getFilters());var n=t.filters.map((function(t){return rP(e,t)}));return MT.create(n,"or")}function aP(e){if(cC(e instanceof LT||e instanceof MT),e instanceof LT)return e;var t=e.getFilters();if(1===t.length)return aP(t[0]);if(BT(e))return e;var n=t.map((function(e){return aP(e)})),r=[];return n.forEach((function(t){t instanceof LT?r.push(t):t instanceof MT&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:MT.create(r,e.op)}var oP=function(){function e(){h(this,e),this.rn=new sP}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),GC.resolve()}},{key:"getCollectionParents",value:function(e,t){return GC.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return GC.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return GC.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return GC.resolve(null)}},{key:"getIndexType",value:function(e,t){return GC.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return GC.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return GC.resolve(null)}},{key:"getMinOffset",value:function(e,t){return GC.resolve(UC.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return GC.resolve(UC.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return GC.resolve()}},{key:"updateIndexEntries",value:function(e,t){return GC.resolve()}}]),e}(),sP=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new WS(NC.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new WS(NC.comparator)).toArray()}}]),e}(),uP=new Uint8Array(0),cP=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.on=new sP,this.un=new CI((function(e){return tI(e)}),(function(e,t){return nI(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:cS(i)};return lP(e).put(a)}return GC.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[SC(t),""],!1,!0);return lP(e).j(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=hP(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=dP(e);return a.next((function(e){o.put(RN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=hP(e),r=dP(e),i=fP(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=fP(e),i=!0,a=new Map;return GC.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=MI(),o=[];return GC.forEach(a,(function(i,a){var s;iC("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(tI(t)));var u=function(e,t){var n=LC(t);if(void 0===n)return null;var r,i=C(iI(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(MC(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=C(iI(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(MC(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?aI(e,o.fieldPath,e.startAt):oI(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new AT(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(MC(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oI(e,o.fieldPath,e.endAt):aI(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new AT(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return GC.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=OC.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return GC.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:$N(MT.create(e.filters,"and")).map((function(t){return eI(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.dn(t[d/c]):uP,h=s.wn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],a),v=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,f(s.createRange(h,p,v)))},d=0;d<u;++d)h();return l}},{key:"wn",value:function(e,t,n,r){var i=new GN(e,OC.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new GN(e,OC.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new ZN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return GC.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new WS(DC.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=C(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new KN,i=C(MC(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);BN.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new KN;return BN.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new KN;return BN.Ve._e(pT(this.databaseId,t),n.He(function(e){var t=MC(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new KN);var i,a=0,o=C(MC(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=C(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&mT(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);BN.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=f(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=C(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new KN;h.seed(l.Qe()),BN.Ve._e(u,h.He(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof LT&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=hP(e),i=dP(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return GC.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new jC(t.sequenceNumber,new UC(TN(t.readTime),new OC(hS(t.documentKey)),t.largestBatchId)):jC.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new FC(DC.fromServerFormat(n),r)}));return new RC(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:EC(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=hP(e),a=dP(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return GC.forEach(t,(function(t){return a.put(RN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return GC.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?GC.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),GC.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?GC.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return fP(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return fP(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=fP(e),i=new WS(QN);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new GN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new WS(QN),r=this.mn(t,e);if(null==r)return n;var i=LC(t);if(null!=i){var a=e.data.field(i.fieldPath);if(mT(a)){var o,s=C(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new GN(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new GN(t.indexId,e.key,uP,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;iC("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=KS(a),u=KS(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=KS(o)):l?(i(s),s=KS(a)):(s=KS(a),u=KS(o))}}(r,i,QN,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),GC.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return dP(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return QN(e,t)})).filter((function(e,t,n){return!t||0!==QN(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=QN(o,e),u=QN(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,uP,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,uP,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return QN(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(pP)}},{key:"getMinOffset",value:function(e,t){var n=this;return GC.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||uC()}))})).next(pP)}}]),e}();function lP(e){return FS(e,"collectionParents")}function fP(e){return FS(e,"indexEntries")}function hP(e){return FS(e,"indexConfiguration")}function dP(e){return FS(e,"indexState")}function pP(e){cC(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qC(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new UC(t.readTime,t.documentKey,n)}var vP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mP=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gP(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){cC(1===s)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=vS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return GC.waitFor(a).next((function(){return l}))}function yP(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw uC();t=e.noDocument}return JSON.stringify(t).length}mP.DEFAULT_COLLECTION_PERCENTILE=10,mP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mP.DEFAULT=new mP(41943040,mP.DEFAULT_COLLECTION_PERCENTILE,mP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mP.DISABLED=new mP(-1,0,0);var wP=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kP(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_P(e),o=kP(e);return o.add({}).next((function(s){cC("number"==typeof s);var u,c=new wA(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return uN(e.fe,t)})),i=n.mutations.map((function(t){return uN(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new WS((function(e,t){return EC(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=vS(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),GC.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kP(e).get(t).next((function(e){return e?(cC(e.userId===n.userId),IN(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?GC.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return kP(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(cC(t.batchId>=r),a=IN(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kP(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kP(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return IN(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _P(e).X({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=hS(l);if(u===n.userId&&t.path.isEqual(h))return kP(e).get(f).next((function(e){if(!e)throw uC();cC(e.userId===n.userId),a.push(IN(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new WS(EC),i=[];return t.forEach((function(t){var a=pS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=_P(e).X({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=hS(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),GC.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pS(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new WS(EC);return _P(e).X({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=hS(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kP(e).get(t).next((function(e){if(null===e)throw uC();cC(e.userId===n.userId),r.push(IN(n.serializer,e))})))})),GC.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gP(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),GC.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return GC.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _P(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hS(e[1]);i.push(a)}else r.done()})).next((function(){cC(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bP(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return xP(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return cC(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bP(e,t,n){var r=pS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _P(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function kP(e){return FS(e,"mutations")}function _P(e){return FS(e,"documentMutations")}function xP(e){return FS(e,"mutationQueues")}var EP=function(){function e(t){h(this,e),this.Nn=t}return m(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),CP=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new EP(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return IC.fromTimestamp(new TC(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return SP(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return cC(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return SP(e).X((function(o,s){var u=AN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return GC.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return SP(e).X((function(e,n){var r=AN(n);t(r)}))}},{key:"$n",value:function(e){return TP(e).get("targetGlobalKey").next((function(e){return cC(null!==e),e}))}},{key:"On",value:function(e,t){return TP(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return SP(e).put(NN(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return SP(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=AN(n);nI(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=IP(e);return t.forEach((function(t){var o=cS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),GC.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=IP(e);return GC.forEach(t,(function(t){var a=cS(t.path);return GC.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=IP(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=IP(e),i=MI();return r.X({range:n,Y:!0},(function(e,t,n){var r=hS(e[1]),a=new OC(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cS(t.path),r=IDBKeyRange.bound([n],[SC(n)],!1,!0),i=0;return IP(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return SP(e).get(t).next((function(e){return e?AN(e):null}))}}]),e}();function SP(e){return FS(e,"targets")}function TP(e){return FS(e,"targetGlobal")}function IP(e){return FS(e,"targetDocuments")}function AP(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=EC(r,o);return 0===u?EC(i,s):u}var NP=function(){function e(t){h(this,e),this.Ln=t,this.buffer=new WS(AP),this.qn=0}return m(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AP(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),PP=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;iC("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!$C(e.t0)){e.next=12;break}iC("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,HC(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),DP=function(){function e(t,n){h(this,e),this.jn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return GC.resolve(aS.ct);var r=new NP(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(iC("LruGarbageCollector","Garbage collection skipped; disabled"),GC.resolve(vP)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(iC("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vP):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(iC("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),rC()<=_h.DEBUG&&iC("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),GC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function OP(e,t){return new DP(e,t)}var RP=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=OP(this,n)}return m(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return LP(e,n)}},{key:"removeReference",value:function(e,t,n){return LP(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return LP(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return xP(e).Z((function(r){return bP(e,r,t).next((function(e){return e&&(n=!0),GC.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,IC.min()),IP(e).delete([0,cS(o.path)])}))}));i.push(u)}})).next((function(){return GC.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return LP(e,t)}},{key:"Yn",value:function(e,t){var n,r=IP(e),i=aS.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==aS.ct&&t(new OC(hS(n)),i),i=u,n=s):i=aS.ct})).next((function(){i!==aS.ct&&t(new OC(hS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function LP(e,t){return IP(e).put(function(e,t){return{targetId:0,path:cS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var MP=function(){function e(){h(this,e),this.changes=new CI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,IT.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?GC.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),FP=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return UP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return UP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],CN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=IT.newInvalidDocument(t);return UP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qP(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:IT.newInvalidDocument(t)};return UP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qP(t))},(function(e,i){r={document:n.ts(t,i),size:yP(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=TI();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=TI(),i=new US(OC.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,yP(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return GC.resolve();var r=new WS(WP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(qP(r.first()),qP(r.last())),a=r.getIterator(),o=a.getNext();return UP(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=OC.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&WP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(qP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),CN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return UP(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=TI(),o=C(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(OC.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(kI(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=TI(),o=zP(t,n),s=zP(t,UC.max());return UP(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(OC.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new VP(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return BP(e).get("remoteDocumentGlobalKey").next((function(e){return cC(!!e),e}))}},{key:"Zn",value:function(e,t){return BP(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=oN(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=OC.fromSegments(t.noDocument.path),i=TN(t.noDocument.readTime);n=IT.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return uC();var a=OC.fromSegments(t.unknownDocument.path),o=TN(t.unknownDocument.version);n=IT.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new TC(e[0],e[1]);return IC.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(IC.min()))return n}return IT.newInvalidDocument(e)}}]),e}();function jP(e){return new FP(e)}var VP=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new CI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new WS((function(e,t){return EC(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=EN(t.os.serializer,o);i=i.add(a.path.popLast());var c=yP(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=EN(t.os.serializer,o.convertToNoDocument(IC.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),GC.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(MP);function BP(e){return FS(e,"remoteDocumentGlobal")}function UP(e){return FS(e,"remoteDocumentsV14")}function qP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zP(e,t){var n=t.documentKey.path.toArray();return[e,CN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WP(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=EC(n[a],r[a]))return i;return(i=EC(n.length,r.length))||((i=EC(n[n.length-2],r[r.length-2]))||EC(n[n.length-1],r[r.length-1]))}var HP=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),KP=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&sA(r.mutation,e,GS.empty(),TC.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,MI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MI(),i=PI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=AI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=PI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,MI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=TI(),a=OI(),o=OI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fA)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),sA(o.mutation,t,o.mutation.getFieldMask(),TC.now())):a.set(t.key,GS.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new HP(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=OI(),i=new US((function(e,t){return e-t})),a=MI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||GS.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||MI()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=DI();c.forEach((function(e){if(!a.has(e)){var n=aA(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return GC.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return OC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):GC.resolve(PI()),s=-1,u=a;return o.next((function(t){return GC.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?GC.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,MI())})).next((function(e){return{batchId:s,changes:NI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new OC(t)).next((function(e){var t=AI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=AI();return this.indexManager.getCollectionParents(e,i).next((function(o){return GC.forEach(o,(function(o){var s=function(e,t){return new sI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,IT.newInvalidDocument(r)))}));var n=AI();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&sA(a.mutation,i,GS.empty(),TC.now()),kI(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),GP=function(){function e(t){h(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return GC.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ZA(n.createTime)}),GC.resolve()}},{key:"getNamedQuery",value:function(e,t){return GC.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:PN(e.bundledQuery),readTime:ZA(e.readTime)}}(t)),GC.resolve()}}]),e}(),QP=function(){function e(){h(this,e),this.overlays=new US(OC.comparator),this.ls=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return GC.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=PI();return GC.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),GC.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),GC.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=PI(),i=t.length+1,a=new OC(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return GC.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new US((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=PI(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=PI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return GC.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kA(t,n));var a=this.ls.get(t);void 0===a&&(a=MI(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),YP=function(){function e(){h(this,e),this.fs=new WS(ZP.ds),this.ws=new WS(ZP._s)}return m(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ZP(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new ZP(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new OC(new NC([])),r=new ZP(n,e),i=new ZP(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new OC(new NC([])),n=new ZP(t,e),r=new ZP(t,e+1),i=MI();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ZP(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ZP=function(){function e(t,n){h(this,e),this.key=t,this.As=n}return m(e,null,[{key:"ds",value:function(e,t){return OC.comparator(e.key,t.key)||EC(e.As,t.As)}},{key:"_s",value:function(e,t){return EC(e.As,t.As)||OC.comparator(e.key,t.key)}}]),e}(),XP=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new WS(ZP.ds)}return m(e,[{key:"checkEmpty",value:function(e){return GC.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wA(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new ZP(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return GC.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return GC.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return GC.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return GC.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return GC.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ZP(t,0),i=new ZP(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),GC.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new WS(EC);return t.forEach((function(e){var t=new ZP(e,0),i=new ZP(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),GC.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;OC.isDocumentKey(i)||(i=i.child(""));var a=new ZP(new OC(i),0),o=new WS(EC);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),GC.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;cC(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return GC.forEach(t.mutations,(function(i){var a=new ZP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ZP(t,0),r=this.Rs.firstAfterOrEqual(n);return GC.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,GC.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),$P=function(){function e(t){h(this,e),this.Ds=t,this.docs=new US(OC.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return GC.resolve(n?n.document.mutableCopy():IT.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=TI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():IT.newInvalidDocument(e))})),GC.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=TI(),a=t.path,o=new OC(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qC(BC(l),n)<=0||(r.has(l.key)||kI(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return GC.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){uC()}},{key:"Cs",value:function(e,t){return GC.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new JP(this)}},{key:"getSize",value:function(e){return GC.resolve(this.size)}}]),e}(),JP=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).os=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),GC.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(MP),eD=function(){function e(t){h(this,e),this.persistence=t,this.xs=new CI((function(e){return tI(e)}),nI),this.lastRemoteSnapshotVersion=IC.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YP,this.targetCount=0,this.Ms=EP.kn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),GC.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return GC.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return GC.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),GC.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),GC.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new EP(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,GC.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),GC.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,GC.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),GC.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return GC.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return GC.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),GC.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),GC.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),GC.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return GC.resolve(n)}},{key:"containsKey",value:function(e,t){return GC.resolve(this.ks.containsKey(t))}}]),e}(),tD=function(){function e(t,n){var r=this;h(this,e),this.$s={},this.overlays={},this.Os=new aS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new eD(this),this.indexManager=new oP,this.remoteDocumentCache=new $P((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new xN(n),this.qs=new GP(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new QP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new XP(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;iC("MemoryPersistence","Starting transaction:",e);var i=new nD(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return GC.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nD=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(WC),rD=function(){function e(t){h(this,e),this.persistence=t,this.Qs=new YP,this.js=null}return m(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw uC()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),GC.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),GC.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),GC.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return GC.forEach(this.Ws,(function(r){var i=OC.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,IC.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return GC.or([function(){return GC.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),iD=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new QC("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dS,{unique:!0}),e.createObjectStore("documentMutations")}(e),aD(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=GC.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),aD(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:IC.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return GC.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:IS});t.createIndex("collectionPathOverlayIndex",AS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",NS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gS});t.createIndex("documentKeyIndex",yS),t.createIndex("collectionGroupIndex",wS)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ES}).createIndex("sequenceNumberIndex",CS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:SS}).createIndex("documentKeyIndex",TS,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=yP(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return GC.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return GC.forEach(r,(function(r){cC(r.userId===n.userId);var i=IN(t.serializer,r);return gP(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new NC(n),o=function(e){return[0,cS(e)]}(a);r.push(t.get(o).next((function(n){return n?GC.resolve():function(n){return t.put({targetId:0,path:cS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return GC.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:xS});var n=t.store("collectionParents"),r=new sP,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cS(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new NC(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],hS(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=AN(r),a=NN(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new OC(NC.fromString(i.document.name).popFirst(5)):i.noDocument?OC.fromSegments(i.noDocument.path):i.unknownDocument?OC.fromSegments(i.unknownDocument.path):uC()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return GC.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=jP(this.serializer),a=new tD(rD.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:MI();IN(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),GC.forEach(r,(function(e,r){var o=new eC(r),s=jN.de(n.serializer,o),u=a.getIndexManager(o),c=wP.de(o,n.serializer,u,a.referenceDelegate);return new KP(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new MS(t,aS.ct),e).next()}))}))}}]),e}();function aD(e){e.createObjectStore("targetDocuments",{keyPath:kS}).createIndex("documentTargetsIndex",_S,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bS,{unique:!0}),e.createObjectStore("targetGlobal")}var oD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sD=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new hC(fC.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RP(this,i),this.di=n+"main",this.serializer=new xN(u),this.wi=new YC(this.di,this.ui,new iD(this.serializer)),this.Bs=new CP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jP(this.serializer),this.qs=new LN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&aC("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hC(fC.FAILED_PRECONDITION,oD);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new aS(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=ff(cf().mark((function n(r){return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=ff(cf().mark((function t(n){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cD(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if($C(t))return iC("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return iC("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return uD(e).get("owner").next((function(e){return GC.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return cD(e).delete(this.clientId)}},{key:"bi",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=FS(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return GC.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?GC.resolve(!0):uD(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new hC(fC.FAILED_PRECONDITION,oD);return!1}}return!(!t.networkEnabled||!t.inForeground)||cD(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&iC("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ff(cf().mark((function e(){var t=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new MS(e,aS.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cD(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return wP.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new cP(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return jN.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;iC("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?LS:14===i?RS:13===i?OS:12===i?DS:11===i?PS:void uC();return this.wi.runTransaction(e,o,s,(function(i){return a=new MS(i,r.Os?r.Os.next():aS.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw aC("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new hC(fC.FAILED_PRECONDITION,zC);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return uD(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hC(fC.FAILED_PRECONDITION,oD)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uD(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=uD(e);return n.get("owner").next((function(e){return t.Ri(e)?(iC("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):GC.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(aC("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;jf()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return iC("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return aC("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){aC("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return YC.D()}}]),e}();function uD(e){return FS(e,"owner")}function cD(e){return FS(e,"clientMetadata")}function lD(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fD=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return m(e,null,[{key:"Li",value:function(t,n){var r,i=MI(),a=MI(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hD=function(){function e(){h(this,e),this.qi=!1}return m(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(lI(t))return GC.resolve(null);var r=vI(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=gI(t,null,"F"),r=vI(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=MI.apply(void 0,f(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,gI(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return lI(t)||r.isEqual(IC.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(rC()<=_h.DEBUG&&iC("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bI(t)),i.Wi(e,o,t,VC(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new WS(xI(e));return t.forEach((function(t,r){kI(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return rC()<=_h.DEBUG&&iC("QueryEngine","Using full collection scan to execute query:",bI(t)),this.Ui.getDocumentsMatchingQuery(e,t,UC.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dD=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new US(EC),this.Yi=new CI((function(e){return tI(e)}),nI),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return m(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function pD(e,t,n,r){return new dD(e,t,n,r)}function vD(e,t){return mD.apply(this,arguments)}function mD(){return mD=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=MI(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=C(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mD.apply(this,arguments)}function gD(e,t){var n=lC(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=GC.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);cC(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=MI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function yD(e){var t=lC(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function wD(e,t){var n=lC(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(YS.EMPTY_BYTE_STRING,IC.min()).withLastLimboFreeSnapshotVersion(IC.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=TI(),u=MI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bD(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(IC.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return GC.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function bD(e,t,n){var r=MI(),i=MI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=TI();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(IC.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):iC("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function kD(e,t){var n=lC(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function _D(e,t){var n=lC(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,GC.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new _N(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function xD(e,t,n){return ED.apply(this,arguments)}function ED(){return ED=ff(cf().mark((function e(t,n,r){var i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lC(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),$C(e.t1)){e.next=12;break}throw e.t1;case 12:iC("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ED.apply(this,arguments)}function CD(e,t,n){var r=lC(e),i=IC.min(),a=MI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=lC(e),i=r.Yi.get(n);return void 0!==i?GC.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,vI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:IC.min(),n?a:MI())})).next((function(e){return ID(r,_I(t),e),{documents:e,ir:a}}))}))}function SD(e,t){var n=lC(e),r=lC(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function TD(e,t){var n=lC(e),r=n.Xi.get(t)||IC.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,VC(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ID(n,t,e),e}))}function ID(e,t,n){var r=e.Xi.get(t)||IC.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function AD(e,t,n,r){return ND.apply(this,arguments)}function ND(){return ND=ff(cf().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=lC(t),o=MI(),s=TI(),u=C(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,_D(a,function(e){return vI(cI(NC.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bD(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),ND.apply(this,arguments)}function PD(e,t){return DD.apply(this,arguments)}function DD(){return DD=ff(cf().mark((function e(t,n){var r,i,a,o=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:MI(),e.next=3,_D(t,vI(PN(n.bundledQuery)));case 3:return i=e.sent,a=lC(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ZA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(YS.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),DD.apply(this,arguments)}function OD(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function RD(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function LD(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var MD=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new hC(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(aC("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),FD=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hC(i.error.code,i.error.message))),a?new e(t,i.state,r):(aC("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),jD=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=jI(),o=0;i&&o<r.activeTargetIds.length;++o)i=uS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(aC("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),VD=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(aC("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),BD=function(){function e(){h(this,e),this.activeTargetIds=jI()}return m(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),UD=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new US(EC),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=OD(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new BD),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(OD(this.persistenceKey,i)))&&(o=jD.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=C(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(LD(this.persistenceKey,e));if(n){var r=FD.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(LD(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return iC("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){iC("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){iC("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(iC("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void aC("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(ff(cf().mark((function e(){var r,i,a,o,s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=aS.ct;if(null!=e)try{var n=JSON.parse(e);cC("number"==typeof n),t=n}catch(e){aC("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==aS.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new MD(this.currentUser,e,t,n),i=RD(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=RD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=LD(this.persistenceKey,e),i=new FD(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return jD.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return MD.ar(new eC(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return FD.ar(r,t)}},{key:"br",value:function(e){return VD.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:iC("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=jI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),qD=function(){function e(){h(this,e),this.Hr=new BD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new BD,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),zD=function(){function e(){h(this,e)}return m(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),WD=function(){function e(){var t=this;h(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return m(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){iC("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){iC("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),HD=null;function KD(){return null===HD?HD=268435456+Math.round(2147483648*Math.random()):HD++,"0x"+HD.toString(16)}var GD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},QD=function(){function e(t){h(this,e),this.ro=t.ro,this.oo=t.oo}return m(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),YD="WebChannelConnection",ZD=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Ao",value:function(e,t,n,r){var i=KD();return new Promise((function(a,o){var s=new ZE;s.setWithCredentials(!0),s.listenOnce(HE.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case WE.NO_ERROR:var t=s.getResponseJson();iC(YD,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case WE.TIMEOUT:iC(YD,"RPC '".concat(e,"' ").concat(i," timed out")),o(new hC(fC.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:var n=s.getStatus();if(iC(YD,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fC).indexOf(t)>=0?t:fC.UNKNOWN}(u.status);o(new hC(c,u.message))}else o(new hC(fC.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new hC(fC.UNAVAILABLE,"Connection failed."));break;default:uC()}}finally{iC(YD,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);iC(YD,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=KD(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qE(),o=zE(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new QE({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");iC(YD,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new QD({ro:function(t){h?iC(YD,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(iC(YD,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),iC(YD,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,YE.EventType.OPEN,(function(){h||iC(YD,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,YE.EventType.CLOSE,(function(){h||(h=!0,iC(YD,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,YE.EventType.ERROR,(function(t){h||(h=!0,oC(YD,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new hC(fC.UNAVAILABLE,"The operation could not be completed")))})),p(l,YE.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];cC(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){iC(YD,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=vA[e];if(void 0!==t)return EA(t)}(s),c=o.message;void 0===u&&(u=fC.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new hC(u,c)),l.close()}else iC(YD,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,KE.STAT_EVENT,(function(t){t.stat===GE.PROXY?iC(YD,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===GE.NOPROXY&&iC(YD,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=KD(),o=this.To(e,t);iC("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return iC("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw oC("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tC,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=GD[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function XD(){return"undefined"!=typeof window?window:null}function $D(){return"undefined"!=typeof document?document:null}function JD(e){return new HA(e,!0)}var eO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&iC("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),tO=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eO(t,n)}return m(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===fC.RESOURCE_EXHAUSTED?(aC(n.toString()),aC("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===fC.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new hC(fC.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return iC("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(iC("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),nO=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return m(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:uC()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(cC(void 0===t||"string"==typeof t),YS.fromBase64String(t||"")):(cC(void 0===t||t instanceof Uint8Array),YS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?fC.UNKNOWN:EA(e.code);return new hC(t,e.message||"")}(o);n=new FA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=eN(e,u.document.name),l=ZA(u.document.updateTime),f=u.document.createTime?ZA(u.document.createTime):IC.min(),h=new ST({mapValue:{fields:u.document.fields}}),d=IT.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new LA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=eN(e,m.document),y=m.readTime?ZA(m.readTime):IC.min(),w=IT.newNoDocument(g,y),b=m.removedTargetIds||[];n=new LA([],b,w.key,w)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var _=eN(e,k.document),x=k.removedTargetIds||[];n=new LA([],x,_,null)}else{if(!("filter"in t))return uC();t.filter;var E=t.filter;E.targetId;var C=E.count,S=void 0===C?0:C,T=E.unchangedNames,I=new _A(S,T),A=E.targetId;n=new MA(A,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return IC.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?IC.min():t.readTime?ZA(t.readTime):IC.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=rN(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=rI(r)?{documents:lN(e,r)}:{query:fN(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=QA(e,t.resumeToken);var i=KA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(IC.min())>0){n.readTime=GA(e,t.snapshotVersion.toTimestamp());var a=KA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return uC()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=rN(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(tO),rO=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return m(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,qc(w(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(cC(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(cC(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ZA(e.updateTime):ZA(t);return n.isEqual(IC.min())&&(n=ZA(t)),new tA(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ZA(e.commitTime);return this.listener.cu(n,t)}return cC(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=rN(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uN(t.serializer,e)}))};this.Wo(n)}}]),n}(tO),iO=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return m(n,[{key:"fu",value:function(){if(this.lu)throw new hC(fC.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fC.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hC(fC.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fC.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new hC(fC.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var aO=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return m(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(aC(t),this.mu=!1):iC("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),oO=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gO(o),!e.t0){e.next=5;break}return iC("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lC(t)).vu.add(4),e.next=4,cO(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,sO(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new aO(r,i)}));function sO(e){return uO.apply(this,arguments)}function uO(){return(uO=ff(cf().mark((function e(t){var n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gO(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function cO(e){return lO.apply(this,arguments)}function lO(){return(lO=ff(cf().mark((function e(t){var n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function fO(e,t){var n=lC(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),mO(n)?vO(n):KO(n).Ko()&&dO(n,t))}function hO(e,t){var n=lC(e),r=KO(n);n.Au.delete(t),r.Ko()&&pO(n,t),0===n.Au.size&&(r.Ko()?r.jo():gO(n)&&n.bu.set("Unknown"))}function dO(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(IC.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}KO(e).su(t)}function pO(e,t){e.Vu.qt(t),KO(e).iu(t)}function vO(e){e.Vu=new VA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),KO(e).start(),e.bu.gu()}function mO(e){return gO(e)&&!KO(e).Uo()&&e.Au.size>0}function gO(e){return 0===lC(e).vu.size}function yO(e){e.Vu=void 0}function wO(e){return bO.apply(this,arguments)}function bO(){return(bO=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){dO(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kO(e,t){return _O.apply(this,arguments)}function _O(){return(_O=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yO(t),mO(t)?(t.bu.Iu(n),vO(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xO(e,t,n){return EO.apply(this,arguments)}function EO(){return EO=ff(cf().mark((function e(t,n,r){var i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof FA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),iC("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,CO(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof LA?t.Vu.Ht(n):n instanceof MA?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(IC.min())){e.next=29;break}return e.prev=14,e.next=17,yD(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(YS.EMPTY_BYTE_STRING,r.snapshotVersion)),pO(e,t);var i=new _N(r.target,t,n,r.sequenceNumber);dO(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),iC("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,CO(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),EO.apply(this,arguments)}function CO(e,t,n){return SO.apply(this,arguments)}function SO(){return(SO=ff(cf().mark((function e(t,n,r){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($C(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,cO(t);case 5:t.bu.set("Offline"),r||(r=function(){return yD(t.localStore)}),t.asyncQueue.enqueueRetryable(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iC("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,sO(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TO(e,t){return t().catch((function(n){return CO(e,n,t)}))}function IO(e){return AO.apply(this,arguments)}function AO(){return(AO=ff(cf().mark((function e(t){var n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lC(t),r=GO(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!NO(n)){e.next=19;break}return e.prev=3,e.next=6,kD(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,PO(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,CO(n,e.t0);case 17:e.next=2;break;case 19:DO(n)&&OO(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function NO(e){return gO(e)&&e.Eu.length<10}function PO(e,t){e.Eu.push(t);var n=GO(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function DO(e){return gO(e)&&!GO(e).Uo()&&e.Eu.length>0}function OO(e){GO(e).start()}function RO(e){return LO.apply(this,arguments)}function LO(){return(LO=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GO(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MO(e){return FO.apply(this,arguments)}function FO(){return(FO=ff(cf().mark((function e(t){var n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=GO(t),r=C(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jO(e,t,n){return VO.apply(this,arguments)}function VO(){return(VO=ff(cf().mark((function e(t,n,r){var i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=bA.from(i,n,r),e.next=3,TO(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,IO(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BO(e,t){return UO.apply(this,arguments)}function UO(){return UO=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&GO(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xA(i=n.code)||i===fC.ABORTED){e.next=7;break}return r=t.Eu.shift(),GO(t).Qo(),e.next=5,TO(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,IO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:DO(t)&&OO(t);case 5:case"end":return e.stop()}}),e)}))),UO.apply(this,arguments)}function qO(e,t){return zO.apply(this,arguments)}function zO(){return(zO=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=lC(t)).asyncQueue.verifyOperationInProgress(),iC("RemoteStore","RemoteStore received new credentials"),i=gO(r),r.vu.add(3),e.next=6,cO(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,sO(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WO(e,t){return HO.apply(this,arguments)}function HO(){return(HO=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lC(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,sO(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,cO(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KO(e){return e.Su||(e.Su=function(e,t,n){var r=lC(e);return r.fu(),new nO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:wO.bind(null,e),ao:kO.bind(null,e),nu:xO.bind(null,e)}),e.Ru.push(function(){var t=ff(cf().mark((function t(n){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),mO(e)?vO(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:yO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function GO(e){return e.Du||(e.Du=function(e,t,n){var r=lC(e);return r.fu(),new rO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:RO.bind(null,e),ao:BO.bind(null,e),au:MO.bind(null,e),cu:jO.bind(null,e)}),e.Ru.push(function(){var t=ff(cf().mark((function t(n){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,IO(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(iC("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var QO=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new dC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hC(fC.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function YO(e,t){if(aC("AsyncQueue","".concat(t,": ").concat(e)),$C(e))return new hC(fC.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ZO=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||OC.comparator(e.key,n.key)}:function(e,t){return OC.comparator(e.key,t.key)},this.keyedMap=AI(),this.sortedSet=new US(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),XO=function(){function e(){h(this,e),this.Cu=new US(OC.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):uC():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$O=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ZO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),JO=m((function e(){h(this,e),this.Nu=void 0,this.listeners=[]})),eR=m((function e(){h(this,e),this.queries=new CI((function(e){return wI(e)}),yI),this.onlineState="Unknown",this.ku=new Set}));function tR(e,t){return nR.apply(this,arguments)}function nR(){return nR=ff(cf().mark((function e(t,n){var r,i,a,o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lC(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new JO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=YO(e.t0,"Initialization of query '".concat(bI(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&sR(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nR.apply(this,arguments)}function rR(e,t){return iR.apply(this,arguments)}function iR(){return iR=ff(cf().mark((function e(t,n){var r,i,a,o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lC(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iR.apply(this,arguments)}function aR(e,t){var n,r=lC(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&sR(r)}function oR(e,t,n){var r=lC(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function sR(e){e.ku.forEach((function(e){e.next()}))}var uR=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $O(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=$O.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),cR=function(){function e(t,n){h(this,e),this.Gu=t,this.byteLength=n}return m(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),lR=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"rr",value:function(e){return eN(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?oN(this.serializer,e.document,!1):IT.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return ZA(e)}}]),e}(),fR=function(){function e(t,n,r){h(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hR(t)}return m(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=NC.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new lR(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=C(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||MI()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AD(this.localStore,new lR(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,PD(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dR=m((function e(t){h(this,e),this.key=t})),pR=m((function e(t){h(this,e),this.key=t})),vR=function(){function e(t,n){h(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=MI(),this.mutatedKeys=MI(),this.tc=xI(t),this.ec=new ZO(this.tc)}return m(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new XO,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kI(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return uC()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new $O(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=MI(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new pR(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new dR(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=MI();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return $O.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),mR=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),gR=m((function e(t){h(this,e),this.key=t,this.fc=!1})),yR=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new CI((function(e){return wI(e)}),yI),this._c=new Map,this.mc=new Set,this.gc=new US(OC.comparator),this.yc=new Map,this.Ic=new YP,this.Tc={},this.Ec=new Map,this.Ac=EP.Mn(),this.onlineState="Unknown",this.vc=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function wR(e,t){return bR.apply(this,arguments)}function bR(){return bR=ff(cf().mark((function e(t,n){var r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hL(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,_D(r.localStore,vI(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,kR(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&fO(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function kR(e,t,n,r,i){return _R.apply(this,arguments)}function _R(){return _R=ff(cf().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ff(cf().mark((function e(t,n,r,i){var a,o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,CD(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(qR(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,CD(t.localStore,n,!0);case 3:return o=e.sent,s=new vR(n,o.ir),u=s.sc(o.documents),c=RA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),qR(t,r,l.cc),f=new mR(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_R.apply(this,arguments)}function xR(e,t){return ER.apply(this,arguments)}function ER(){return(ER=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lC(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!yI(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,xD(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hO(r.remoteStore,i.targetId),BR(r,i.targetId)})).catch(HC);case 9:e.next=14;break;case 11:return BR(r,i.targetId),e.next=14,xD(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CR(e,t,n){return SR.apply(this,arguments)}function SR(){return SR=ff(cf().mark((function e(t,n,r){var i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dL(t),e.prev=1,e.next=4,function(e,t){var n,r,i=lC(e),a=TC.now(),o=t.reduce((function(e,t){return e.add(t.key)}),MI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=TI(),u=MI();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=uA(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new fA(c.key,l,TT(l.value.mapValue),nA.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:NI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new US(EC)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,HR(i,a.changes);case 9:return e.next=11,IO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=YO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),SR.apply(this,arguments)}function TR(e,t){return IR.apply(this,arguments)}function IR(){return(IR=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),e.prev=1,e.next=4,wD(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(cC(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?cC(n.fc):e.removedDocuments.size>0&&(cC(n.fc),n.fc=!1))})),e.next=8,HR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,HC(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function AR(e,t,n){var r=lC(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=lC(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sR(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function NR(e,t,n){return PR.apply(this,arguments)}function PR(){return PR=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=lC(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new US(OC.comparator)).insert(o,IT.newNoDocument(o,IC.min())),u=MI().add(o),c=new OA(IC.min(),new Map,new US(EC),s,u),e.next=9,TR(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),WR(i),e.next=16;break;case 14:return e.next=16,xD(i.localStore,n,!1).then((function(){return BR(i,n,r)})).catch(HC);case 16:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function DR(e,t){return OR.apply(this,arguments)}function OR(){return(OR=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),i=n.batch.batchId,e.prev=1,e.next=4,gD(r.localStore,n);case 4:return a=e.sent,VR(r,i,null),jR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,HR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,HC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function RR(e,t,n){return LR.apply(this,arguments)}function LR(){return(LR=ff(cf().mark((function e(t,n,r){var i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lC(t),e.prev=1,e.next=4,function(e,t){var n=lC(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return cC(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,VR(i,n,r),jR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,HR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,HC(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function MR(e,t){return FR.apply(this,arguments)}function FR(){return(FR=ff(cf().mark((function e(t,n){var r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gO((r=lC(t)).remoteStore)||iC("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=lC(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=YO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function jR(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function VR(e,t,n){var r=lC(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function BR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||UR(e,t)}))}function UR(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(hO(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),WR(e))}function qR(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dR?(e.Ic.addReference(a.key,t),zR(e,a)):a instanceof pR?(iC("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||UR(e,a.key)):uC()}}catch(o){i.e(o)}finally{i.f()}}function zR(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(iC("SyncEngine","New document in limbo: "+n),e.mc.add(r),WR(e))}function WR(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new OC(NC.fromString(t)),r=e.Ac.next();e.yc.set(r,new gR(n)),e.gc=e.gc.insert(n,r),fO(e.remoteStore,new _N(vI(cI(n.path)),r,"TargetPurposeLimboResolution",aS.ct))}}function HR(e,t,n){return KR.apply(this,arguments)}function KR(){return KR=ff(cf().mark((function e(t,n,r){var i,a,o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lC(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=fD.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o,s,u,c,l;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return GC.forEach(n,(function(t){return GC.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return GC.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),$C(e.t0)){e.next=10;break}throw e.t0;case 10:iC("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KR.apply(this,arguments)}function GR(e,t){return QR.apply(this,arguments)}function QR(){return(QR=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=lC(t)).currentUser.isEqual(n)){e.next=11;break}return iC("SyncEngine","User change. New user:",n.toKey()),e.next=5,vD(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new hC(fC.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,HR(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YR(e,t){var n=lC(e),r=n.yc.get(t);if(r&&r.fc)return MI().add(r.key);var i=MI(),a=n._c.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function ZR(e,t){return XR.apply(this,arguments)}function XR(){return(XR=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),e.next=3,CD(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&qR(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $R(e,t){return JR.apply(this,arguments)}function JR(){return(JR=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),e.abrupt("return",TD(r.localStore,n).then((function(e){return HR(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eL(e,t,n,r){return tL.apply(this,arguments)}function tL(){return tL=ff(cf().mark((function e(t,n,r,i){var a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lC(t),e.next=3,function(e,t){var n=lC(e),r=lC(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):GC.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,IO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(VR(a,n,i||null),jR(a,n),function(e,t){lC(lC(e).mutationQueue).Cn(t)}(a.localStore,n)):uC();case 11:return e.next=13,HR(a,o);case 13:e.next=16;break;case 15:iC("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tL.apply(this,arguments)}function nL(e,t){return rL.apply(this,arguments)}function rL(){return(rL=ff(cf().mark((function e(t,n){var r,i,a,o,s,u,c,l;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hL(r=lC(t)),dL(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iL(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,WO(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(s=o.n()).done;)u=s.value,fO(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return BR(r,t),xD(r.localStore,t,!0)})),hO(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,iL(r,c);case 21:return function(e){var t=lC(e);t.yc.forEach((function(e,n){hO(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new US(OC.comparator)}(r),r.vc=!1,e.next=25,WO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iL(e,t,n){return aL.apply(this,arguments)}function aL(){return aL=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=lC(t),a=[],o=[],s=C(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,_D(i.localStore,vI(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,ZR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,SD(i.localStore,c);case 36:return g=e.sent,e.next=39,_D(i.localStore,g);case 39:return l=e.sent,e.next=42,kR(i,oL(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aL.apply(this,arguments)}function oL(e){return uI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sL(e){var t=lC(e);return lC(lC(t.localStore).persistence).$i()}function uL(e,t,n,r){return cL.apply(this,arguments)}function cL(){return cL=ff(cf().mark((function e(t,n,r,i){var a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=lC(t)).vc){e.next=3;break}return e.abrupt("return",void iC("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,TD(a.localStore,_I(o[0]));case 10:return s=e.sent,u=OA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,YS.EMPTY_BYTE_STRING),e.next=14,HR(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,xD(a.localStore,n,!0);case 17:return BR(a,n,i),e.abrupt("break",20);case 19:uC();case 20:case"end":return e.stop()}}),e)}))),cL.apply(this,arguments)}function lL(e,t,n){return fL.apply(this,arguments)}function fL(){return(fL=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hL(t)).vc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return iC("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,SD(i.localStore,s);case 12:return u=e.sent,e.next=15,_D(i.localStore,u);case 15:return c=e.sent,e.next=18,kR(i,oL(u),c.targetId,!1,c.resumeToken);case 18:fO(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,xD(i.localStore,t,!1).then((function(){hO(i.remoteStore,t),BR(i,t)})).catch(HC);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function hL(e){var t=lC(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NR.bind(null,t),t.dc.nu=aR.bind(null,t.eventManager),t.dc.Pc=oR.bind(null,t.eventManager),t}function dL(e){var t=lC(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,t),t}function pL(e,t,n){var r=lC(e);(function(){var e=ff(cf().mark((function e(t,n,r){var i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=lC(e),r=ZA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hR(i)),a=new fR(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,HR(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=lC(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(oC("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vL=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=JD(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return pD(this.persistence,new hD,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new tD(rD.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new qD}},{key:"terminate",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mL=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=ff(cf().mark((function e(t){var r=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,dL(this.Vc.syncEngine);case 6:return e.next=8,IO(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return pD(this.persistence,new hD,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new PP(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new iS(t,this.persistence);return new rS(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=lD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mP.withCacheSize(this.cacheSizeBytes):mP.DEFAULT;return new sD(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XD(),$D(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new qD}}]),n}(vL),gL=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=ff(cf().mark((function e(t){var r,i=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof UD,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:eL.bind(null,r),zr:uL.bind(null,r),Wr:lL.bind(null,r),$i:sL.bind(null,r),Qr:$R.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nL(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=XD();if(!UD.D(t))throw new hC(fC.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UD(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mL),yL=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=ff(cf().mark((function e(t,n){var r=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return AR(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GR.bind(null,this.syncEngine),e.next=12,WO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eR}},{key:"createDatastore",value:function(e){var t,n=JD(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ZD(t));return function(e,t,n,r){return new iO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return AR(o.syncEngine,e,0)},a=WD.D()?new WD:new zD,new oO(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new yR(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lC(t),iC("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,cO(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function wL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ff(cf().mark((function r(){var i;return cf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var bL=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):aC("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kL=function(){function e(t,n){var r=this;h(this,e),this.Cc=t,this.serializer=n,this.metadata=new dC,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new cR(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_L=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=ff(cf().mark((function e(t){var n,r=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new hC(fC.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),i=rN(r.serializer)+"/documents",a={documents:n.map((function(e){return JA(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=sN(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());cC(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gA(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ff(cf().mark((function e(){var t,n=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=OC.fromPath(t);n.mutations.push(new yA(r,n.precondition(r)))})),e.next=7,function(){var e=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lC(t),i=rN(r.serializer)+"/documents",a={writes:n.map((function(e){return uN(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw uC();t=IC.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hC(fC.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(IC.min())?nA.exists(!1):nA.updateTime(t):nA.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(IC.min()))throw new hC(fC.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nA.updateTime(t)}return nA.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),xL=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new eO(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(ff(cf().mark((function t(){var n,r;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _L(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!oS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xA(t)}return!1}}]),e}(),EL=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=eC.UNAUTHENTICATED,this.clientId=xC.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iC("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return iC("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hC(fC.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new dC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ff(cf().mark((function n(){var r;return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=YO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function CL(e,t){return SL.apply(this,arguments)}function SL(){return SL=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),iC("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vD(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),SL.apply(this,arguments)}function TL(e,t){return IL.apply(this,arguments)}function IL(){return(IL=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,NL(t);case 3:return r=e.sent,iC("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qO(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AL(e){return"FirebaseError"===e.name?e.code===fC.FAILED_PRECONDITION||e.code===fC.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function NL(e){return PL.apply(this,arguments)}function PL(){return(PL=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return iC("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,CL(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),AL(n=e.t0)){e.next=13;break}throw n;case 13:return oC("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,CL(t,new vL);case 16:e.next=21;break;case 18:return iC("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,CL(t,new vL);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function DL(e){return OL.apply(this,arguments)}function OL(){return(OL=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return iC("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,TL(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return iC("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,TL(t,new yL);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RL(e){return NL(e).then((function(e){return e.persistence}))}function LL(e){return NL(e).then((function(e){return e.localStore}))}function ML(e){return DL(e).then((function(e){return e.remoteStore}))}function FL(e){return DL(e).then((function(e){return e.syncEngine}))}function jL(e){return DL(e).then((function(e){return e.datastore}))}function VL(e){return BL.apply(this,arguments)}function BL(){return(BL=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DL(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=wR.bind(null,n.syncEngine),r.onUnlisten=xR.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function i(){return cf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bL({next:function(a){t.enqueueAndForget((function(){return rR(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new hC(fC.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new hC(fC.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uR(cI(n.path),a,{includeMetadataChanges:!0,Ku:!0});return tR(e,o)},i.next=3,VL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function i(){return cf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bL({next:function(n){t.enqueueAndForget((function(){return rR(e,o)})),n.fromCache&&"server"===r.source?i.reject(new hC(fC.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uR(n,a,{includeMetadataChanges:!0,Ku:!0});return tR(e,o)},i.next=3,VL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function zL(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var WL=new Map;function HL(e,t,n){if(!n)throw new hC(fC.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KL(e,t,n,r){if(!0===t&&!0===r)throw new hC(fC.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function GL(e){if(!OC.isDocumentKey(e))throw new hC(fC.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QL(e){if(OC.isDocumentKey(e))throw new hC(fC.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function YL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":uC()}function ZL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hC(fC.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=YL(e);throw new hC(fC.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function XL(e,t){if(t<=0)throw new hC(fC.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var $L=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hC(fC.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hC(fC.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zL(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hC(fC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new hC(fC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new hC(fC.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),JL=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $L({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new hC(fC.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hC(fC.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $L(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vC;switch(e.type){case"firstParty":return new wC(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hC(fC.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=WL.get(e);t&&(iC("ComponentProvider","Removing Datastore"),WL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function eM(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ZL(e,JL))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&oC("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=eC.MOCK_USER;else{o=Df(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new hC(fC.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new eC(u)}e._authCredentials=new mC(new pC(o,s))}}var tM=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new rM(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),nM=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),rM=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,cI(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new tM(this.firestore,null,new OC(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(nM);function iM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gh(e),HL("collection","path",t),e instanceof JL){var a=NC.fromString.apply(NC,[t].concat(r));return QL(a),new rM(e,null,a)}if(!(e instanceof tM||e instanceof rM))throw new hC(fC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(NC.fromString.apply(NC,[t].concat(r)));return QL(o),new rM(e.firestore,null,o)}function aM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gh(e),1===arguments.length&&(t=xC.A()),HL("doc","path",t),e instanceof JL){var a=NC.fromString.apply(NC,[t].concat(r));return GL(a),new tM(e,null,new OC(a))}if(!(e instanceof tM||e instanceof rM))throw new hC(fC.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(NC.fromString.apply(NC,[t].concat(r)));return GL(o),new tM(e.firestore,e instanceof rM?e.converter:null,new OC(o))}function oM(e,t){return e=gh(e),t=gh(t),(e instanceof tM||e instanceof rM)&&(t instanceof tM||t instanceof rM)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sM(e,t){return e=gh(e),t=gh(t),e instanceof nM&&t instanceof nM&&e.firestore===t.firestore&&yI(e._query,t._query)&&e.converter===t.converter}var uM=function(){function e(){var t=this;h(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eO(this,"async_queue_retry"),this.Xc=function(){var e=$D();e&&iC("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=$D();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return m(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=$D();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new dC;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ff(cf().mark((function e(){var t=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),$C(e.t0)){e.next=12;break}throw e.t0;case 12:iC("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw aC("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=QO.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&uC()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=C(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function cM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var lM=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new dC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),fM=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new uM,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||dM(this),this._firestoreClient.terminate()}}]),n}(JL);function hM(e){return e._firestoreClient||dM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dM(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new rT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zL(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new EL(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function pM(e,t,n){var r=new dC;return e.asyncQueue.enqueue(ff(cf().mark((function i(){var a;return cf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,CL(e,n);case 3:return i.next=5,TL(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),AL(a=i.t0)){i.next=13;break}throw a;case 13:oC("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function vM(e){return function(e){return e.asyncQueue.enqueue(ff(cf().mark((function t(){var n,r;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RL(e);case 2:return n=t.sent,t.next=5,ML(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=lC(e);return t.vu.delete(0),sO(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(hM(e=ZL(e,fM)))}function mM(e){return function(e){return e.asyncQueue.enqueue(ff(cf().mark((function t(){var n,r;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RL(e);case 2:return n=t.sent,t.next=5,ML(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lC(t)).vu.add(0),e.next=4,cO(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(hM(e=ZL(e,fM)))}function gM(e,t){var n=hM(e=ZL(e,fM)),r=new lM;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new kL(e,t)}(function(e,t){if(e instanceof Uint8Array)return wL(e,t);if(e instanceof ArrayBuffer)return wL(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?TA().encode(e):e),t)}(n,JD(t));e.asyncQueue.enqueueAndForget(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pL,t.next=3,FL(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function yM(e,t){return function(e,t){return e.asyncQueue.enqueue(ff(cf().mark((function n(){return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=lC(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,LL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(hM(e=ZL(e,fM)),t).then((function(t){return t?new nM(e,null,t.query):null}))}function wM(e){if(e._initialized||e._terminated)throw new hC(fC.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bM=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(YS.fromBase64String(t))}catch(t){throw new hC(fC.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(YS.fromUint8Array(t))}}]),e}(),kM=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hC(fC.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new DC(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _M=m((function e(t){h(this,e),this._methodName=t})),xM=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new hC(fC.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hC(fC.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return EC(this._lat,e._lat)||EC(this._long,e._long)}}]),e}(),EM=/^__.*__$/,CM=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fA(e,this.data,this.fieldMask,t,this.fieldTransforms):new lA(e,this.data,t,this.fieldTransforms)}}]),e}(),SM=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new fA(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function TM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw uC()}}var IM=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return QM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(TM(this.ca)&&EM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),AM=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||JD(t)}return m(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IM({ca:e,methodName:t,ga:n,path:DC.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function NM(e){var t=e._freezeSettings(),n=JD(e._databaseId);return new AM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);WM("Data must be an object, but it was:",o,r);var s,u,c=qM(r,o);if(a.merge)s=new GS(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=HM(t,l.value,n);if(!o.contains(d))throw new hC(fC.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));YM(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new GS(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new CM(new ST(c),s,u)}var DM=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_M);function OM(e,t,n){return new IM({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var RM=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new eA(e.path,new KI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_M),LM=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=OM(this,e,!0),n=this.pa.map((function(e){return UM(e,t)})),r=new GI(n);return new eA(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_M),MM=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=OM(this,e,!0),n=this.pa.map((function(e){return UM(e,t)})),r=new YI(n);return new eA(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_M),FM=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ia=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new XI(e.serializer,UI(e.serializer,this.Ia));return new eA(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_M);function jM(e,t,n,r){var i=e.ya(1,t,n);WM("Data must be an object, but it was:",i,r);var a=[],o=ST.empty();VS(r,(function(e,r){var s=GM(t,e,n);r=gh(r);var u=i.da(s);if(r instanceof DM)a.push(s);else{var c=UM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new GS(a);return new SM(o,s,i.fieldTransforms)}function VM(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[HM(t,r,n)],u=[i];if(a.length%2!=0)throw new hC(fC.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(HM(t,a[c])),u.push(a[c+1]);for(var l=[],f=ST.empty(),h=s.length-1;h>=0;--h)if(!YM(l,s[h])){var d=s[h],p=u[h];p=gh(p);var v=o.da(d);if(p instanceof DM)l.push(d);else{var m=UM(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new GS(l);return new SM(f,g,o.fieldTransforms)}function BM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return UM(n,e.ya(r?4:3,t))}function UM(e,t){if(zM(e=gh(e)))return WM("Unsupported field value:",t,e),qM(e,t);if(e instanceof _M)return function(e,t){if(!TM(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=UM(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gh(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return UI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=TC.fromDate(e);return{timestampValue:GA(t.serializer,n)}}if(e instanceof TC){var r=new TC(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:GA(t.serializer,r)}}if(e instanceof xM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bM)return{bytesValue:QA(t.serializer,e._byteString)};if(e instanceof tM){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(YL(e)))}(e,t)}function qM(e,t){var n={};return BS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):VS(e,(function(e,r){var i=UM(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof TC||e instanceof xM||e instanceof bM||e instanceof tM||e instanceof _M)}function WM(e,t,n){if(!zM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=YL(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function HM(e,t,n){if((t=gh(t))instanceof kM)return t._internalPath;if("string"==typeof t)return GM(e,t);throw QM("Field path arguments must be of type string or ",e,!1,void 0,n)}var KM=new RegExp("[~\\*/\\[\\]]");function GM(e,t,n){if(t.search(KM)>=0)throw QM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(kM,f(t.split(".")))._internalPath}catch(r){throw QM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function QM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new hC(fC.INVALID_ARGUMENT,s+e+u)}function YM(e,t){return e.some((function(e){return e.isEqual(t)}))}var ZM=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new tM(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($M("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XM=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return qc(w(n.prototype),"data",this).call(this)}}]),n}(ZM);function $M(e,t){return"string"==typeof t?GM(e,t):t instanceof kM?t._internalPath:t._delegate._internalPath}function JM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hC(fC.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eF=m((function e(){h(this,e)})),tF=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(eF);function nF(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof eF&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof iF})).length,n=e.filter((function(e){return e instanceof rF})).length;if(t>1||t>0&&n>0)throw new hC(fC.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var rF=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return mF(e._query,t),new nM(e.firestore,e.converter,mI(e._query,t))}},{key:"_parse",value:function(e){var t=NM(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new hC(fC.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){vF(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(pF(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=pF(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vF(o,a),s=BM(n,"where",o,"in"===a||"not-in"===a);return LT.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tF);var iF=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:MT.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;mF(r,a),r=mI(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new nM(e.firestore,e.converter,mI(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(eF);var aF=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hC(fC.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hC(fC.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new DT(t,n);return function(e,t){if(null===fI(e)){var n=hI(e);null!==n&&gF(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new nM(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tF);var oF=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new nM(e.firestore,e.converter,gI(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tF);var sF=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=dF(e,this.type,this._docOrFields,this._inclusive);return new nM(e.firestore,e.converter,function(e,t){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tF);function uF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sF._create("startAt",t,!0)}function cF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sF._create("startAfter",t,!1)}var lF=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=dF(e,this.type,this._docOrFields,this._inclusive);return new nM(e.firestore,e.converter,function(e,t){return new sI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(tF);function fF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lF._create("endBefore",t,!1)}function hF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lF._create("endAt",t,!0)}function dF(e,t,n,r){if(n[0]=gh(n[0]),n[0]instanceof ZM)return function(e,t,n,r,i){if(!r)throw new hC(fC.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=C(pI(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(pT(t,r.key));else{var c=r.data.field(u.field);if(eT(c))throw new hC(fC.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new hC(fC.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new AT(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=NM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new hC(fC.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new hC(fC.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dI(e)&&-1!==c.indexOf("/"))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(NC.fromString(c));if(!OC.isDocumentKey(l))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new OC(l);s.push(pT(t,f))}else{var h=BM(n,r,c);s.push(h)}}return new AT(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pF(e,t,n){if("string"==typeof(n=gh(n))){if(""===n)throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(t)&&-1!==n.indexOf("/"))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(NC.fromString(n));if(!OC.isDocumentKey(r))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return pT(e,new OC(r))}if(n instanceof tM)return pT(e,n._key);throw new hC(fC.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(YL(n),"."))}function vF(e,t){if(!Array.isArray(e)||0===e.length)throw new hC(fC.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function mF(e,t){if(t.isInequality()){var n=hI(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=fI(e);null!==i&&gF(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new hC(fC.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hC(fC.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function gF(e,t,n){if(!n.isEqual(t))throw new hC(fC.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yF=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $S(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(JS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw uC()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return VS(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new xM($S(e.latitude),$S(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=tT(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nT(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=XS(e);return new TC(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=NC.fromString(e);cC(kN(n));var r=new iT(n.get(1),n.get(3)),i=new OC(n.popFirst(5));return r.isEqual(t)||aC("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wF(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var bF=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new bM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tM(this.firestore,null,t)}}]),n}(yF);var kF=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_F=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return qc(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new xF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($M("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ZM),xF=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qc(w(n.prototype),"data",this).call(this,e)}}]),n}(_F),EF=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kF(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new xF(n._firestore,n._userDataWriter,r.key,r,new kF(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hC(fC.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new xF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new xF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:CF(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function CF(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uC()}}function SF(e,t){return e instanceof _F&&t instanceof _F?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof EF&&t instanceof EF&&e._firestore===t._firestore&&sM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var TF=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new bM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tM(this.firestore,null,t)}}]),n}(yF);function IF(e){e=ZL(e,tM);var t=ZL(e.firestore,fM),n=hM(t),r=new TF(t);return function(e,t){var n=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function r(){return cf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ff(cf().mark((function e(t,n,r){var i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=lC(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new hC(fC.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=YO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _F(t,r,e._key,n,new kF(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function AF(e){e=ZL(e,nM);var t=ZL(e.firestore,fM),n=hM(t),r=new TF(t);return function(e,t){var n=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function r(){return cf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ff(cf().mark((function e(t,n,r){var i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,CD(t,n,!0);case 3:i=e.sent,a=new vR(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=YO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new EF(t,r,e,n)}))}function NF(e,t,n){e=ZL(e,tM);var r=ZL(e.firestore,fM),i=wF(e.converter,t,n);return RF(r,[PM(NM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nA.none())])}function PF(e,t,n){e=ZL(e,tM);for(var r=ZL(e.firestore,fM),i=NM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return RF(r,[("string"==typeof(t=gh(t))||t instanceof kM?VM(i,"updateDoc",e._key,t,n,o):jM(i,"updateDoc",e._key,t)).toMutation(e._key,nA.exists(!0))])}function DF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=gh(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||cM(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(cM(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof tM)l=ZL(e.firestore,fM),f=cI(e._key.path),c={next:function(t){n[u]&&n[u](LF(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=ZL(e,nM);l=ZL(p.firestore,fM),f=p._query;var v=new TF(l);c={next:function(e){n[u]&&n[u](new EF(l,v,p,e))},error:n[u+1],complete:n[u+2]},JM(e._query)}return function(e,t,n,r){var i=new bL(r),a=new uR(t,i,n);return e.asyncQueue.enqueueAndForget(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tR,t.next=3,VL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rR,t.next=3,VL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hM(l),f,h,c)}function OF(e,t){return function(e,t){var n=new bL(t);return e.asyncQueue.enqueueAndForget(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lC(e).ku.add(t),t.next()},t.next=3,VL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lC(e).ku.delete(t)},t.next=3,VL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hM(e=ZL(e,fM)),cM(t)?t:{next:t})}function RF(e,t){return function(e,t){var n=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function r(){return cf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=CR,r.next=3,FL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(hM(e),t)}function LF(e,t,n){var r=n.docs.get(t._key),i=new TF(e);return new _F(e,i,t._key,r,new kF(n.hasPendingWrites,n.fromCache),t.converter)}var MF={maxAttempts:5},FF=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=NM(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jF(e,this._firestore),i=wF(r.converter,t,n),a=PM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nA.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jF(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=gh(t))||t instanceof kM?VM(this._dataReader,"WriteBatch.update",i._key,t,n,o):jM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nA.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jF(e,this._firestore);return this._mutations=this._mutations.concat(new gA(t._key,nA.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new hC(fC.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jF(e,t){if((e=gh(e)).firestore!==t)throw new hC(fC.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var VF=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=jF(e,this._firestore),i=new TF(this._firestore);return qc(w(n.prototype),"get",this).call(this,e).then((function(e){return new _F(t._firestore,i,r._key,e._document,new kF(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=NM(t)}return m(e,[{key:"get",value:function(e){var t=this,n=jF(e,this._firestore),r=new bF(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return uC();var i=e[0];if(i.isFoundDocument())return new ZM(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ZM(t._firestore,r,n._key,null,n.converter);throw uC()}))}},{key:"set",value:function(e,t,n){var r=jF(e,this._firestore),i=wF(r.converter,t,n),a=PM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jF(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=gh(t))||t instanceof kM?VM(this._dataReader,"Transaction.update",i._key,t,n,o):jM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jF(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function BF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LM("arrayUnion",t)}function UF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){tC=e}(hd),ad(new yh("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new fM(new gC(e.getProvider("auth-internal")),new kC(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hC(fC.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iT(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),yd(JE,"3.12.0",e),yd(JE,"3.12.0","esm2017")}();function qF(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hC("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function zF(){if("undefined"===typeof Uint8Array)throw new hC("unimplemented","Uint8Arrays are not available in this environment.")}function WF(){if("undefined"==typeof atob)throw new hC("unimplemented","Blobs are unavailable in Firestore in this environment.")}var HF=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return WF(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return zF(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return WF(),new e(bM.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return zF(),new e(bM.fromUint8Array(t))}}]),e}();function KF(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var GF=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wM(e=ZL(e,fM));var n=hM(e);if(n._uninitializedComponentsProvider)throw new hC(fC.FAILED_PRECONDITION,"SDK cache is already specified.");oC("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new yL;return pM(n,i,new mL(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wM(e=ZL(e,fM));var t=hM(e);if(t._uninitializedComponentsProvider)throw new hC(fC.FAILED_PRECONDITION,"SDK cache is already specified.");oC("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new yL;return pM(t,r,new gL(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new hC(fC.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new dC;return e._queue.enqueueAndForgetEvenWhileRestricted(ff(cf().mark((function n(){return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YC.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,YC.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lD(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QF=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof iT||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||oC("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eM(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return vM(this._delegate)}},{key:"disableNetwork",value:function(){return mM(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&KL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function n(){return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=MR,n.next=3,FL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(hM(ZL(this._delegate,fM)))}},{key:"onSnapshotsInSync",value:function(e){return OF(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new hC("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new uj(this,iM(this._delegate,e))}catch($Y){throw ej($Y,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new JF(this,aM(this._delegate,e))}catch($Y){throw ej($Y,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aj(this,function(e,t){if(e=ZL(e,JL),HL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hC(fC.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new nM(e,null,function(e){return new sI(NC.emptyPath(),e)}(t))}(this._delegate,e))}catch($Y){throw ej($Y,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=ZL(e,fM);var r=Object.assign(Object.assign({},MF),n);return function(e){if(e.maxAttempts<1)throw new hC(fC.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new dC;return e.asyncQueue.enqueueAndForget(ff(cf().mark((function i(){var a;return cf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jL(e);case 2:a=i.sent,new xL(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(hM(e),(function(n){return t(new VF(e,n))}),r)}(this._delegate,(function(n){return e(new ZF(t,n))}))}},{key:"batch",value:function(){var e=this;return hM(this._delegate),new XF(new FF(this._delegate,(function(t){return RF(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return gM(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return yM(this._delegate,e).then((function(e){return e?new aj(t,e):null}))}}]),e}(),YF=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new HF(new bM(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return JF.forKey(t,this.firestore,null)}}]),n}(yF);var ZF=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YF(t)}return m(e,[{key:"get",value:function(e){var t=this,n=cj(e);return this._delegate.get(n).then((function(e){return new rj(t._firestore,new _F(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cj(e);return n?(qF("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=cj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cj(e);return this._delegate.delete(t),this}}]),e}(),XF=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=cj(e);return n?(qF("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=cj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cj(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$F=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new xF(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ij(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YF(t),n),i.set(n,a)),a}}]),e}();$F.INSTANCES=new WeakMap;var JF=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YF(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new uj(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new uj(this.firestore,iM(this._delegate,e))}catch($Y){throw ej($Y,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gh(e))instanceof tM&&oM(this._delegate,e)}},{key:"set",value:function(e,t){t=qF("DocumentReference.set",t);try{return t?NF(this._delegate,e,t):NF(this._delegate,e)}catch($Y){throw ej($Y,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?PF(this._delegate,e):PF.apply(void 0,[this._delegate,e,t].concat(r))}catch($Y){throw ej($Y,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return RF(ZL((e=this._delegate).firestore,fM),[new gA(e._key,nA.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tj(n),a=nj(n,(function(t){return new rj(e.firestore,new _F(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return DF(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?IF(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ZL(e,tM);var t=ZL(e.firestore,fM);return UL(hM(t),e._key,{source:"server"}).then((function(n){return LF(t,e,n)}))}(this._delegate):function(e){e=ZL(e,tM);var t=ZL(e.firestore,fM);return UL(hM(t),e._key).then((function(n){return LF(t,e,n)}))}(this._delegate)).then((function(e){return new rj(t.firestore,new _F(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($F.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new hC("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new tM(n._delegate,r,new OC(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new tM(n._delegate,r,t))}}]),e}();function ej(e,t,n){return e.message=e.message.replace(t,n),e}function tj(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!KF(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nj(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=KF(e[0])?e[0]:KF(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new JF(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return SF(this._delegate,e._delegate)}}]),e}(),ij=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||uC(),t}}]),n}(rj),aj=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YF(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nF(this._delegate,function(e,t,n){var r=t,i=$M("where",e);return rF._create(i,r,n)}(t,n,r)))}catch($Y){throw ej($Y,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nF(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$M("orderBy",e);return aF._create(n,t)}(t,n)))}catch($Y){throw ej($Y,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nF(this._delegate,(XL("limit",n=t),oF._create("limit",n,"F"))))}catch($Y){throw ej($Y,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nF(this._delegate,(XL("limitToLast",n=t),oF._create("limitToLast",n,"L"))))}catch($Y){throw ej($Y,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,nF(this._delegate,uF.apply(void 0,arguments)))}catch($Y){throw ej($Y,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nF(this._delegate,cF.apply(void 0,arguments)))}catch($Y){throw ej($Y,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nF(this._delegate,fF.apply(void 0,arguments)))}catch($Y){throw ej($Y,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nF(this._delegate,hF.apply(void 0,arguments)))}catch($Y){throw ej($Y,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sM(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?AF(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ZL(e,nM);var t=ZL(e.firestore,fM),n=hM(t),r=new TF(t);return qL(n,e._query,{source:"server"}).then((function(n){return new EF(t,r,e,n)}))}(this._delegate):function(e){e=ZL(e,nM);var t=ZL(e.firestore,fM),n=hM(t),r=new TF(t);return JM(e._query),qL(n,e._query).then((function(n){return new EF(t,r,e,n)}))}(this._delegate)).then((function(e){return new sj(t.firestore,new EF(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tj(n),a=nj(n,(function(t){return new sj(e.firestore,new EF(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return DF(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($F.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ij(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new aj(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ij(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oj(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ij(n._firestore,r))}))}},{key:"isEqual",value:function(e){return SF(this._delegate,e._delegate)}}]),e}(),uj=function(e){y(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new JF(this.firestore,e):null}},{key:"doc",value:function(e){try{return new JF(this.firestore,void 0===e?aM(this._delegate):aM(this._delegate,e))}catch($Y){throw ej($Y,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ZL(e.firestore,fM),r=aM(e),i=wF(e.converter,t);return RF(n,[PM(NM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nA.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new JF(t.firestore,e)}))}},{key:"isEqual",value:function(e){return oM(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($F.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aj);function cj(e){return ZL(e,tM)}var lj=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(kM,n)}return m(e,[{key:"isEqual",value:function(e){return(e=gh(e))instanceof kM&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(DC.keyField().canonicalString())}}]),e}(),fj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new RM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new DM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=BF.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=UF.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new FM("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hj={Firestore:QF,GeoPoint:xM,Timestamp:TC,Blob:HF,Transaction:ZF,WriteBatch:XF,DocumentReference:JF,DocumentSnapshot:rj,Query:aj,QueryDocumentSnapshot:ij,QuerySnapshot:sj,CollectionReference:uj,FieldPath:lj,FieldValue:fj,setLogLevel:function(e){var t;t=e,nC.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new yh("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hj)))}(e,(function(e,t){return new QF(e,t,new GF)})),e.registerVersion("@firebase/firestore-compat","0.3.9")}(mb);var dj,pj,vj=function(e,t){return t.some((function(t){return e instanceof t}))};var mj=new WeakMap,gj=new WeakMap,yj=new WeakMap,wj=new WeakMap,bj=new WeakMap;var kj={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gj.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yj.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ej(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function _j(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pj||(pj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Cj(this),n),Ej(mj.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ej(e.apply(Cj(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Cj(this),t].concat(r));return yj.set(a,t.sort?t.sort():[t]),Ej(a)}}function xj(e){return"function"===typeof e?_j(e):(e instanceof IDBTransaction&&function(e){if(!gj.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));gj.set(e,t)}}(e),vj(e,dj||(dj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,kj):e)}function Ej(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ej(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mj.set(t,e)})).catch((function(){})),bj.set(t,e),t}(e);if(wj.has(e))return wj.get(e);var t=xj(e);return t!==e&&(wj.set(e,t),bj.set(t,e)),t}var Cj=function(e){return bj.get(e)};var Sj,Tj=["get","getKey","getAll","getAllKeys","count"],Ij=["put","add","delete","clear"],Aj=new Map;function Nj(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Aj.get(t))return Aj.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ij.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Tj.includes(n))){var a=function(){var e=ff(cf().mark((function e(t){var a,o,s,u,c,l,f=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Aj.set(t,a),a}}}!function(e){kj=e(kj)}((function(e){return Ye(Ye({},e),{},{get:function(t,n,r){return Nj(t,n)||e.get(t,n,r)},has:function(t,n){return!!Nj(t,n)||e.has(t,n)}})}));var Pj="@firebase/installations",Dj="0.6.4",Oj=1e4,Rj="w:".concat(Dj),Lj="FIS_v2",Mj="https://firebaseinstallations.googleapis.com/v1",Fj=36e5,jj=(Ge(Sj={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Ge(Sj,"not-registered","Firebase Installation is not registered."),Ge(Sj,"installation-not-found","Firebase Installation not found."),Ge(Sj,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Ge(Sj,"app-offline","Could not process request. Application offline."),Ge(Sj,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Sj),Vj=new zf("installations","Installations",jj);function Bj(e){return e instanceof qf&&e.code.includes("request-failed")}function Uj(e){var t=e.projectId;return"".concat(Mj,"/projects/").concat(t,"/installations")}function qj(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function zj(e,t){return Wj.apply(this,arguments)}function Wj(){return(Wj=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Vj.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hj(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Kj(e,t){var n=t.refreshToken,r=Hj(e);return r.append("Authorization",function(e){return"".concat(Lj," ").concat(e)}(n)),r}function Gj(e){return Qj.apply(this,arguments)}function Qj(){return Qj=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Qj.apply(this,arguments)}function Yj(e,t){return Zj.apply(this,arguments)}function Zj(){return(Zj=ff(cf().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Uj(r),s=Hj(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Lj,appId:r.appId,sdkVersion:Rj},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,Gj((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:qj(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,zj("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xj(e){return new Promise((function(t){setTimeout(t,e)}))}var $j=/^[cdef][\w-]{21}$/,Jj="";function eV(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,f(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return $j.test(t)?t:Jj}catch(oL){return Jj}}function tV(e){return"".concat(e.appName,"!").concat(e.appId)}var nV=new Map;function rV(e,t){var n=tV(e);iV(n,t),function(e,t){var n=oV();n&&n.postMessage({key:e,fid:t});sV()}(n,t)}function iV(e,t){var n=nV.get(e);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var aV=null;function oV(){return!aV&&"BroadcastChannel"in self&&((aV=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){iV(e.data.key,e.data.fid)}),aV}function sV(){0===nV.size&&aV&&(aV.close(),aV=null)}var uV="firebase-installations-database",cV=1,lV="firebase-installations-store",fV=null;function hV(){return fV||(fV=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ej(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ej(s.result),e.oldVersion,e.newVersion,Ej(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(uV,cV,{upgrade:function(e,t){if(0===t)e.createObjectStore(lV)}})),fV}function dV(e,t){return pV.apply(this,arguments)}function pV(){return pV=ff(cf().mark((function e(t,n){var r,i,a,o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tV(t),e.next=3,hV();case 3:return i=e.sent,a=i.transaction(lV,"readwrite"),o=a.objectStore(lV),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||rV(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),pV.apply(this,arguments)}function vV(e){return mV.apply(this,arguments)}function mV(){return mV=ff(cf().mark((function e(t){var n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tV(t),e.next=3,hV();case 3:return r=e.sent,i=r.transaction(lV,"readwrite"),e.next=7,i.objectStore(lV).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),mV.apply(this,arguments)}function gV(e,t){return yV.apply(this,arguments)}function yV(){return yV=ff(cf().mark((function e(t,n){var r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tV(t),e.next=3,hV();case 3:return i=e.sent,a=i.transaction(lV,"readwrite"),o=a.objectStore(lV),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||rV(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),yV.apply(this,arguments)}function wV(e){return bV.apply(this,arguments)}function bV(){return(bV=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gV(t.appConfig,(function(e){var r=kV(e),i=_V(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Jj){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kV(e){return TV(e||{fid:eV(),registrationStatus:0})}function _V(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Vj.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return xV.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:EV(e)}:{installationEntry:t}}function xV(){return(xV=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yj(t,n);case 3:return r=e.sent,e.abrupt("return",dV(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Bj(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,vV(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,dV(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function EV(e){return CV.apply(this,arguments)}function CV(){return(CV=ff(cf().mark((function e(t){var n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SV(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Xj(100);case 6:return e.next=8,SV(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,wV(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SV(e){return gV(e,(function(e){if(!e)throw Vj.create("installation-not-found");return TV(e)}))}function TV(e){return 1===(t=e).registrationStatus&&t.registrationTime+Oj<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function IV(e,t){return AV.apply(this,arguments)}function AV(){return(AV=ff(cf().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=NV(r,n),o=Kj(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:Rj,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Gj((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=qj(h),e.abrupt("return",d);case 22:return e.next=24,zj("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NV(e,t){var n=t.fid;return"".concat(Uj(e),"/").concat(n,"/authTokens:generate")}function PV(e){return DV.apply(this,arguments)}function DV(){return DV=ff(cf().mark((function e(t){var n,r,i,a,o=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,gV(t.appConfig,(function(e){if(!jV(e))throw Vj.create("not-registered");var i=e.authToken;if(!n&&VV(i))return e;if(1===i.requestStatus)return r=OV(t,n),e;if(!navigator.onLine)throw Vj.create("app-offline");var a=BV(e);return r=MV(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),DV.apply(this,arguments)}function OV(e,t){return RV.apply(this,arguments)}function RV(){return(RV=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LV(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Xj(100);case 6:return e.next=8,LV(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",PV(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LV(e){return gV(e,(function(e){if(!jV(e))throw Vj.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Oj<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function MV(e,t){return FV.apply(this,arguments)}function FV(){return(FV=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IV(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,dV(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Bj(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,vV(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,dV(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function jV(e){return void 0!==e&&2===e.registrationStatus}function VV(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Fj}(e)}function BV(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function UV(){return(UV=ff(cf().mark((function e(t){var n,r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,wV(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):PV(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qV(){return qV=ff(cf().mark((function e(t){var n,r,i,a=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,zV(r);case 4:return e.next=6,PV(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),qV.apply(this,arguments)}function zV(e){return WV.apply(this,arguments)}function WV(){return(WV=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wV(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HV(e){return Vj.create("missing-app-config-values",{valueName:e})}var KV,GV="installations",QV=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw HV("App Configuration");if(!e.name)throw HV("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw HV(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:od(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},YV=function(e){var t=od(e.getProvider("app").getImmediate(),GV).getImmediate(),n={getId:function(){return function(e){return UV.apply(this,arguments)}(t)},getToken:function(e){return function(e){return qV.apply(this,arguments)}(t,e)}};return n};ad(new yh(GV,QV,"PUBLIC")),ad(new yh("installations-internal",YV,"PRIVATE")),yd(Pj,Dj),yd(Pj,Dj,"esm2017");var ZV="analytics",XV="firebase_id",$V="origin",JV=6e4,eB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tB="https://www.googletagmanager.com/gtag/js",nB=new Ah("@firebase/analytics"),rB=(Ge(KV={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Ge(KV,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Ge(KV,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Ge(KV,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Ge(KV,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ge(KV,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Ge(KV,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Ge(KV,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Ge(KV,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Ge(KV,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Ge(KV,"no-client-id",'The "client_id" field is empty.'),Ge(KV,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),KV),iB=new zf("analytics","Analytics",rB);function aB(e){if(!e.startsWith(tB)){var t=iB.create("invalid-gtag-resource",{gtagURL:e});return nB.warn(t.message),""}return e}function oB(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function sB(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:aB}),r=document.createElement("script"),i="".concat(tB,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function uB(e,t,n,r,i,a){return cB.apply(this,arguments)}function cB(){return cB=ff(cf().mark((function e(t,n,r,i,a,o){var s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,oB(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),nB.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),cB.apply(this,arguments)}function lB(e,t,n,r,i){return fB.apply(this,arguments)}function fB(){return fB=ff(cf().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,oB(r);case 7:u=e.sent,c=C(s),e.prev=9,f=cf().mark((function e(){var t,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),c.e(e.t1);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),nB.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),fB.apply(this,arguments)}function hB(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=ff(cf().mark((function i(a){var o,s,u,c,l,f,h,d,p,v,m,g,y=arguments;return cf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=y.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=y[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,lB(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],h=s[1],i.next=12,uB(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],m=s[2],e("get",p,v,m)):"set"===a?(g=s[0],e("set",g)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),nB.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function dB(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(tB)&&i.src.includes(e))return i}return null}var pB=30,vB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;h(this,e),this.throttleMetadata=t,this.intervalMillis=n}return m(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),mB=new vB;function gB(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function yB(e){return wB.apply(this,arguments)}function wB(){return wB=ff(cf().mark((function e(t){var n,r,i,a,o,s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:gB(i)},o=eB.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw iB.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),wB.apply(this,arguments)}function bB(e){return kB.apply(this,arguments)}function kB(){return kB=ff(cf().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:mB,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw iB.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw iB.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new IB,setTimeout(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:JV),e.abrupt("return",_B({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),kB.apply(this,arguments)}function _B(e,t,n){return xB.apply(this,arguments)}function xB(){return xB=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:mB,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,EB(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return nB.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,yB(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),CB(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return nB.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?mh(a,o.intervalMillis,pB):mh(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),nB.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",_B(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),xB.apply(this,arguments)}function EB(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(iB.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function CB(e){if(!(e instanceof qf)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var SB,TB,IB=function(){function e(){h(this,e),this.listeners=[]}return m(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function AB(){return AB=ff(cf().mark((function e(t,n,r,i,a){var o,s;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),AB.apply(this,arguments)}function NB(){return NB=ff(cf().mark((function e(t,n,r,i){var a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)}))),NB.apply(this,arguments)}function PB(){return PB=ff(cf().mark((function e(t,n,r,i){var a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),PB.apply(this,arguments)}function DB(){return DB=ff(cf().mark((function e(t,n,r,i){var a,o,s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),DB.apply(this,arguments)}function OB(){return(OB=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RB(e){TB=e}function LB(e){SB=e}function MB(){return FB.apply(this,arguments)}function FB(){return(FB=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vf()){e.next=5;break}return nB.warn(iB.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Bf();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),nB.warn(iB.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function jB(){return jB=ff(cf().mark((function e(t,n,r,i,a,o,s){var u,l,f,h,d,p,v,m;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=bB(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&nB.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return nB.error(e)})),n.push(l),f=MB().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],dB(o)||sB(o,p.measurementId),TB&&(a("consent","default",TB),RB(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[$V]="firebase",m.update=!0,null!=v&&(m[XV]=v),a("config",p.measurementId,m),SB&&(a("set",SB),LB(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),jB.apply(this,arguments)}var VB,BB,UB=function(){function e(t){h(this,e),this.app=t}return m(e,[{key:"_delete",value:function(){return delete qB[this.app.options.appId],Promise.resolve()}}]),e}(),qB={},zB=[],WB={},HB="dataLayer",KB="gtag",GB=!1;function QB(e){if(GB)throw iB.create("already-initialized");e.dataLayerName&&(HB=e.dataLayerName),e.gtagName&&(KB=e.gtagName)}function YB(e,t,n){!function(){var e=[];if(Lf()&&e.push("This is a browser extension environment."),Uf()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=iB.create("invalid-analytics-context",{errorInfo:t});nB.warn(n.message)}}();var r=e.options.appId;if(!r)throw iB.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw iB.create("no-api-key");nB.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=qB[r])throw iB.create("already-exists",{id:r});if(!GB){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(HB);var i=hB(qB,zB,WB,HB,KB),a=i.wrappedGtag,o=i.gtagCore;BB=a,VB=o,GB=!0}return qB[r]=function(e,t,n,r,i,a,o){return jB.apply(this,arguments)}(e,zB,WB,t,VB,HB,n),new UB(e)}function ZB(){return XB.apply(this,arguments)}function XB(){return(XB=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lf()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Uf()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Vf()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Bf();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function $B(e,t,n){e=gh(e),function(e,t,n,r){return NB.apply(this,arguments)}(BB,qB[e.app.options.appId],t,n).catch((function(e){return nB.error(e)}))}function JB(e,t,n){e=gh(e),function(e,t,n,r){return PB.apply(this,arguments)}(BB,qB[e.app.options.appId],t,n).catch((function(e){return nB.error(e)}))}function eU(e,t,n){e=gh(e),function(e,t,n,r){return DB.apply(this,arguments)}(BB,qB[e.app.options.appId],t,n).catch((function(e){return nB.error(e)}))}function tU(e,t){e=gh(e),function(e,t){return OB.apply(this,arguments)}(qB[e.app.options.appId],t).catch((function(e){return nB.error(e)}))}function nU(e,t,n,r){e=gh(e),function(e,t,n,r,i){return AB.apply(this,arguments)}(BB,qB[e.app.options.appId],t,n,r).catch((function(e){return nB.error(e)}))}var rU="@firebase/analytics",iU="0.10.0";ad(new yh(ZV,(function(e,t){var n=t.options;return YB(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ad(new yh("analytics-internal",(function(e){try{var t=e.getProvider(ZV).getImmediate();return{logEvent:function(e,n,r){return nU(t,e,n,r)}}}catch($Y){throw iB.create("interop-component-reg-failed",{reason:$Y})}}),"PRIVATE")),yd(rU,iU),yd(rU,iU,"esm2017");var aU,oU=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n}return m(e,[{key:"logEvent",value:function(e,t,n){nU(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){$B(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){JB(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){eU(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){tU(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(aU||(aU={}));var sU=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new oU(t,n)};!function(){var e={Analytics:oU,settings:QB,isSupported:ZB,EventName:aU};mb.INTERNAL.registerComponent(new yh("analytics-compat",sU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),mb.registerVersion("@firebase/analytics-compat","0.2.6");function uU(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var cU;Object.create;function lU(){return Ge({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fU=lU,hU=new zf("auth","Firebase",lU()),dU=new Ah("@firebase/auth");function pU(e){if(dU.logLevel<=_h.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dU.warn.apply(dU,["Auth (".concat(hd,"): ").concat(e)].concat(n))}}function vU(e){if(dU.logLevel<=_h.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dU.error.apply(dU,["Auth (".concat(hd,"): ").concat(e)].concat(n))}}function mU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw bU.apply(void 0,[e].concat(n))}function gU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bU.apply(void 0,[e].concat(n))}function yU(e,t,n){var r=Object.assign(Object.assign({},fU()),Ge({},t,n));return new zf("auth","Firebase",r).create(t,{appName:e.name})}function wU(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&mU(e,"argument-error"),yU(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function bU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return hU.create.apply(hU,[e].concat(n))}function kU(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw bU.apply(void 0,[t].concat(r))}}function _U(e){var t="INTERNAL ASSERTION FAILED: "+e;throw vU(t),new Error(t)}function xU(e,t){e||_U(t)}function EU(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function CU(){return"http:"===SU()||"https:"===SU()}function SU(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var TU=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,xU(n>t,"Short delay should be less than long delay!"),this.isMobile=Rf()||Mf()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(CU()||Lf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function IU(e,t){xU(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var AU=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),NU=(Ge(cU={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ge(cU,"MISSING_CUSTOM_TOKEN","internal-error"),Ge(cU,"INVALID_IDENTIFIER","invalid-email"),Ge(cU,"MISSING_CONTINUE_URI","internal-error"),Ge(cU,"INVALID_PASSWORD","wrong-password"),Ge(cU,"MISSING_PASSWORD","missing-password"),Ge(cU,"EMAIL_EXISTS","email-already-in-use"),Ge(cU,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ge(cU,"INVALID_IDP_RESPONSE","invalid-credential"),Ge(cU,"INVALID_PENDING_TOKEN","invalid-credential"),Ge(cU,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ge(cU,"MISSING_REQ_TYPE","internal-error"),Ge(cU,"EMAIL_NOT_FOUND","user-not-found"),Ge(cU,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ge(cU,"EXPIRED_OOB_CODE","expired-action-code"),Ge(cU,"INVALID_OOB_CODE","invalid-action-code"),Ge(cU,"MISSING_OOB_CODE","internal-error"),Ge(cU,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ge(cU,"INVALID_ID_TOKEN","invalid-user-token"),Ge(cU,"TOKEN_EXPIRED","user-token-expired"),Ge(cU,"USER_NOT_FOUND","user-token-expired"),Ge(cU,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ge(cU,"INVALID_CODE","invalid-verification-code"),Ge(cU,"INVALID_SESSION_INFO","invalid-verification-id"),Ge(cU,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ge(cU,"MISSING_SESSION_INFO","missing-verification-id"),Ge(cU,"SESSION_EXPIRED","code-expired"),Ge(cU,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ge(cU,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ge(cU,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ge(cU,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ge(cU,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ge(cU,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ge(cU,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ge(cU,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ge(cU,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ge(cU,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ge(cU,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ge(cU,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ge(cU,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ge(cU,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ge(cU,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ge(cU,"MISSING_CLIENT_TYPE","missing-client-type"),Ge(cU,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ge(cU,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ge(cU,"INVALID_REQ_TYPE","invalid-req-type"),cU),PU=new TU(3e4,6e4);function DU(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function OU(e,t,n,r){return RU.apply(this,arguments)}function RU(){return RU=ff(cf().mark((function e(t,n,r,i){var a,o=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",LU(t,a,ff(cf().mark((function e(){var a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=eh(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",AU.fetch()(VU(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),RU.apply(this,arguments)}function LU(e,t,n){return MU.apply(this,arguments)}function MU(){return MU=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},NU),n),e.prev=2,a=new BU(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw UU(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw UU(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw UU(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw UU(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw yU(t,p,d);case 34:mU(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof qf)){e.next=41;break}throw e.t0;case 41:mU(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),MU.apply(this,arguments)}function FU(e,t,n,r){return jU.apply(this,arguments)}function jU(){return jU=ff(cf().mark((function e(t,n,r,i){var a,o,s=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,OU(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&mU(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jU.apply(this,arguments)}function VU(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?IU(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var BU=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(gU(n.auth,"network-request-failed"))}),PU.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function UU(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=gU(e,t,r);return i.customData._tokenResponse=n,i}function qU(e,t){return zU.apply(this,arguments)}function zU(){return zU=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OU(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),zU.apply(this,arguments)}function WU(e,t){return HU.apply(this,arguments)}function HU(){return HU=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OU(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),HU.apply(this,arguments)}function KU(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($Y){}}function GU(){return GU=ff(cf().mark((function e(t){var n,r,i,a,o,s,u=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=gh(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,kU((a=YU(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:KU(QU(a.auth_time)),issuedAtTime:KU(QU(a.iat)),expirationTime:KU(QU(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),GU.apply(this,arguments)}function QU(e){return 1e3*Number(e)}function YU(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return vU("JWT malformed, contained fewer than 3 sections"),null;try{var a=_f(r);return a?JSON.parse(a):(vU("Failed to decode base64 JWT payload"),null)}catch($Y){return vU("Caught error parsing JWT payload as JSON",null===$Y||void 0===$Y?void 0:$Y.toString()),null}}function ZU(e,t){return XU.apply(this,arguments)}function XU(){return XU=ff(cf().mark((function e(t,n){var r=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof qf&&$U(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),XU.apply(this,arguments)}function $U(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var JU=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),eq=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=KU(this.lastLoginAt),this.creationTime=KU(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function tq(e){return nq.apply(this,arguments)}function nq(){return nq=ff(cf().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ZU(t,WU(r,{idToken:i}));case 6:kU(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=uU(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=iq(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eq(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),nq.apply(this,arguments)}function rq(){return(rq=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gh(t),e.next=3,tq(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iq(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function aq(e,t){return oq.apply(this,arguments)}function oq(){return oq=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LU(t,{},ff(cf().mark((function e(){var r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eh({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=VU(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",AU.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),oq.apply(this,arguments)}var sq=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){kU(e.idToken,"internal-error"),kU("undefined"!==typeof e.idToken,"internal-error"),kU("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=YU(e);return kU(t,"internal-error"),kU("undefined"!==typeof t.exp,"internal-error"),kU("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ff(cf().mark((function e(t){var n,r=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],kU(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aq(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return _U("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(kU("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(kU("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(kU("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function uq(e,t){kU("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cq=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=uU(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new eq(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZU(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(kU(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return GU.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return rq.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(kU(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){kU(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ff(cf().mark((function e(t){var n,r,i=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,tq(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ZU(this,qU(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,b=n.emailVerified,k=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;kU(w&&x,t,"internal-error");var E=sq.fromJSON(this.name,x);kU("string"===typeof w,t,"internal-error"),uq(f,t.name),uq(h,t.name),kU("boolean"===typeof b,t,"internal-error"),kU("boolean"===typeof k,t,"internal-error"),uq(d,t.name),uq(p,t.name),uq(v,t.name),uq(m,t.name),uq(g,t.name),uq(y,t.name);var C=new e({uid:w,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(C.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=ff(cf().mark((function t(n,r){var i,a,o,s=arguments;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new sq).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,tq(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),lq=new Map;function fq(e){xU(e instanceof Function,"Expected a class definition");var t=lq.get(e);return t?(xU(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,lq.set(e,t),t)}var hq=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();hq.type="NONE";var dq=hq;function pq(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vq=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pq(this.userKey,a.apiKey,o),this.fullPersistenceKey=pq("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cq._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ff(cf().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(fq(dq),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||fq(dq),s=pq(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=cq._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function mq(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bq(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gq(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_q(t))return"Blackberry";if(xq(t))return"Webos";if(yq(t))return"Safari";if((t.includes("chrome/")||wq(t))&&!t.includes("edge/"))return"Chrome";if(kq(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function gq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/firefox\//i.test(e)}function yq(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/crios\//i.test(e)}function bq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/iemobile/i.test(e)}function kq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/android/i.test(e)}function _q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/blackberry/i.test(e)}function xq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/webos/i.test(e)}function Eq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cq(){return function(){var e=Of();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Sq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of();return Eq(e)||kq(e)||xq(e)||_q(e)||/windows phone/i.test(e)||bq(e)}function Tq(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mq(Of());break;case"Worker":t="".concat(mq(Of()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(hd,"/").concat(r)}function Iq(e,t){return Aq.apply(this,arguments)}function Aq(){return Aq=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OU(t,"GET","/v2/recaptchaConfig",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aq.apply(this,arguments)}function Nq(e){return void 0!==e&&void 0!==e.enterprise}var Pq=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Dq(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=gU("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Oq(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Rq=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=Vq(t)}return m(e,[{key:"verify",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Nq(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ff(cf().mark((function e(n,r){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iq(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Pq(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Nq(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Dq("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lq(e,t,n){return Mq.apply(this,arguments)}function Mq(){return Mq=ff(cf().mark((function e(t,n,r){var i,a,o,s,u=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Rq(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Mq.apply(this,arguments)}var Fq=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch($Y){r($Y)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ff(cf().mark((function e(t){var n,r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),jq=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bq(this),this.idTokenSubscription=new Bq(this),this.beforeStateQueue=new Fq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=fq(t)),this._initializationPromise=this.queue(ff(cf().mark((function r(){var i,a;return cf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vq.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ff(cf().mark((function e(t){var n,r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return kU(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tq(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gh(t):null)&&kU(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ff(cf().mark((function e(t){var n,r=this,i=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&kU(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ff(cf().mark((function n(){return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(fq(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iq(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Pq(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Rq(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new zf("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return kU(n=t&&fq(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vq.create(this,[fq(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ff(cf().mark((function e(t){var n=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return kU(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return kU(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tq(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&pU("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vq(e){return gh(e)}var Bq=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=ih((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return kU(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Uq(e,t,n){var r=Vq(e);kU(r._canInitEmulator,r,"emulator-config-failed"),kU(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=qq(t),o=function(e){var t=qq(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:zq(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:zq(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qq(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zq(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Wq=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return _U("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return _U("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return _U("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return _U("not implemented")}}]),e}();function Hq(e,t){return Kq.apply(this,arguments)}function Kq(){return Kq=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OU(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Kq.apply(this,arguments)}function Gq(e,t){return Qq.apply(this,arguments)}function Qq(){return Qq=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithPassword",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qq.apply(this,arguments)}function Yq(e,t){return Zq.apply(this,arguments)}function Zq(){return Zq=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithEmailLink",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zq.apply(this,arguments)}function Xq(e,t){return $q.apply(this,arguments)}function $q(){return $q=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithEmailLink",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),$q.apply(this,arguments)}var Jq=function(e){y(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ff(cf().mark((function e(t){var n,r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Lq(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Gq(t,i));case 11:return e.abrupt("return",Gq(t,r).catch(function(){var e=ff(cf().mark((function e(n){var i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Lq(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Gq(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Yq(t,{email:this._email,oobCode:this._password}));case 13:mU(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hq(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xq(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:mU(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Wq);function ez(e,t){return tz.apply(this,arguments)}function tz(){return tz=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithIdp",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),tz.apply(this,arguments)}var nz=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ez(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ez(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ez(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eh(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mU("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=uU(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Wq);function rz(e,t){return iz.apply(this,arguments)}function iz(){return iz=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OU(t,"POST","/v1/accounts:sendVerificationCode",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),iz.apply(this,arguments)}function az(){return az=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithPhoneNumber",DU(t,n)));case 1:case"end":return e.stop()}}),e)}))),az.apply(this,arguments)}function oz(){return oz=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FU(t,"POST","/v1/accounts:signInWithPhoneNumber",DU(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw UU(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),oz.apply(this,arguments)}var sz=Ge({},"USER_NOT_FOUND","user-not-found");function uz(){return uz=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",FU(t,"POST","/v1/accounts:signInWithPhoneNumber",DU(t,r),sz));case 2:case"end":return e.stop()}}),e)}))),uz.apply(this,arguments)}var cz=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return az.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return oz.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return uz.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Wq);var lz=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=th(nh(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);kU(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=th(nh(e)).link,n=t?th(nh(t)).deep_link_id:null,r=th(nh(e)).deep_link_id;return(r?th(nh(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(oL){return null}}}]),e}();var fz=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return Jq._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=lz.parseLink(t);return kU(n,"argument-error"),Jq._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();fz.PROVIDER_ID="password",fz.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fz.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var hz=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),dz=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(hz),pz=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return nz._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oL){return null}}}]),n}(dz);pz.FACEBOOK_SIGN_IN_METHOD="facebook.com",pz.PROVIDER_ID="facebook.com";var vz=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return nz._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(oL){return null}}}]),n}(dz);vz.GOOGLE_SIGN_IN_METHOD="google.com",vz.PROVIDER_ID="google.com";var mz=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return nz._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oL){return null}}}]),n}(dz);mz.GITHUB_SIGN_IN_METHOD="github.com",mz.PROVIDER_ID="github.com";var gz=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return nz._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(oL){return null}}}]),n}(dz);gz.TWITTER_SIGN_IN_METHOD="twitter.com",gz.PROVIDER_ID="twitter.com";var yz=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ff(cf().mark((function t(n,r,i){var a,o,s,u,c=arguments;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,cq._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=wz(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ff(cf().mark((function t(n,r,i){var a;return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=wz(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function wz(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var bz=function(e){y(n,e);var t=_(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(qf);function kz(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bz._fromErrorAndOperation(e,n,t,r);throw n}))}function _z(e,t){return xz.apply(this,arguments)}function xz(){return xz=ff(cf().mark((function e(t,n){var r,i,a=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ZU,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yz._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),xz.apply(this,arguments)}function Ez(e,t){return Cz.apply(this,arguments)}function Cz(){return Cz=ff(cf().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ZU(t,kz(i,a,n,t),r);case 6:return kU((o=e.sent).idToken,i,"internal-error"),kU(s=YU(o.idToken),i,"internal-error"),u=s.sub,kU(t.uid===u,i,"user-mismatch"),e.abrupt("return",yz._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&mU(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Cz.apply(this,arguments)}function Sz(e,t){return Tz.apply(this,arguments)}function Tz(){return Tz=ff(cf().mark((function e(t,n){var r,i,a,o,s=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,kz(t,i,n);case 4:return a=e.sent,e.next=7,yz._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Tz.apply(this,arguments)}function Iz(e,t){return Az.apply(this,arguments)}function Az(){return Az=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sz(Vq(t),n));case 1:case"end":return e.stop()}}),e)}))),Az.apply(this,arguments)}function Nz(e,t){return OU(e,"POST","/v2/accounts/mfaEnrollment:start",DU(e,t))}function Pz(e,t){return OU(e,"POST","/v2/accounts/mfaEnrollment:start",DU(e,t))}function Dz(e,t){return OU(e,"POST","/v2/accounts/mfaEnrollment:finalize",DU(e,t))}new WeakMap;var Oz="__sak",Rz=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Oz,"1"),this.storage.removeItem(Oz),Promise.resolve(!0)):Promise.resolve(!1)}catch(oL){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Lz=function(e){y(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Of();return yq(e)||Eq(e)}()&&function(){try{return!(!window||window===window.top)}catch($Y){return!1}}(),e.fallbackToPolling=Sq(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Cq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ff(cf().mark((function e(t,r){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ff(cf().mark((function e(t){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Rz);Lz.type="LOCAL";var Mz=Lz,Fz=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Rz);Fz.type="SESSION";var jz=Fz;function Vz(e){return Promise.all(e.map(function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Bz=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ff(cf().mark((function e(t){var n,r,i,a,o,s,u,c;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Vz(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Uz(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bz.receivers=[];var qz=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Uz("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function zz(){return window}function Wz(e){zz().location.href=e}function Hz(){return"undefined"!==typeof zz().WorkerGlobalScope&&"function"===typeof zz().importScripts}function Kz(){return Gz.apply(this,arguments)}function Gz(){return(Gz=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qz(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Yz="firebaseLocalStorageDb",Zz="firebaseLocalStorage",Xz="fbase_key",$z=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Jz(e,t){return e.transaction([Zz],t?"readwrite":"readonly").objectStore(Zz)}function eW(){var e=indexedDB.deleteDatabase(Yz);return new $z(e).toPromise()}function tW(){var e=indexedDB.open(Yz,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zz,{keyPath:Xz})}catch($Y){n($Y)}})),e.addEventListener("success",ff(cf().mark((function n(){var r;return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zz)){n.next=12;break}return r.close(),n.next=5,eW();case 5:return n.t0=t,n.next=8,tW();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function nW(e,t,n){return rW.apply(this,arguments)}function rW(){return rW=ff(cf().mark((function e(t,n,r){var i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jz(t,!0).put((Ge(i={},Xz,n),Ge(i,"value",r),i)),e.abrupt("return",new $z(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rW.apply(this,arguments)}function iW(e,t){return aW.apply(this,arguments)}function aW(){return aW=ff(cf().mark((function e(t,n){var r,i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jz(t,!1).get(n),e.next=3,new $z(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),aW.apply(this,arguments)}function oW(e,t){var n=Jz(e,!0).delete(t);return new $z(n).toPromise()}var sW=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tW();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hz()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ff(cf().mark((function e(){var t=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Bz._getInstance(Hz()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ff(cf().mark((function e(n,r){var i;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ff(cf().mark((function e(t,n){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ff(cf().mark((function e(){var t,n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kz();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qz(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qz()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tW();case 5:return t=e.sent,e.next=8,nW(t,Oz,"1");case 8:return e.next=10,oW(t,Oz);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ff(cf().mark((function e(t){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ff(cf().mark((function e(t,n){var r=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return nW(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return iW(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ff(cf().mark((function e(t){var n=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return oW(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ff(cf().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Jz(e,!1).getAll();return new $z(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ff(cf().mark((function t(){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sW.type="LOCAL";var uW=sW;function cW(e,t){return OU(e,"POST","/v2/accounts/mfaSignIn:start",DU(e,t))}function lW(e,t){return OU(e,"POST","/v2/accounts/mfaSignIn:finalize",DU(e,t))}Oq("rcb"),new TU(3e4,6e4);var fW="recaptcha";function hW(e,t,n){return dW.apply(this,arguments)}function dW(){return dW=ff(cf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,kU("string"===typeof a,t,"argument-error"),kU(r.type===fW,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return kU("enroll"===s.type,t,"internal-error"),e.next=13,Nz(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return kU("signin"===s.type,t,"internal-error"),kU(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cW(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,rz(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),dW.apply(this,arguments)}var pW=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=Vq(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return hW(this.auth,e,gh(t))}}],[{key:"credential",value:function(e,t){return cz._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?cz._fromTokenResponse(n,r):null}}]),e}();function vW(e,t){return t?fq(t):(kU(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pW.PROVIDER_ID="phone",pW.PHONE_SIGN_IN_METHOD="phone";var mW=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return ez(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ez(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ez(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Wq);function gW(e){return Sz(e.auth,new mW(e),e.bypassAuthState)}function yW(e){var t=e.auth,n=e.user;return kU(n,t,"internal-error"),Ez(n,new mW(e),e.bypassAuthState)}function wW(e){return bW.apply(this,arguments)}function bW(){return bW=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,kU(r=t.user,n,"internal-error"),e.abrupt("return",_z(r,new mW(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),bW.apply(this,arguments)}var kW=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ff(cf().mark((function t(n,r){return cf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ff(cf().mark((function e(t){var n,r,i,a,o,s,u;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gW;case"linkViaPopup":case"linkViaRedirect":return wW;case"reauthViaPopup":case"reauthViaRedirect":return yW;default:mU(this.auth,"internal-error")}}},{key:"resolve",value:function(e){xU(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){xU(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),_W=new TU(2e3,1e4);function xW(){return xW=ff(cf().mark((function e(t,n,r){var i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vq(t),wU(t,n,hz),a=vW(i,r),o=new EW(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xW.apply(this,arguments)}var EW=function(e){y(n,e);var t=_(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(s),s}return m(n,[{key:"executeNotNull",value:function(){var e=ff(cf().mark((function e(){var t;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return kU(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ff(cf().mark((function e(){var t,n=this;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xU(1===this.filter.length,"Popup operations only handle one event"),t=Uz(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(gU(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(gU(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(gU(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,_W.get())}()}}]),n}(kW);EW.currentPopupAction=null;var CW="pendingRedirect",SW=new Map,TW=function(e){y(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=ff(cf().mark((function e(){var t,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=SW.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,IW(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,qc(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:SW.set(this.auth._key(),t);case 21:return this.bypassAuthState||SW.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ff(cf().mark((function e(t){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",qc(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",qc(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ff(cf().mark((function e(){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(kW);function IW(e,t){return AW.apply(this,arguments)}function AW(){return AW=ff(cf().mark((function e(t,n){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DW(n),i=PW(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),AW.apply(this,arguments)}function NW(e,t){SW.set(e._key(),t)}function PW(e){return fq(e._redirectPersistence)}function DW(e){return pq(CW,e.config.apiKey,e.name)}function OW(e,t){return RW.apply(this,arguments)}function RW(){return RW=ff(cf().mark((function e(t,n){var r,i,a,o,s,u=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Vq(t),a=vW(i,n),o=new TW(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),RW.apply(this,arguments)}var LW=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FW(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!FW(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gU(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MW(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(MW(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function MW(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function FW(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function jW(e){return VW.apply(this,arguments)}function VW(){return VW=ff(cf().mark((function e(t){var n,r=arguments;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",OU(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),VW.apply(this,arguments)}var BW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UW=/^https?/;function qW(){return qW=ff(cf().mark((function e(t){var n,r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jW(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zW(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:mU(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),qW.apply(this,arguments)}function zW(e){var t=EU(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!UW.test(r))return!1;if(BW.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var WW=new TU(3e4,6e4);function HW(){var e=zz().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var KW=null;function GW(e){return KW=KW||function(e){return new Promise((function(t,n){var r,i,a;function o(){HW(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){HW(),n(gU(e,"network-request-failed"))},timeout:WW.get()})}if(null===(i=null===(r=zz().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=zz().gapi)||void 0===a?void 0:a.load)){var s=Oq("iframefcb");return zz()[s]=function(){gapi.load?o():n(gU(e,"network-request-failed"))},Dq("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw KW=null,e}))}(e),KW}var QW=new TU(5e3,15e3),YW="__/auth/iframe",ZW="emulator/auth/iframe",XW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$W=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JW(e){var t=e.config;kU(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?IU(t,ZW):"https://".concat(e.config.authDomain,"/").concat(YW),r={apiKey:t.apiKey,appName:e.name,v:hd},i=$W.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(eh(r).slice(1))}function eH(e){return tH.apply(this,arguments)}function tH(){return tH=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GW(t);case 2:return n=e.sent,kU(r=zz().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:JW(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XW,dontclear:!0},(function(e){return new Promise(function(){var n=ff(cf().mark((function n(r,i){var a,o,s;return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){zz().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=gU(t,"network-request-failed"),o=zz().setTimeout((function(){i(a)}),QW.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),tH.apply(this,arguments)}var nH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rH=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch($Y){}}}]),e}();function iH(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},nH),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Of().toLowerCase();n&&(s=wq(l)?"_blank":n),gq(l)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Eq(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Of())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new rH(null);var h=window.open(t||"",s,f);kU(h,e,"popup-blocked");try{h.focus()}catch($Y){}return new rH(h)}var aH="__/auth/handler",oH="emulator/auth/handler",sH=encodeURIComponent("fac");function uH(e,t,n,r,i,a){return cH.apply(this,arguments)}function cH(){return cH=ff(cf().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,d,p,v,m,g,y,w,b;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kU(t.config.authDomain,t,"auth-domain-config-required"),kU(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:hd,eventId:a},n instanceof hz)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Zf(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof dz&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return w=e.sent,b=w?"#".concat(sH,"=").concat(encodeURIComponent(w)):"",e.abrupt("return","".concat(lH(t),"?").concat(eh(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),cH.apply(this,arguments)}function lH(e){var t=e.config;return t.emulator?IU(t,oH):"https://".concat(t.authDomain,"/").concat(aH)}var fH="webStorageSupport",hH=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jz,this._completeRedirectFn=OW,this._overrideRedirectResult=NW}return m(e,[{key:"_openPopup",value:function(){var e=ff(cf().mark((function e(t,n,r,i){var a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xU(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,uH(t,n,r,EU(),i);case 3:return o=e.sent,e.abrupt("return",iH(t,o,Uz()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ff(cf().mark((function e(t,n,r,i){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,uH(t,n,r,EU(),i);case 4:return Wz(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(xU(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eH(t);case 2:return n=e.sent,r=new LW(t),n.register("authEvent",(function(e){return kU(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(fH,{type:fH},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[fH];void 0!==i&&t(!!i),mU(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qW.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Sq()||yq()||Eq()}}]),e}(),dH=hH,pH=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _U("unexpected MultiFactorSessionType")}}}]),e}(),vH=function(e){y(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return OU(e,"POST","/v2/accounts/mfaEnrollment:finalize",DU(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return OU(e,"POST","/v2/accounts/mfaSignIn:finalize",DU(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(pH);(function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return vH._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var mH=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return gH._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return gH._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ff(cf().mark((function e(t){var n,r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kU("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Pz(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",yH._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();mH.FACTOR_ID="totp";var gH=function(e){y(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=ff(cf().mark((function e(t,n,r){return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kU("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Dz(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ff(cf().mark((function e(t,n){var r;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kU(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",lW(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(pH),yH=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(wH(e)||wH(t))&&(r=!0),r&&(wH(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),wH(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function wH(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var bH="@firebase/auth",kH="0.23.2",_H=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ff(cf().mark((function e(t){var n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){kU(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var xH,EH=Nf("authIdTokenMaxAge")||300,CH=null;xH="Browser",ad(new yh("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;kU(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:xH,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tq(xH)},l=new jq(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fq);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ad(new yh("auth-internal",(function(e){return function(e){return new _H(e)}(Vq(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),yd(bH,kH,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xH)),yd(bH,kH,"esm2017");var SH,TH="firebasestorage.googleapis.com",IH="storageBucket",AH=function(e){y(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=t.call(this,NH(e),"Firebase Storage: ".concat(r," (").concat(NH(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(k(i),n.prototype),i}return m(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return NH(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(qf);function NH(e){return"storage/"+e}function PH(){return new AH(SH.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function DH(){return new AH(SH.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OH(){return new AH(SH.CANCELED,"User canceled the upload/download.")}function RH(e){return new AH(SH.INVALID_ARGUMENT,e)}function LH(){return new AH(SH.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(SH||(SH={}));var MH,FH=function(){function e(t,n){h(this,e),this.bucket=t,this.path_=n}return m(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch($Y){return new e(t,"")}if(""===r.path)return r;throw i=t,new AH(SH.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===TH?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new AH(SH.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),jH=function(){function e(t){h(this,e),this.promise_=Promise.reject(t)}return m(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function VH(e,t,n,r){if(r<t)throw RH("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw RH("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function BH(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function UH(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(MH||(MH={}));var qH=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];h(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return m(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch($Y){i($Y)}else if(null!==a){var s=PH();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?LH():OH());else i(DH())}};this.canceled_?t(0,new zH(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new zH(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===MH.NO_ERROR,a=r.getStatus();if(!n||UH(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===MH.ABORT;t(!1,new zH(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new zH(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),zH=m((function e(t,n,r){h(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function WH(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}var HH=function(){function e(t,n){h(this,e),this._service=t,this._location=n instanceof FH?n:FH.makeFromUrl(n,t.host)}return m(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new FH(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return WH(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new FH(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new AH(SH.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function KH(e,t){var n=null===t||void 0===t?void 0:t[IH];return null==n?null:FH.makeFromBucketSpec(n,e)}var GH=function(){function e(t,n,r,i,a){h(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=TH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?FH.makeFromBucketSpec(i,this._host):KH(this._host,this.app.options)}return m(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=FH.makeFromBucketSpec(this._url,e):this._bucket=KH(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){VH("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){VH("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ff(cf().mark((function e(){var t,n;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new HH(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new jH(LH());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=BH(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new qH(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ff(cf().mark((function e(t,n){var r,i,a,o;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),QH="@firebase/storage",YH="0.11.2",ZH="storage";function XH(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Df(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function $H(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new GH(r,i,a,n,hd)}ad(new yh(ZH,$H,"PUBLIC").setMultipleInstances(!0)),yd(QH,YH,""),yd(QH,YH,"esm2017");var JH={apiKey:"AIzaSyAufHNdn_PJWfE6ijKqnfhGLtw5knY7VCM",authDomain:"food-list-bdb10.firebaseapp.com",databaseURL:"https://food-list-bdb10-default-rtdb.firebaseio.com",projectId:"food-list-bdb10",storageBucket:"food-list-bdb10.appspot.com",messagingSenderId:"205891303435",appId:"1:205891303435:web:95d72cd9a8faf0ca81af0e"};mb.initializeApp(JH);var eK=mb.initializeApp(JH),tK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd(),t=arguments.length>1?arguments[1]:void 0,n=od(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=If("database");r&&rb.apply(void 0,[n].concat(f(r)))}return n}(eK),nK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd(),t=od(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=od(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if($f(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;mU(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:dH,persistence:[uW,Mz,jz]}),i=Nf("authTokenSyncURL");if(i){var a=(n=i,function(){var e=ff(cf().mark((function e(t){var r,i,a;return cf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>EH)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,CH!==a){e.next=12;break}return e.abrupt("return");case 12:return CH=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){gh(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){gh(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=Tf("auth");return o&&Uq(r,"http://".concat(o)),r}(eK),rK=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pd(),t=arguments.length>1?arguments[1]:void 0,n=od(e=gh(e),ZH).getImmediate({identifier:t}),r=If("storage");r&&XH.apply(void 0,[n].concat(f(r)))}(eK),new vz),iK=n(1830),aK=n.n(iK),oK=(n(3573),Function.prototype.bind.call(Function.prototype.call,[].slice));function sK(e,t){return oK(e.querySelectorAll(t))}function uK(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var cK=r.createContext(null);cK.displayName="NavContext";var lK=cK,fK=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},hK=r.createContext(null),dK=r.createContext(null),pK="data-rr-ui-";function vK(e){return"".concat(pK).concat(e)}var mK=["as","active","eventKey"];function gK(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,r.useContext)(hK),c=(0,r.useContext)(lK),l=(0,r.useContext)(dK),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);h[vK("event-key")]=t,h.id=d||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Yc((function(e){s||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[h,{isActive:f}]}var yK=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?hn:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mK),s=c(gK(Object.assign({key:fK(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[vK("active")]=l.isActive,(0,nt.jsx)(r,Object.assign({},o,u,{ref:t}))}));yK.displayName="NavItem";var wK=yK,bK=["as","onSelect","activeKey","role","onKeyDown"];var kK=function(){},_K=vK("event-key"),xK=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,bK),h=uK(),d=(0,r.useRef)(!1),p=(0,r.useContext)(hK),v=(0,r.useContext)(dK);v&&(c=c||"tablist",u=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=sK(t,"[".concat(_K,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(_K,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var w=Xl(t,m);return(0,nt.jsx)(hK.Provider,{value:y,children:(0,nt.jsx)(lK.Provider,{value:{role:c,activeKey:fK(u),getControlledId:n||kK,getControllerId:i||kK},children:(0,nt.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:w,role:c}))})})}));xK.displayName="Nav";var EK=Object.assign(xK,{Item:wK}),CK=r.createContext(null);CK.displayName="NavbarContext";var SK=CK,TK=r.createContext(null);TK.displayName="CardHeaderContext";var IK=TK,AK=Dt("nav-item"),NK=["bsPrefix","className","as","active","eventKey","disabled"],PK=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?sl:i,o=e.active,s=e.eventKey,u=e.disabled,l=void 0!==u&&u,f=Xe(e,NK);n=lt(n,"nav-link");var h=c(gK(Ye({key:fK(s,f.href),active:o,disabled:l},f)),2),d=h[0],p=h[1];return(0,nt.jsx)(a,Ye(Ye(Ye({},f),d),{},{ref:t,disabled:l,className:Je()(r,n,l&&"disabled",p.isActive&&"active")}))}));PK.displayName="NavLink";var DK=PK,OK=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],RK=r.forwardRef((function(e,t){var n,i,a,o=hl(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,h=void 0!==f&&f,d=o.justify,p=void 0!==d&&d,v=o.navbar,m=o.navbarScroll,g=o.className,y=o.activeKey,w=Xe(o,OK),b=lt(c,"nav"),k=!1,_=(0,r.useContext)(SK),x=(0,r.useContext)(IK);return _?(i=_.bsPrefix,k=null==v||v):x&&(a=x.cardHeaderBsPrefix),(0,nt.jsx)(EK,Ye({as:u,ref:t,activeKey:y,className:Je()(g,(n={},Ge(n,b,!k),Ge(n,"".concat(i,"-nav"),k),Ge(n,"".concat(i,"-nav-scroll"),k&&m),Ge(n,"".concat(a,"-").concat(l),!!a),Ge(n,"".concat(b,"-").concat(l),!!l),Ge(n,"".concat(b,"-fill"),h),Ge(n,"".concat(b,"-justified"),p),n))},w))}));RK.displayName="Nav";var LK=Object.assign(RK,{Item:AK,Link:DK}),MK=function(e,t){(0,r.useEffect)((function(){!function(){var n=function(){var n=ff(cf().mark((function n(){var r,i,a,o,s;return cf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://food-list-bdb10-default-rtdb.firebaseio.com/".concat(e,".json"));case 2:return r=n.sent,n.next=5,r.json();case 5:for(s in i=n.sent,a=Ye({},i),o=[],a)o.push({key:s,name:a[s].name,price:a[s].price,titel:a[s].titel,catagory:a[s].catagory,img:a[s].img,userName:a[s].userName,emaluser:a[s].emaluser,phonUser:a[s].phonUser,cityUser:a[s].cityUser,street:a[s].street,build:a[s].build,qtn:a[s].qtn,PriceAll:a[s].PriceAll});t(o);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}()}),[])},FK=function(){var e,t=localStorage.getItem("userId"),n=c((0,r.useState)(),2),i=n[0],a=n[1];MK("food",a);var o=c((0,r.useState)(),2),s=o[0],u=o[1];(0,r.useEffect)((function(){!function(){try{Nw(bw(tK,"users/Basket/".concat(t,"/")),(function(e){u(e.val())}))}catch(tp){console.log(tp)}}()}),[]);var l=[];for(var f in s)l.push(s[f].id);return(0,nt.jsx)(nt.Fragment,{children:(0,nt.jsxs)("form",{children:[(0,nt.jsx)(LK.Link,{className:"btnOrder",href:"/orderConfirmation",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0637\u0644\u0628  "}),null===i||void 0===i||null===(e=i.filter((function(e){if(-1!==l.indexOf(e.key))return e})))||void 0===e?void 0:e.map((function(e){return(0,nt.jsxs)("div",{className:"contBasket",children:[(0,nt.jsx)("div",{className:"contImgBasket",children:(0,nt.jsx)("img",{className:"imgBasket",src:e.img,alt:"fdh"})}),(0,nt.jsxs)("div",{className:"contTitleBasket",children:[(0,nt.jsx)("h3",{className:"text-centar",children:e.name}),(0,nt.jsxs)("p",{className:"priceBasket",children:["\u0627\u0644\u0633\u0639\u0631 : ",e.price]}),(0,nt.jsx)("button",{onClick:function(n){!function(e){aK().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.isConfirmed&&xw(bw(tK,"users/Basket/".concat(t,"/").concat(e)))}))}(e.key),n.preventDefault()},className:"basketBtn",children:"\u0627\u0632\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u0648\u0631\u062f\u0644\u0631"})]})]})}))]})})},jK=new WeakMap,VK=function(e,t){if(e&&t){var n=jK.get(t)||new Map;jK.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function BK(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=VK(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return il((function(){var n=VK(e,t);if(!n)return o(!1);var r=jK.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var UK=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var s,u;"object"===typeof t?(s=t,o=a,a=!0):((u={})[t]=a=a||!0,s=u);var c=(0,r.useMemo)((function(){return Object.entries(s).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(s)]);return BK(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),qK=UK;function zK(e){void 0===e&&(e=bl());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch($Y){return e.body}}function WK(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var HK=vK("modal-open"),KK=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;h(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return m(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Ge({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Sl(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(HK,""),Sl(r,t)}},{key:"reset",value:function(){var e=this;f(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(HK),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),GK=KK,QK=(0,r.createContext)(Tl?window:void 0);QK.Provider;function YK(){return(0,r.useContext)(QK)}var ZK=function(e,t){return Tl?null==e?(t||bl()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var XK=function(e){var t=e.children,n=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,s=(0,r.useRef)(null),u=(0,r.useRef)(n),c=Yc(i);(0,r.useEffect)((function(){n?u.current=!0:c(s.current)}),[n,c]);var l=Xl(s,t.ref),f=(0,r.cloneElement)(t,{ref:l});return n?f:o||!u.current&&a?null:f};function $K(e){var t=e.children,n=e.in,i=e.onExited,a=e.onEntered,o=e.transition,s=c((0,r.useState)(!n),2),u=s[0],l=s[1];n&&u&&l(!1);var f=function(e){var t=e.in,n=e.onTransition,i=(0,r.useRef)(null),a=(0,r.useRef)(!0),o=Yc(n);return il((function(){if(i.current){var e=!1;return o({in:t,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[t,o]),il((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!n,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(function(t){throw e.in||l(!0),t}))}}),h=Xl(f,t.ref);return u&&!n?null:(0,r.cloneElement)(t,{ref:h})}function JK(e,t,n){return e?(0,nt.jsx)(e,Object.assign({},n)):t?(0,nt.jsx)($K,Object.assign({},n,{transition:t})):(0,nt.jsx)(XK,Object.assign({},n))}var eG,tG=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nG(e){var t=YK(),n=e||function(e){return eG||(eG=new GK({ownerDocument:null==e?void 0:e.document})),eG}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var rG=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,g=e.transition,y=e.runTransition,w=e.backdropTransition,b=e.runBackdropTransition,k=e.autoFocus,_=void 0===k||k,x=e.enforceFocus,E=void 0===x||x,C=e.restoreFocus,S=void 0===C||C,T=e.restoreFocusOptions,I=e.renderDialog,A=e.renderBackdrop,N=void 0===A?function(e){return(0,nt.jsx)("div",Object.assign({},e))}:A,P=e.manager,D=e.container,O=e.onShow,R=e.onHide,L=void 0===R?function(){}:R,M=e.onExit,F=e.onExited,j=e.onExiting,V=e.onEnter,B=e.onEntering,U=e.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tG),z=function(e,t){var n=YK(),i=c((0,r.useState)((function(){return ZK(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var s=ZK(e);s&&o(s)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=ZK(e);t!==a&&o(t)}),[e,a]),a}(D),W=nG(P),H=Xc(),K=nl(i),G=c((0,r.useState)(!i),2),Q=G[0],Y=G[1],Z=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return W}),[W]),Tl&&!K&&i&&(Z.current=zK()),i&&Q&&Y(!1);var X=Yc((function(){if(W.add(),re.current=Ol(document,"keydown",te),ne.current=Ol(document,"focus",(function(){return setTimeout(J)}),!0),O&&O(),_){var e=zK(document);W.dialog&&e&&!WK(W.dialog,e)&&(Z.current=e,W.dialog.focus())}})),$=Yc((function(){var e;(W.remove(),null==re.current||re.current(),null==ne.current||ne.current(),S)&&(null==(e=Z.current)||null==e.focus||e.focus(T),Z.current=null)}));(0,r.useEffect)((function(){i&&z&&X()}),[i,z,X]),(0,r.useEffect)((function(){Q&&$()}),[Q,$]),$c((function(){$()}));var J=Yc((function(){if(E&&H()&&W.isTopModal()){var e=zK();W.dialog&&e&&!WK(W.dialog,e)&&W.dialog.focus()}})),ee=Yc((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&L())})),te=Yc((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&W.isTopModal()&&(null==m||m(e),e.defaultPrevented||L())})),ne=(0,r.useRef)(),re=(0,r.useRef)();if(!z)return null;var ie=Object.assign({role:o,ref:W.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:u,className:s,tabIndex:-1}),ae=I?I(ie):(0,nt.jsx)("div",Object.assign({},ie,{children:r.cloneElement(l,{role:"document"})}));ae=JK(g,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:M,onExiting:j,onExited:function(){Y(!0),null==F||F.apply(void 0,arguments)},onEnter:V,onEntering:B,onEntered:U,children:ae});var oe=null;return h&&(oe=N({ref:W.setBackdropRef,onClick:ee}),oe=JK(w,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:oe})),(0,nt.jsx)(nt.Fragment,{children:Vl.createPortal((0,nt.jsxs)(nt.Fragment,{children:[oe,ae]}),z)})}));rG.displayName="Modal";var iG,aG=Object.assign(rG,{Manager:GK}),oG=["className","children","transitionClasses","onEnter"],sG=(Ge(iG={},Wl,"show"),Ge(iG,Hl,"show"),iG),uG=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=e.onEnter,u=Ye({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Xe(e,oG)),c=(0,r.useCallback)((function(e,t){jl(e),null==s||s(e,t)}),[s]);return(0,nt.jsx)(ef,Ye(Ye({ref:t,addEndListener:Fl},u),{},{onEnter:c,childRef:i.ref,children:function(e,t){return r.cloneElement(i,Ye(Ye({},t),{},{className:Je()("fade",n,i.props.className,sG[e],o[e])}))}}))}));uG.displayName="Fade";var cG,lG=uG,fG=Dt("offcanvas-body"),hG=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],dG=(Ge(cG={},Wl,"show"),Ge(cG,Hl,"show"),cG),pG=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.in,s=void 0!==o&&o,u=e.mountOnEnter,c=void 0!==u&&u,l=e.unmountOnExit,f=void 0!==l&&l,h=e.appear,d=void 0!==h&&h,p=Xe(e,hG);return n=lt(n,"offcanvas"),(0,nt.jsx)(ef,Ye(Ye({ref:t,addEndListener:Fl,in:s,mountOnEnter:c,unmountOnExit:f,appear:d},p),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,Ye(Ye({},t),{},{className:Je()(i,a.props.className,(e===Wl||e===Kl)&&"".concat(n,"-toggling"),dG[e])}))}}))}));pG.displayName="OffcanvasToggling";var vG=pG,mG=r.createContext({onHide:function(){}}),gG=["className","variant","aria-label"],yG={"aria-label":tt().string,onClick:tt().func,variant:tt().oneOf(["white"])},wG=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=Xe(e,gG);return(0,nt.jsx)("button",Ye({ref:t,type:"button",className:Je()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));wG.displayName="CloseButton",wG.propTypes=yG;var bG=wG,kG=["closeLabel","closeVariant","closeButton","onHide","children"],_G=r.forwardRef((function(e,t){var n=e.closeLabel,i=void 0===n?"Close":n,a=e.closeVariant,o=e.closeButton,s=void 0!==o&&o,u=e.onHide,c=e.children,l=Xe(e,kG),f=(0,r.useContext)(mG),h=Yc((function(){null==f||f.onHide(),null==u||u()}));return(0,nt.jsxs)("div",Ye(Ye({ref:t},l),{},{children:[c,s&&(0,nt.jsx)(bG,{"aria-label":i,variant:a,onClick:h})]}))})),xG=_G,EG=["bsPrefix","className","closeLabel","closeButton"],CG=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,s=void 0!==o&&o,u=Xe(e,EG);return n=lt(n,"offcanvas-header"),(0,nt.jsx)(xG,Ye(Ye({ref:t},u),{},{className:Je()(r,n),closeLabel:a,closeButton:s}))}));CG.displayName="OffcanvasHeader";var SG,TG=CG,IG=(SG="h5",r.forwardRef((function(e,t){return(0,nt.jsx)("div",Ye(Ye({},e),{},{ref:t,className:Je()(e.className,SG)}))}))),AG=Dt("offcanvas-title",{Component:IG});function NG(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var PG,DG=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",OG=".sticky-top",RG=".navbar-toggler",LG=function(e){y(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Sl(t,Ge({},e,"".concat(parseFloat(Sl(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Sl(t,Ge({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;qc(w(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";sK(r,DG).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),sK(r,OG).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),sK(r,RG).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;qc(w(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=NG(e.className,t):e.setAttribute("class",NG(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";sK(r,DG).forEach((function(e){return t.restore(i,e)})),sK(r,OG).forEach((function(e){return t.restore(a,e)})),sK(r,RG).forEach((function(e){return t.restore(a,e)}))}}]),n}(GK);var MG=LG,FG=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function jG(e){return(0,nt.jsx)(vG,Ye({},e))}function VG(e){return(0,nt.jsx)(lG,Ye({},e))}var BG=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=void 0===s?"start":s,l=e.responsive,f=e.show,h=void 0!==f&&f,d=e.backdrop,p=void 0===d||d,v=e.keyboard,m=void 0===v||v,g=e.scroll,y=void 0!==g&&g,w=e.onEscapeKeyDown,b=e.onShow,k=e.onHide,_=e.container,x=e.autoFocus,E=void 0===x||x,C=e.enforceFocus,S=void 0===C||C,T=e.restoreFocus,I=void 0===T||T,A=e.restoreFocusOptions,N=e.onEntered,P=e.onExit,D=e.onExiting,O=e.onEnter,R=e.onEntering,L=e.onExited,M=e.backdropClassName,F=e.manager,j=e.renderStaticNode,V=void 0!==j&&j,B=Xe(e,FG),U=(0,r.useRef)();n=lt(n,"offcanvas");var q=((0,r.useContext)(SK)||{}).onToggle,z=c((0,r.useState)(!1),2),W=z[0],H=z[1],K=qK(l||"xs","up");(0,r.useEffect)((function(){H(l?h&&!K:h)}),[h,l,K]);var G=Yc((function(){null==q||q(),null==k||k()})),Q=(0,r.useMemo)((function(){return{onHide:G}}),[G]);var Y=(0,r.useCallback)((function(e){return(0,nt.jsx)("div",Ye(Ye({},e),{},{className:Je()("".concat(n,"-backdrop"),M)}))}),[M,n]),Z=function(e){return(0,nt.jsx)("div",Ye(Ye(Ye({},e),B),{},{className:Je()(i,l?"".concat(n,"-").concat(l):n,"".concat(n,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,nt.jsxs)(nt.Fragment,{children:[!W&&(l||V)&&Z({}),(0,nt.jsx)(mG.Provider,{value:Q,children:(0,nt.jsx)(aG,{show:W,ref:t,backdrop:p,container:_,keyboard:m,autoFocus:E,enforceFocus:S&&!y,restoreFocus:I,restoreFocusOptions:A,onEscapeKeyDown:w,onShow:b,onHide:G,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==O||O.apply(void 0,[e].concat(n))},onEntering:R,onEntered:N,onExit:P,onExiting:D,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==L||L.apply(void 0,n)},manager:F||(y?(U.current||(U.current=new MG({handleContainerOverflow:!1})),U.current):function(e){return PG||(PG=new LG(e)),PG}()),transition:jG,backdropTransition:VG,renderBackdrop:Y,renderDialog:Z})})]})}));BG.displayName="Offcanvas";var UG=Object.assign(BG,{Body:fG,Header:TG,Title:AG}),qG=r.createContext(null),zG=Object.prototype.hasOwnProperty;function WG(e,t,n){var r,i=C(e.keys());try{for(i.s();!(r=i.n()).done;)if(HG(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function HG(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&HG(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=C(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=WG(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=C(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=WG(t,i)))return!1;if(!HG(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(zG.call(e,n)&&++r&&!zG.call(t,n))return!1;if(!(n in t)||!HG(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var KG=function(e){var t=Xc();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]},GG=n(8702),QG=n(9224),YG=n(1217),ZG=n(5468),XG=n(1668),$G=n(5934),JG=n(545),eQ=n(9790),tQ=(0,n(761).kZ)({defaultModifiers:[XG.Z,JG.Z,QG.Z,YG.Z,$G.Z,ZG.Z,eQ.Z,GG.Z]}),nQ=["enabled","placement","strategy","modifiers"];var rQ={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},iQ={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},aQ=[];var oQ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,s=void 0===o?"bottom":o,u=n.strategy,l=void 0===u?"absolute":u,h=n.modifiers,d=void 0===h?aQ:h,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,nQ),v=(0,r.useRef)(d),m=(0,r.useRef)(),g=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),y=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),w=c(KG((0,r.useState)({placement:s,update:g,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),2),b=w[0],k=w[1],_=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),k({state:t,styles:n,attributes:r,update:g,forceUpdate:y,placement:t.placement})}}}),[g,y,k]),x=(0,r.useMemo)((function(){return HG(v.current,d)||(v.current=d),v.current}),[d]);return(0,r.useEffect)((function(){m.current&&a&&m.current.setOptions({placement:s,strategy:l,modifiers:[].concat(f(x),[_,rQ])})}),[l,s,_,a,x]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return m.current=tQ(e,t,Object.assign({},p,{placement:s,strategy:l,modifiers:[].concat(f(x),[iQ,_])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,k((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),b},sQ=function(){};var uQ=function(e){return e&&("current"in e?e.current:e)},cQ={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var lQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sQ,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,s=(0,r.useRef)(!1),u=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n,r=uQ(e);Ct()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!r||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!WK(r,t.target)||u.current,u.current=!1}),[e]),l=Yc((function(t){var n=uQ(e);n&&WK(n,t.target)&&(u.current=!0)})),f=Yc((function(e){s.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=bl(uQ(e)),n=(t.defaultView||window).event,r=null;cQ[o]&&(r=Ol(t,cQ[o],l,!0));var a=Ol(t,o,c,!0),s=Ol(t,o,(function(e){e!==n?f(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return Ol(e,"mousemove",sQ)}))),function(){null==r||r(),a(),s(),u.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function fQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function hQ(e){var t,n,r,i,a,o=e.enabled,s=e.enableEvents,u=e.placement,c=e.flip,l=e.offset,f=e.fixed,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:u,enabled:o,strategy:f?"fixed":v.strategy,modifiers:fQ(Object.assign({},m,{eventListeners:{enabled:s,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:h?Object.assign({padding:h},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!d,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:d})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var dQ=["children"];var pQ=function(){};function vQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(qG),n=c((0,r.useState)(null),2),i=n[0],a=n[1],o=(0,r.useRef)(!1),s=e.flip,u=e.offset,l=e.rootCloseEvent,f=e.fixed,h=void 0!==f&&f,d=e.placement,p=e.popperConfig,v=void 0===p?{}:p,m=e.enableEventListeners,g=void 0===m||m,y=e.usePopper,w=void 0===y?!!t:y,b=null==(null==t?void 0:t.show)?!!e.show:t.show;b&&!o.current&&(o.current=!0);var k=t||{},_=k.placement,x=k.setMenu,E=k.menuElement,C=k.toggleElement,S=oQ(C,E,hQ({placement:d||_||"bottom-start",enabled:w,enableEvents:null==g?b:g,offset:u,flip:s,fixed:h,arrowElement:i,popperConfig:v})),T=Object.assign({ref:x||pQ,"aria-labelledby":null==C?void 0:C.id},S.attributes.popper,{style:S.styles.popper}),I={show:b,placement:_,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:w?S:null,arrowProps:w?Object.assign({ref:a},S.attributes.arrow,{style:S.styles.arrow}):{}};return lQ(E,(function(e){null==t||t.toggle(!1,e)}),{clickTrigger:l,disabled:!b}),[T,I]}function mQ(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dQ),r=c(vQ(n),2),i=r[0],a=r[1];return(0,nt.jsx)(nt.Fragment,{children:t(i,a)})}mQ.displayName="DropdownMenu",mQ.defaultProps={usePopper:!0};var gQ=mQ,yQ={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},wQ=r.createContext(yQ);var bQ=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),kQ=new WeakMap;function _Q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useContext)(wQ),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,a,o=null===(i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(a=i.ReactCurrentOwner)||void 0===a?void 0:a.current;if(o){var s=kQ.get(o);null==s?kQ.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==s.state&&(t.current=s.id,kQ.delete(o))}n.current=++t.current}return n.current}var xQ=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},EQ=function(){};function CQ(){var e=function(e){var t=(0,r.useContext)(wQ);t!==yQ||bQ||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var n=_Q(!!e);return e||"react-aria".concat(t.prefix,"-").concat(n)}(),t=(0,r.useContext)(qG)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?EQ:a,s=t.setToggle,u=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:s||EQ,onClick:c,"aria-expanded":!!i};return u&&xQ(u)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function SQ(e){var t=e.children,n=c(CQ(),2),r=n[0],i=n[1];return(0,nt.jsx)(nt.Fragment,{children:t(r,i)})}SQ.displayName="DropdownToggle";var TQ=SQ,IQ=["eventKey","disabled","onClick","active","as"];function AQ(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,s=(0,r.useContext)(hK),u=((0,r.useContext)(lK)||{}).activeKey,c=fK(t,n),l=null==i&&null!=t?fK(u)===c:i;return[Ge({onClick:Yc((function(e){a||(null==o||o(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},vK("dropdown-item"),""),{isActive:l}]}var NQ=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,s=void 0===o?hn:o,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,IQ),l=c(AQ({key:n,href:u.href,disabled:r,onClick:i,active:a}),1)[0];return(0,nt.jsx)(s,Object.assign({},u,{ref:t},l))}));NQ.displayName="DropdownItem";var PQ=NQ;function DQ(){var e=uK(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function OQ(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,s=void 0===o?"* [".concat(vK("dropdown-item"),"]"):o,u=e.focusFirstItemOnShow,l=e.placement,f=void 0===l?"bottom-start":l,h=e.children,d=YK(),p=c(fl(n,t,a),2),v=p[0],m=p[1],g=c(DQ(),2),y=g[0],w=g[1],b=y.current,k=c(DQ(),2),_=k[0],x=k[1],E=_.current,C=nl(v),S=(0,r.useRef)(null),T=(0,r.useRef)(!1),I=(0,r.useContext)(hK),A=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),N=Yc((function(e,t){null==i||i(e,t),A(!1,t,"select"),t.isPropagationStopped()||null==I||I(e,t)})),P=(0,r.useMemo)((function(){return{toggle:A,placement:f,show:v,menuElement:b,toggleElement:E,setMenu:w,setToggle:x}}),[A,f,v,b,E,w,x]);b&&C&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var D=Yc((function(){E&&E.focus&&E.focus()})),O=Yc((function(){var e=S.current,t=u;if(null==t&&(t=!(!y.current||!xQ(y.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=sK(y.current,s)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?O():T.current&&(T.current=!1,D())}),[v,T,D,O]),(0,r.useEffect)((function(){S.current=null}));var R=function(e,t){if(!y.current)return null;var n=sK(y.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=Yc(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=y.current)?void 0:t.contains(i),o=null==(n=_.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||y.current&&v)){S.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=R(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=R(i,1);c&&c.focus&&c.focus()}else m(!0,s);return;case"Tab":Pl(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=y.current)&&t.contains(e.target)||m(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,s)}}})),(0,nt.jsx)(hK.Provider,{value:N,children:(0,nt.jsx)(qG.Provider,{value:P,children:h})})}OQ.displayName="Dropdown",OQ.Menu=gQ,OQ.Toggle=TQ,OQ.Item=PQ;var RQ=OQ,LQ=r.createContext({});LQ.displayName="DropdownContext";var MQ=LQ,FQ=["bsPrefix","className","eventKey","disabled","onClick","active","as"],jQ=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=e.active,l=e.as,f=void 0===l?sl:l,h=Xe(e,FQ),d=lt(n,"dropdown-item"),p=c(AQ({key:i,href:h.href,disabled:o,onClick:s,active:u}),2),v=p[0],m=p[1];return(0,nt.jsx)(f,Ye(Ye(Ye({},h),v),{},{ref:t,className:Je()(r,d,m.isActive&&"active",o&&"disabled")}))}));jQ.displayName="DropdownItem";var VQ=jQ,BQ=r.createContext(null);BQ.displayName="InputGroupContext";var UQ=BQ;function qQ(e,t){return e}var zQ=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function WQ(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var HQ=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,s=e.flip,u=void 0===s||s,l=e.show,f=e.renderOnMount,h=e.as,d=void 0===h?"div":h,p=e.popperConfig,v=e.variant,m=Xe(e,zQ),g=!1,y=(0,r.useContext)(SK),w=lt(n,"dropdown-menu"),b=(0,r.useContext)(MQ),k=b.align,_=b.drop,x=b.isRTL;a=a||k;var E=(0,r.useContext)(UQ),C=[];if(a)if("object"===typeof a){var S=Object.keys(a);if(S.length){var T=S[0],I=a[T];g="start"===I,C.push("".concat(w,"-").concat(T,"-").concat(I))}}else"end"===a&&(g=!0);var A=WQ(g,_,x),N=c(vQ({flip:u,rootCloseEvent:o,show:l,usePopper:!y&&0===C.length,offset:[0,2],popperConfig:p,placement:A}),2),P=N[0],D=N[1],O=D.hasShown,R=D.popper,L=D.show,M=D.toggle;if(P.ref=Xl(qQ(t),P.ref),il((function(){L&&(null==R||R.update())}),[L]),!O&&!f&&!E)return null;"string"!==typeof d&&(P.show=L,P.close=function(){return null==M?void 0:M(!1)},P.align=a);var F=m.style;return null!=R&&R.placement&&(F=Ye(Ye({},m.style),P.style),m["x-placement"]=R.placement),(0,nt.jsx)(d,Ye(Ye(Ye(Ye({},m),P),{},{style:F},(C.length||y)&&{"data-bs-popper":"static"}),{},{className:Je().apply(void 0,[i,w,L&&"show",g&&"".concat(w,"-end"),v&&"".concat(w,"-").concat(v)].concat(C))}))}));HQ.displayName="DropdownMenu";var KQ=HQ,GQ=["bsPrefix","split","className","childBsPrefix","as"],QQ=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,s=e.as,u=void 0===s?vn:s,l=Xe(e,GQ),f=lt(n,"dropdown-toggle"),h=(0,r.useContext)(qG);void 0!==o&&(l.bsPrefix=o);var d=c(CQ(),1)[0];return d.ref=Xl(d.ref,qQ(t)),(0,nt.jsx)(u,Ye(Ye({className:Je()(a,f,i&&"".concat(f,"-split"),(null==h?void 0:h.show)&&"show")},d),l))}));QQ.displayName="DropdownToggle";var YQ=QQ,ZQ=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],XQ=Dt("dropdown-header",{defaultProps:{role:"heading"}}),$Q=Dt("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),JQ=Dt("dropdown-item-text",{Component:"span"}),eY=r.forwardRef((function(e,t){var n=hl(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=void 0===a?"down":a,s=n.show,u=n.className,c=n.align,l=void 0===c?"start":c,f=n.onSelect,h=n.onToggle,d=n.focusFirstItemOnShow,p=n.as,v=void 0===p?"div":p,m=(n.navbar,n.autoClose),g=void 0===m||m,y=Xe(n,ZQ),w=(0,r.useContext)(UQ),b=lt(i,"dropdown"),k=dt(),_=Yc((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===g?"click"===n:"inside"===g?"rootClose"!==n:"outside"!==g||"select"!==n)&&(null==h||h(e,t))})),x=WQ("end"===l,o,k),E=(0,r.useMemo)((function(){return{align:l,drop:o,isRTL:k}}),[l,o,k]),C={down:b,"down-centered":"".concat(b,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,nt.jsx)(MQ.Provider,{value:E,children:(0,nt.jsx)(RQ,{placement:x,show:s,onSelect:f,onToggle:_,focusFirstItemOnShow:d,itemSelector:".".concat(b,"-item:not(.disabled):not(:disabled)"),children:w?y.children:(0,nt.jsx)(v,Ye(Ye({},y),{},{ref:t,className:Je()(u,s&&"show",C[o])}))})})}));eY.displayName="Dropdown";var tY=Object.assign(eY,{Toggle:YQ,Menu:KQ,Item:VQ,ItemText:JQ,Divider:$Q,Header:XQ}),nY=tt().oneOf(["start","end"]),rY=tt().oneOfType([nY,tt().shape({sm:nY}),tt().shape({md:nY}),tt().shape({lg:nY}),tt().shape({xl:nY}),tt().shape({xxl:nY}),tt().object]),iY=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],aY={id:tt().string,href:tt().string,onClick:tt().func,title:tt().node.isRequired,disabled:tt().bool,align:rY,menuRole:tt().string,renderMenuOnMount:tt().bool,rootCloseEvent:tt().string,menuVariant:tt().oneOf(["dark"]),flip:tt().bool,bsPrefix:tt().string,variant:tt().string,size:tt().string},oY=r.forwardRef((function(e,t){var n=e.title,r=e.children,i=e.bsPrefix,a=e.rootCloseEvent,o=e.variant,s=e.size,u=e.menuRole,c=e.renderMenuOnMount,l=e.disabled,f=e.href,h=e.id,d=e.menuVariant,p=e.flip,v=Xe(e,iY);return(0,nt.jsxs)(tY,Ye(Ye({ref:t},v),{},{children:[(0,nt.jsx)(YQ,{id:h,href:f,size:s,variant:o,disabled:l,childBsPrefix:i,children:n}),(0,nt.jsx)(KQ,{role:u,renderOnMount:c,rootCloseEvent:a,variant:d,flip:p,children:r})]}))}));oY.displayName="DropdownButton",oY.propTypes=aY;var sY=oY,uY=["bsPrefix","fluid","as","className"],cY=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,s=e.className,u=Xe(e,uY),c=lt(n,"container"),l="string"===typeof i?"-".concat(i):"-fluid";return(0,nt.jsx)(o,Ye(Ye({ref:t},u),{},{className:Je()(s,i?"".concat(c).concat(l):c)}))}));cY.displayName="Container";var lY=cY,fY=["bsPrefix","className","as"],hY=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=Xe(e,fY);n=lt(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,nt.jsx)(o,Ye(Ye({},a),{},{ref:t,className:Je()(r,n)}))}));hY.displayName="NavbarBrand";var dY=hY;var pY,vY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},mY=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],gY={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yY(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=gY[e];return n+parseInt(Sl(t,r[0]),10)+parseInt(Sl(t,r[1]),10)}var wY=(Ge(pY={},zl,"collapse"),Ge(pY,Kl,"collapsing"),Ge(pY,Wl,"collapsing"),Ge(pY,Hl,"collapse show"),pY),bY=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.in,d=void 0!==h&&h,p=e.timeout,v=void 0===p?300:p,m=e.mountOnEnter,g=void 0!==m&&m,y=e.unmountOnExit,w=void 0!==y&&y,b=e.appear,k=void 0!==b&&b,_=e.getDimensionValue,x=void 0===_?yY:_,E=Xe(e,mY),C="function"===typeof f?f():f,S=(0,r.useMemo)((function(){return vY((function(e){e.style[C]="0"}),n)}),[C,n]),T=(0,r.useMemo)((function(){return vY((function(e){var t="scroll".concat(C[0].toUpperCase()).concat(C.slice(1));e.style[C]="".concat(e[t],"px")}),i)}),[C,i]),I=(0,r.useMemo)((function(){return vY((function(e){e.style[C]=null}),a)}),[C,a]),A=(0,r.useMemo)((function(){return vY((function(e){e.style[C]="".concat(x(C,e),"px"),jl(e)}),o)}),[o,x,C]),N=(0,r.useMemo)((function(){return vY((function(e){e.style[C]=null}),s)}),[C,s]);return(0,nt.jsx)(ef,Ye(Ye({ref:t,addEndListener:Fl},E),{},{"aria-expanded":E.role?d:null,onEnter:S,onEntering:T,onEntered:I,onExit:A,onExiting:N,childRef:c.ref,in:d,timeout:v,mountOnEnter:g,unmountOnExit:w,appear:k,children:function(e,t){return r.cloneElement(c,Ye(Ye({},t),{},{className:Je()(u,c.props.className,wY[e],"width"===C&&"collapse-horizontal")}))}}))})),kY=bY,_Y=["children","bsPrefix"],xY=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=Xe(e,_Y);i=lt(i,"navbar-collapse");var o=(0,r.useContext)(SK);return(0,nt.jsx)(kY,Ye(Ye({in:!(!o||!o.expanded)},a),{},{children:(0,nt.jsx)("div",{ref:t,className:i,children:n})}))}));xY.displayName="NavbarCollapse";var EY=xY,CY=["bsPrefix","className","children","label","as","onClick"],SY=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=void 0===o?"Toggle navigation":o,u=e.as,c=void 0===u?"button":u,l=e.onClick,f=Xe(e,CY);n=lt(n,"navbar-toggler");var h=(0,r.useContext)(SK)||{},d=h.onToggle,p=h.expanded,v=Yc((function(e){l&&l(e),d&&d()}));return"button"===c&&(f.type="button"),(0,nt.jsx)(c,Ye(Ye({},f),{},{ref:t,onClick:v,"aria-label":s,className:Je()(i,n,!p&&"collapsed"),children:a||(0,nt.jsx)("span",{className:"".concat(n,"-icon")})}))}));SY.displayName="NavbarToggle";var TY=SY,IY=r.forwardRef((function(e,t){var n=(0,r.useContext)(SK);return(0,nt.jsx)(UG,Ye(Ye({ref:t,show:!(null==n||!n.expanded)},e),{},{renderStaticNode:!0}))}));IY.displayName="NavbarOffcanvas";var AY=IY,NY=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],PY=Dt("navbar-text",{Component:"span"}),DY=r.forwardRef((function(e,t){var n=hl(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=void 0===a||a,s=n.variant,u=void 0===s?"light":s,c=n.bg,l=n.fixed,f=n.sticky,h=n.className,d=n.as,p=void 0===d?"nav":d,v=n.expanded,m=n.onToggle,g=n.onSelect,y=n.collapseOnSelect,w=void 0!==y&&y,b=Xe(n,NY),k=lt(i,"navbar"),_=(0,r.useCallback)((function(){null==g||g.apply(void 0,arguments),w&&v&&(null==m||m(!1))}),[g,w,v,m]);void 0===b.role&&"nav"!==p&&(b.role="navigation");var x="".concat(k,"-expand");"string"===typeof o&&(x="".concat(x,"-").concat(o));var E=(0,r.useMemo)((function(){return{onToggle:function(){return null==m?void 0:m(!v)},bsPrefix:k,expanded:!!v,expand:o}}),[k,v,o,m]);return(0,nt.jsx)(SK.Provider,{value:E,children:(0,nt.jsx)(hK.Provider,{value:_,children:(0,nt.jsx)(p,Ye(Ye({ref:t},b),{},{className:Je()(h,k,o&&x,u&&"".concat(k,"-").concat(u),c&&"bg-".concat(c),f&&"sticky-".concat(f),l&&"fixed-".concat(l))}))})})}));DY.displayName="Navbar";var OY=Object.assign(DY,{Brand:dY,Collapse:EY,Offcanvas:AY,Text:PY,Toggle:TY}),RY="NavbarA_colorW__YPfra",LY="NavbarA_iconName__MbeDe",MY="NavbarA_navbar__OUtgr";var FY=function(){var e=we(),t=function(){(function(e){return gh(e).signOut()})(nK).then((function(){aK().fire({title:"Are you sure?",text:"You want to leave!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(t){t.isConfirmed&&(localStorage.clear(""),window.history.forward(),e("/"))}))})).catch((function(e){console.log(e)}))};return(0,nt.jsx)(OY,{className:MY,expand:"lg",children:(0,nt.jsxs)(lY,{children:[(0,nt.jsx)("div",{className:LY,children:(0,nt.jsx)("img",{alt:"sorry",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAFVBMVEVMaXHXewPXewLXegLXewLXegHXegKFlCImAAAAB3RSTlMA/k2j1h5/GL6i0gAAAAlwSFlzAAAD6AAAA+gBtXtSawAAAVBJREFUeJztmNFuwyAMADG2+f9PrpxkxF3zsKkz0ba7J4SqcLExDm0NAAAAAAAAAAAAAOANvO+88wyAX4i7f2P6hxkmOzZS7XU9pk2rK1JEtPc+NFabb6wiFsdB6FmtgomMuah8GAwR20dd5g9q0PP58drHsD8Np1exgJ9LJYEUo2qBJiL9VUBFdJGAXQqMdQJycwT87j0wLqsgaRULeFopCeQclQr0cwsmAS/eAW07fVQ1zn49Ix2nzzFbfBK3EAi2duRZ4JiV4nakMwXRC8ZLCqIdleZAn8twXJ4DtkagnX0nC4RXYRY0V9kMQRYoDoFmgVlzTwIRmNsF/G6BtkbALgXGMgGf+/3zJtQ1Apo/RS1nYEkZul5+kEQCKtvh2O8F+8VgtqMQmLO17ciPi5GYnr1o246rrkbNN742C/APcP4nBAAAAAAAAAAAAPgLPAB1BgU/BSnGMwAAAABJRU5ErkJggg=="})}),(0,nt.jsx)(OY.Toggle,{style:{backgroundColor:"#f8f8f8"},"aria-controls":"navbarScroll"}),(0,nt.jsx)(OY.Collapse,{id:"navbarScroll",children:(0,nt.jsx)(LK,{className:"  me-auto my-2 my-lg-0",style:{maxHeight:"120px"},navbarScroll:!0,children:null==localStorage.getItem("admin")&&null==localStorage.getItem("emailGoogle")?(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(LK.Link,{className:RY,href:"/",children:"Menu"}),(0,nt.jsx)(LK.Link,{className:RY,href:"/login",children:"log in"})]}):null!=localStorage.getItem("admin")?(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(LK.Link,{className:RY,href:"/",children:"Menu"}),(0,nt.jsx)(LK.Link,{className:RY,onClick:t,children:"Logout"}),(0,nt.jsx)(LK.Link,{className:RY,href:"/editAdmin",children:"Edit"})]}):null!=localStorage.getItem("emailGoogle")?(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(LK.Link,{className:RY,href:"/",children:"Menu"}),(0,nt.jsx)(LK.Link,{className:RY,onClick:t,children:"Logout"}),(0,nt.jsx)(LK.Link,{className:RY,href:"/profileuser",children:"Profile"})]}):void 0})})]})})},jY=["name"];for(var VY,BY=function(e){e.name;var t=Xe(e,jY),n=c((0,r.useState)([]),2),i=n[0],a=n[1];MK("food",a);var o=c((0,r.useState)("All"),2),s=o[0],u=o[1],l=i.filter((function(e){return"mycosis"===s?"mycosis"===e.catagory:"lunch"===s?"lunch"===e.catagory:"desalination"===s?"desalination"===e.catagory:"drinks"===s?"drinks"===e.catagory:e})),f=function(e){u(e.target.value)},h=i.reduce((function(e,t){return e.find((function(e){return e.catagory===t.catagory}))?e:e.concat([t])}),[]),d=c((0,r.useState)(""),2),p=d[0],v=d[1],m=c((0,r.useState)([]),2),g=m[0],y=m[1],w=c((0,r.useState)([]),2),b=w[0],k=w[1],_=c((0,r.useState)([]),2),x=_[0],E=_[1],C=c((0,r.useState)([]),2),S=C[0],T=C[1],I=c((0,r.useState)([]),2),A=I[0],N=I[1],P=function(e,t,n,r){T(e),y(t),k(n),E(r),N(g*r);var i=localStorage.getItem("userId");Ew(bw(tK,"users/Basket/".concat(i,"/").concat(S)),{id:S,qtn:g,name:b,price:x,PriceAll:A})},D=c((0,r.useState)(!1),2),O=D[0],R=D[1];return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(FY,{}),(0,nt.jsxs)("div",{className:"containarHome",children:[(0,nt.jsx)(of,{}),(0,nt.jsx)("hr",{className:"afterLine"}),(0,nt.jsxs)(un,{className:"formSearch",onSubmit:function(e){return e.preventDefault()},children:[(0,nt.jsx)(un.Control,{type:"text",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){v(e.target.value)}}),(0,nt.jsx)(vn,{variant:"warning",children:"Search"})]}),(0,nt.jsx)(vn,{variant:"primary",onClick:function(){return R(!0)},className:"BasketCanvas me-2",children:"Basket"}),(0,nt.jsxs)(UG,Ye(Ye({show:O,onHide:function(){return R(!1)}},t),{},{placement:"end",children:[(0,nt.jsx)(UG.Header,{closeButton:!0,children:(0,nt.jsx)(UG.Title,{children:"My Order"})}),(0,nt.jsx)(UG.Body,{children:(0,nt.jsx)(FK,{})})]})),(0,nt.jsxs)(Gc.div,{className:"contData",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5,ease:[0,.71,.2,1.01]},children:[(0,nt.jsx)(sf,{}),(0,nt.jsx)(yn,{className:"font ",children:(0,nt.jsx)(Bt,{sm:"12",className:" justify-content-center",children:(0,nt.jsxs)("div",{className:"catBtn",children:[(0,nt.jsx)(vn,{className:"font",onClick:f,value:"All",variant:"warning",children:"All"}),h.map((function(e){return(0,nt.jsx)(vn,{className:"font",onClick:f,value:e.catagory,variant:"warning",children:e.catagory})}))]})})}),(0,nt.jsx)(yn,{className:"contCard mt-5",children:l.filter((function(e){return e.name.includes(p)})).map((function(e){return(0,nt.jsx)(nt.Fragment,{children:(0,nt.jsxs)(Gc.div,{sm:12,initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"contCol mb-3",children:[(0,nt.jsx)("div",{className:"contImg",children:(0,nt.jsx)("img",{className:"img",src:e.img,alt:"fdh"})}),(0,nt.jsxs)("div",{className:"contTitle",children:[(0,nt.jsx)("h3",{className:"text-end",children:e.name}),(0,nt.jsxs)("span",{children:[" ",e.titel]}),(0,nt.jsxs)("p",{className:"price",children:["\u0627\u0644\u0633\u0639\u0631 : ",e.price]}),(0,nt.jsxs)(sY,{align:"end",title:"\u0623\u0636\u0641 \u0627\u0644\u0649 \u0627\u0644\u0633\u0644\u0629",id:"dropdown-menu-align-end",className:"basketBtn",children:[(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"1",children:"1"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"2",children:"2"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"3",children:"3"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"4",children:"4"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"5",children:"5"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"6",children:"6"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"7",children:"7"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"8",children:"8"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"9",children:"9"}),(0,nt.jsx)("button",{onClick:function(t){return P(e.key,t.target.value,e.name,e.price)},value:"10",children:"10"}),(0,nt.jsx)(tY.Divider,{})]})]})]},e.id)})}))})]}),(0,nt.jsx)(uf,{})]})]})},UY=256,qY=[],zY=256;UY--;)qY[UY]=(UY+256).toString(16).substring(1);function WY(e){var t=0,n=e||11;if(!VY||UY+n>2*zY)for(VY="",UY=0;t<zY;t++)VY+=qY[256*Math.random()|0];return VY.substring(UY,UY+++n)}var HY=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],s=c((0,r.useState)(""),2),u=s[0],l=s[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1],g=c((0,r.useState)([]),2),y=g[0],w=g[1];return MK("food",w),(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(FY,{}),(0,nt.jsxs)("div",{className:"contEdit",children:[(0,nt.jsxs)("form",{className:"formData mt-4 p-2",children:[(0,nt.jsx)("label",{htmlFor:"name",className:"labData",children:"Item name"}),(0,nt.jsx)("input",{type:"text",id:"name",className:"inpData",placeholder:"Item Name ...",onChange:function(e){return n(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"price",className:"labData",children:"Item price"}),(0,nt.jsx)("input",{type:"number",id:"price",className:"inpData",placeholder:"Item Price ...",onChange:function(e){return l(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"titel",className:"labData",children:"Item Titel"}),(0,nt.jsx)("input",{type:"text",id:"titel",className:"inpData",placeholder:"Item Title ...",onChange:function(e){return o(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"catagory",className:"labData",children:"Item Catagory"}),(0,nt.jsxs)("select",{id:"catagory",className:"w-75 ",onChange:function(e){return d(e.target.value)},placeholder:"Add Catagory ...",children:[(0,nt.jsx)("option",{value:"Lunch",children:"Lunch"}),(0,nt.jsx)("option",{value:"Mycosis",children:"Mycosis"}),(0,nt.jsx)("option",{value:"Drinks",children:"Drinks"}),(0,nt.jsx)("option",{value:"Sweet",children:"Sweet"})]}),(0,nt.jsx)("label",{htmlFor:"img",className:"labData",children:"item image"}),(0,nt.jsx)("input",{type:"url",id:"img",className:"inpData",placeholder:"Item Img Url ...",onChange:function(e){return m(e.target.value)}}),(0,nt.jsx)(vn,{onClick:function(){aK().fire({title:"Are you sure?",text:"You won't Add Items",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){if(e.isConfirmed){var n=WY();Ew(bw(tK,"food/".concat(n)),{name:t,titel:a,price:u,catagory:h,img:v})}}))},variant:"primary",children:"save"})]}),(0,nt.jsx)("div",{children:y.map((function(e){return(0,nt.jsx)(yn,{children:(0,nt.jsxs)(Gc.div,{sm:12,className:"Col mb-3",initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.6},children:[(0,nt.jsx)("div",{className:"contenarImg",children:(0,nt.jsx)("img",{className:"imgCard",src:e.img,alt:"fdh"})}),(0,nt.jsxs)("div",{className:"contenartitel",children:[(0,nt.jsx)("h3",{children:e.name}),(0,nt.jsxs)("soan",{children:[" ",e.titel]}),(0,nt.jsxs)("p",{className:"price-S ",children:["\u0627\u0644\u0633\u0639\u0631 : ",e.price]}),(0,nt.jsx)(vn,{onClick:function(){return function(e){aK().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.isConfirmed&&xw(bw(tK,"food/".concat(e)))}))}(e.key)},variant:"danger",children:"Delet"})]})]},e.id)})}))})]})]})},KY=function(){var e=we(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],s=a[1],u=c((0,r.useState)([]),2),l=u[0],f=u[1];(0,r.useEffect)((function(e){Nw(bw(tK,"users/"),(function(e){var t=e.val(),n=Object.keys(t);f(n)}))}),[]),console.log(l);return(0,r.useEffect)((function(){!function(e,t,n,r){gh(e).onAuthStateChanged(t,n,r)}(nK,(function(e){e&&window.localStorage.setItem("userId",e.uid)}))}),[]),(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(FY,{}),(0,nt.jsxs)("div",{className:"logBody",children:[(0,nt.jsx)("img",{src:"https://i.postimg.cc/brKZX01n/1306497.jpg",alt:""}),(0,nt.jsxs)("div",{className:" loginBox",children:[(0,nt.jsx)("h2",{children:"Login"}),(0,nt.jsxs)("form",{children:[(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"email",name:"",value:n,onChange:function(e){return i(e.target.value)},required:!0}),(0,nt.jsx)("label",{htmlFor:"",children:"Email"})]}),(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"password",name:"",value:o,onChange:function(e){return s(e.target.value)},required:!0}),(0,nt.jsx)("label",{htmlFor:"",children:"Password"})]}),(0,nt.jsx)(We,{className:"btn",id:"aSubmit",onClick:function(t){(function(e,t,n){return Iz(gh(e),fz.credential(t,n))})(nK,n,o).then((function(t){localStorage.setItem("admin",t),window.history.forward(),e("/")})).catch((function(e){return console.log(e)}))},children:"Submit"}),(0,nt.jsxs)("button",{className:"googleSing",id:"aSubmit",onClick:function(){(function(e,t,n){return xW.apply(this,arguments)})(nK,rK).then((function(t){localStorage.setItem("emailGoogle",t.user.email),window.history.forward();var n=localStorage.getItem("userId");console.log(n),setTimeout((function(){return l.includes(n)?e("/"):e("/competeprofileUser")}),1e3)}))},children:[(0,nt.jsx)("img",{className:"google-icon",alt:"/",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"})," LogIn\\SignIn with google"]})]})]})]})]})},GY=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],s=c((0,r.useState)(""),2),u=s[0],l=s[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1],g=we();return(0,nt.jsxs)("div",{className:"logBody",children:[(0,nt.jsx)("img",{src:"https://i.postimg.cc/brKZX01n/1306497.jpg",alt:""}),(0,nt.jsxs)("div",{className:"loginBox completProfileBox",children:[(0,nt.jsx)("h2",{children:"Complete Your Profile"}),(0,nt.jsxs)("form",{children:[(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"text",name:"",required:!0,onChange:function(e){n(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"",children:"Full Name"})]}),(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"nambur",name:"",required:!0,onChange:function(e){o(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"",children:"Phone Nambur"})]}),(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"text",name:"",required:!0,onChange:function(e){l(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"",children:"City"})]}),(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"text",name:"",required:!0,onChange:function(e){d(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"",children:"street"})]}),(0,nt.jsxs)("div",{className:"userBox",children:[(0,nt.jsx)("input",{type:"text",name:"",required:!0,onChange:function(e){m(e.target.value)}}),(0,nt.jsx)("label",{htmlFor:"",children:"Landmark\\build number"})]}),(0,nt.jsx)(vn,{onClick:function(e){if(e.preventDefault(),t&&a&&u&&h&&v){var n=localStorage.getItem("userId");Ew(bw(tK,"users/".concat(n)),{uuid:n,userName:t,phonUser:a,cityUser:u,street:h,build:v}),window.localStorage.setItem("userName",t),g("/")}else alert("Plaese provide value in each input field")},className:"btn",id:"aSubmit",children:"Submit"})]})]})]})},QY=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1];MK("users",n);var i=localStorage.getItem("userId"),a=c((0,r.useState)(""),2),o=a[0],s=a[1],u=c((0,r.useState)(""),2),l=u[0],f=u[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=c((0,r.useState)(""),2),m=v[0],g=v[1],y=document.querySelectorAll(".editData input");function w(e){e===o?o?(Cw(bw(tK,"users/".concat(i)),{phonUser:o}).then((function(){alert("Profile Update Successfully")})),y.forEach((function(e){e.setAttribute("readOnly","readOnly")}))):alert("Plaese provide value in each input field"):e===l?o?(Cw(bw(tK,"users/".concat(i)),{cityUser:l}).then((function(){alert("Profile Update Successfully")})),y.forEach((function(e){e.setAttribute("readOnly","readOnly")}))):alert("Plaese provide value in each input field"):e===d?o?(Cw(bw(tK,"users/".concat(i)),{street:d}).then((function(){alert("Profile Update Successfully")})),y.forEach((function(e){e.setAttribute("readOnly","readOnly")}))):alert("Plaese provide value in each input field"):e===m&&(o?(Cw(bw(tK,"users/".concat(i)),{build:m}).then((function(){alert("Profile Update Successfully")})),y.forEach((function(e){e.setAttribute("readOnly","readOnly")}))):alert("Plaese provide value in each input field"))}var b=c((0,r.useState)(!1),2),k=b[0],_=b[1],x=function(){y.forEach((function(e){e.removeAttribute("readOnly")})),_(!k)};return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)(FY,{}),(0,nt.jsx)(lY,{children:(0,nt.jsx)("div",{className:"contprofile",children:null===t||void 0===t?void 0:t.filter((function(e,n){if(e.key===i)return t[n];console.log("error")})).map((function(e){return(0,nt.jsxs)("div",{className:"contDataUser",children:[(0,nt.jsx)("h2",{children:"My Profile"}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{children:"Full Name"}),(0,nt.jsx)("input",{value:e.userName})]}),(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{children:"Your Email"}),(0,nt.jsx)("input",{value:localStorage.getItem("emailGoogle")})]}),(0,nt.jsxs)("div",{className:"editData",children:[(0,nt.jsxs)(un,{children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"phone",children:"Phone Nambur"}),(0,nt.jsx)("input",{className:"phone",onChange:function(e){return s(e.target.value)},placeholder:e.phonUser,type:"Nambur",id:"phone",readOnly:!0})]}),k&&(0,nt.jsx)(vn,{onClick:function(){return w(o)},bsStyle:"warning",children:"Save Edit"})]}),(0,nt.jsxs)(un,{children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"city",children:"City"}),(0,nt.jsx)("input",{className:"city",onChange:function(e){return f(e.target.value)},placeholder:e.cityUser,type:"text",id:"city",readOnly:!0})]}),k&&(0,nt.jsx)(vn,{onClick:function(){return w(l)},bsStyle:"warning",children:"Save Edit"})]}),(0,nt.jsxs)(un,{children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"street",children:"Street"}),(0,nt.jsx)("input",{className:"street",onChange:function(e){return p(e.target.value)},placeholder:e.street,type:"text",id:"street",readOnly:!0})]}),k&&(0,nt.jsx)(vn,{onClick:function(){return w(d)},bsStyle:"warning",children:"Save Edit"})]}),(0,nt.jsxs)(un,{children:[(0,nt.jsxs)("div",{children:[(0,nt.jsx)("label",{htmlFor:"build",children:"Landmark\\build number"}),(0,nt.jsx)("input",{className:"build",onChange:function(e){return g(e.target.value)},placeholder:e.build,type:"text",id:"build",readOnly:!0})]}),k&&(0,nt.jsx)(vn,{onClick:function(){return w(m)},bsStyle:"warning",children:"Save Edit"})]})]}),(0,nt.jsx)(vn,{onClick:x,bsStyle:"success",children:"Edit My Profile"})]})}))})})]})},YY=function(){var e=localStorage.getItem("userId"),t=c((0,r.useState)(),2),n=t[0],i=t[1];MK("users/Basket/".concat(e),i);var a=[],o=0;!function(){null===n||void 0===n||n.map((function(e){return a.push(e.PriceAll)}));for(var e=0;e<a.length;e++)o+=a[e]}();var s=parseFloat(WY());return(0,nt.jsxs)("div",{className:"d-flex flex-column position-relative",children:[(0,nt.jsx)(FY,{}),(0,nt.jsxs)("table",{className:"orderTitle",children:[(0,nt.jsxs)("caption",{children:["invoice number : ",s]}),(0,nt.jsx)("thead",{children:(0,nt.jsxs)("tr",{children:[(0,nt.jsx)("td",{children:"Item"}),(0,nt.jsx)("td",{children:"Price"}),(0,nt.jsx)("td",{children:"Qtn"}),(0,nt.jsx)("td",{children:"Title"})]})}),null===n||void 0===n?void 0:n.map((function(e){return(0,nt.jsx)("tbody",{children:(0,nt.jsxs)("tr",{children:[(0,nt.jsx)("td",{children:e.name}),(0,nt.jsx)("td",{children:e.price}),(0,nt.jsx)("td",{children:e.qtn}),(0,nt.jsx)("td",{children:e.PriceAll})]})})})),(0,nt.jsx)("tfoot",{children:(0,nt.jsxs)("tr",{children:[(0,nt.jsx)("td",{colSpan:1,children:"All :"}),(0,nt.jsx)("td",{colSpan:2,children:" "}),(0,nt.jsxs)("td",{colSpan:1,children:[" ",o]})]})})]}),(0,nt.jsx)(vn,{className:"PaymentConfirmationBtn position-absolute ",variant:"success",children:"Payment ConfirmationBtn"})]})},ZY=function(){return null==localStorage.getItem("admin")&&null==localStorage.getItem("emailGoogle")?(0,nt.jsxs)(Le,{children:[(0,nt.jsx)(Oe,{exect:!0,path:"/",Component:BY}),(0,nt.jsx)(Oe,{path:"/login",Component:KY})]}):null!=localStorage.getItem("admin")?(0,nt.jsxs)(Le,{children:[(0,nt.jsx)(Oe,{exect:!0,path:"/",Component:BY}),(0,nt.jsx)(Oe,{path:"/editAdmin",Component:HY})]}):null!=localStorage.getItem("emailGoogle")?(0,nt.jsxs)(Le,{children:[(0,nt.jsx)(Oe,{exect:!0,path:"/",element:(0,nt.jsx)(BY,{})}),(0,nt.jsx)(Oe,{path:"/profileuser",Component:QY}),(0,nt.jsx)(Oe,{path:"/basket",element:(0,nt.jsx)(FK,{})}),(0,nt.jsx)(Oe,{path:"/orderConfirmation",Component:YY}),(0,nt.jsx)(Oe,{path:"/competeprofileuser",element:(0,nt.jsx)(GY,{})})]}):void 0};var XY=function(){return(0,nt.jsx)(Ue,{children:(0,nt.jsx)(ZY,{})})};n(613);i.createRoot(document.getElementById("root")).render((0,nt.jsx)(r.StrictMode,{children:(0,nt.jsx)(XY,{})}))}()}();
//# sourceMappingURL=main.b6e52a22.js.map